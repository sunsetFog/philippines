webpackJsonp([14],{"0yMb":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("pVTI"),i=s("vLgD"),n=s("zL8q"),r=s("Au9i"),c={data:function(){return{user:"",nickname:"",newpwd:"",pwd:"",proportion:"",day:"",reward:"",bonus:"",pickershow:!1,platdata:[],pei:"",id:""}},components:{otherheader:a.a},created:function(){var t=this;Object(i.a)({url:this.public.url+"/agentaccount/getsubquotas",method:"post",data:{}}).then(function(e){t.platdata=e.data}).catch(function(t){})},filters:{pei:function(t){return"-1"==t?"无限制":t}},computed:{datalist:function(){return[{flex:1,values:this.platdata,className:"slot1",textAlign:"center"}]}},methods:{select:function(){this.pickershow=!this.pickershow},valuechange:function(t,e){var s=this,a=this;this.proportion=e[0].reward,this.platdata.map(function(t){t.reward==s.proportion&&(a.pei=t.surplus_num)})},sure1:function(){this.pickershow=!this.pickershow},sure:function(){var t=this;return/[^A-z0-9]/.test(this.user)?(Object(r.Toast)({message:"用户名不能输入特殊字符！"}),void(t.user="")):/[^A-z0-9]/.test(this.pwd)?(Object(r.Toast)({message:"登陆密码不能输入特殊字符！"}),void(t.pwd="")):/[^A-z0-9]/.test(this.newpwd)?(Object(r.Toast)({message:"确认密码不能输入特殊字符！"}),void(t.newpwd="")):void(""!==this.user?this.user.length<4?Object(r.Toast)({message:"请输入4~10字符的用户名"}):""!==this.nickname?""!==this.pwd?""!==this.newpwd?this.pwd.length<6||this.newpwd.length<6?Object(r.Toast)({message:"请输入6~12的密码"}):this.pwd==this.newpwd?""!==this.proportion?Object(i.a)({url:this.public.url+"/agentaccount/register",method:"post",data:{login_name:this.user,nickname:this.nickname,login_pwd:this.pwd,confirm_pwd:this.newpwd,reward_team:this.proportion,quota_num:this.pei}}).then(function(e){document.body.offsetWidth>768?Object(n.Message)({message:e.message,type:"success"}):Object(r.Toast)({message:e.message}),t.$router.go(-1)}).catch(function(t){}):Object(r.Toast)({message:"请输入代理税收"}):Object(r.Toast)({message:"登陆密码与确认密码不一致"}):Object(r.Toast)({message:"请输入确认密码"}):Object(r.Toast)({message:"请输入密码"}):Object(r.Toast)({message:"请输入昵称"}):Object(r.Toast)({message:"请输入用户名"}))}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container lowerlevel"},[s("otherheader",{attrs:{title:"下级注册"}}),t._v(" "),s("div",{staticClass:"card"},[s("mt-field",{attrs:{label:"用户名",attr:{maxlength:10},placeholder:"请输入用户名"},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),t._v(" "),s("mt-field",{attrs:{label:"昵称",attr:{maxlength:6},placeholder:"请输入昵称"},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}}),t._v(" "),s("mt-field",{attrs:{label:"登录密码",attr:{maxlength:12},placeholder:"请输入密码",type:"password"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),t._v(" "),s("mt-field",{attrs:{label:"确认密码",attr:{maxlength:12},placeholder:"请再输入一次密码",type:"password"},model:{value:t.newpwd,callback:function(e){t.newpwd=e},expression:"newpwd"}})],1),t._v(" "),s("div",{staticClass:"card"},[s("mt-cell",{attrs:{title:"剩余配额:"}},[s("span",{staticClass:"mark"},[t._v(t._s(t._f("pei")(t.pei)))])]),t._v(" "),s("mt-cell",{attrs:{title:"代理税收:"}},[s("span",{staticClass:"mark"},[t._v(t._s(t.proportion))]),t._v(" "),s("span",{staticClass:"all_palm",on:{click:function(e){t.select()}}},[t._v("请选择")])]),t._v(" "),s("div",[t.pickershow?s("mt-cell",{attrs:{title:""}},[s("span",{staticClass:"all_palm",on:{click:t.sure1}},[t._v("确定")])]):t._e(),t._v(" "),t.pickershow?s("mt-picker",{attrs:{slots:t.datalist,valueKey:"reward",itemHeight:80,"show-toolbar":!0},on:{change:t.valuechange}}):t._e()],1)],1),t._v(" "),s("div",{staticClass:"card"},[s("mt-button",{staticClass:"all_palm",attrs:{type:"primary",size:"large"},on:{click:t.sure}},[t._v("注册用户")])],1)],1)},staticRenderFns:[]};var l=s("VU/8")(c,o,!1,function(t){s("1xIv")},null,null);e.default=l.exports},"1xIv":function(t,e){}});