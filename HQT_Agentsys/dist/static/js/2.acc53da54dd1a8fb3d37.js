webpackJsonp([2],{"/yjz":function(e,t){},"04VJ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),o=a.n(r),s=a("vLgD"),n=a("zL8q"),i=a("Au9i"),d={data:function(){return{form:{cardholder:"",cardno:"",money_pwd:"",bind_cardno:""},id:"",name:""}},created:function(){if(this.$route.query&&this.$route.query.id&&(this.id=this.$route.query.id),this.$route.query&&this.$route.query.form){var e=JSON.parse(this.$route.query.form);this.form=e}this.$route.query&&this.$route.query.name&&(this.name=this.$route.query.name)},methods:{validatSpecial:function(e){var t=new RegExp("[\\+,\\/,\\\\,\\?,\\？,\\%,\\#,\\&,\\=,\\(,\\),\\（,\\）,\\{,\\},\\',\\\",\\<,\\>,\\@,\\!,\\！,\\$,\\.,\\，,\\、,\\:,\\：,\\;,\\；,\\￥,\\*,\\~,\\`,\\-,\\——,\\_,\\^,\\“,\\”,\\‘,\\’,\\……,\\【,\\】,\\[,\\],\\,]","gm");return t.test(e)?(Object(i.Toast)({message:"不能输入特殊字符！"}),{state:!0,value:e.replace(t,"")}):{state:!1,value:""}},sure:function(){var e=this;if(""!==this.form.cardholder)if(e.validatSpecial(e.form.cardholder).state)e.form.cardholder="";else if(e.form.cardno.length<16)Object(i.Toast)({message:"请输入16到19位数字组成的卡号"});else{if(/[^\d]/g.test(e.form.cardno))return null!=e.form.cardno.match(/[^\d]/g)&&Object(i.Toast)({message:"请输入数字的银行卡号！"}),void(e.form.cardno="");if(""!=e.form.money_pwd)if(6==e.form.money_pwd.length){if(/[^\d]/g.test(e.form.money_pwd))return null!=e.form.money_pwd.match(/[^\d]/g)&&Object(i.Toast)({message:"请输入6位数字的资金密码！"}),void(e.form.money_pwd="");if(""!==this.id)return/[^\d]/g.test(e.form.bind_cardno)?(null!=e.form.bind_cardno.match(/[^\d]/g)&&Object(i.Toast)({message:"请输入数字的旧银行卡号！"}),void(e.form.bind_cardno="")):void Object(s.a)({url:this.public.url+"/bank/add",method:"post",data:{cardholder:this.form.cardholder,cardno:this.form.cardno,money_pwd:this.form.money_pwd,bind_cardno:this.form.bind_cardno,bankid:this.id}}).then(function(t){document.body.offsetWidth>768?Object(n.Message)({message:t.message,type:"success"}):Object(i.Toast)({message:t.message}),e.$router.push({path:"/bankcard"})}).catch(function(e){});Object(i.Toast)({message:"请选择银行名称"})}else Object(i.Toast)({message:"请输入6位数字的资金密码"});else Object(i.Toast)({message:"请输入资金密码"})}else Object(i.Toast)({message:"请填写开户人"})},back:function(){this.$router.push({path:"/bankcard"})},bankradio:function(){var e=o()(this.form);this.$router.push({path:"/bankradio",query:{form:e}})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("mt-header",{attrs:{title:"银行卡管理"}},[a("mt-button",{staticClass:"all_palm",attrs:{slot:"left"},on:{click:e.back},slot:"left"},[a("i",{staticClass:"mintui mintui-back"})])],1),e._v(" "),a("div",{staticClass:"card"},[a("mt-field",{attrs:{label:"开户人",attr:{maxlength:10},placeholder:"中文或英文"},model:{value:e.form.cardholder,callback:function(t){e.$set(e.form,"cardholder",t)},expression:"form.cardholder"}}),e._v(" "),a("mt-field",{attrs:{label:"银行卡号",attr:{maxlength:19},placeholder:"卡号16到19位数字组成"},model:{value:e.form.cardno,callback:function(t){e.$set(e.form,"cardno",t)},expression:"form.cardno"}}),e._v(" "),a("mt-field",{attrs:{label:"资金密码",attr:{maxlength:6},placeholder:"请输入6位数字的资金密码",type:"password"},model:{value:e.form.money_pwd,callback:function(t){e.$set(e.form,"money_pwd",t)},expression:"form.money_pwd"}}),e._v(" "),a("mt-field",{attrs:{label:"银行名称",placeholder:"请选择银行名称",disabled:!1},nativeOn:{"!focus":function(t){return e.bankradio(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("mt-field",{attrs:{label:"银行卡号",attr:{maxlength:19},placeholder:"曾绑定的卡(首次可不填)"},model:{value:e.form.bind_cardno,callback:function(t){e.$set(e.form,"bind_cardno",t)},expression:"form.bind_cardno"}})],1),e._v(" "),a("div",{staticClass:"card"},[a("mt-button",{staticClass:"all_palm",attrs:{type:"primary",size:"large"},on:{click:e.sure}},[e._v("添加")])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(d,l,!1,function(e){a("/yjz")},null,null);t.default=c.exports},mvHQ:function(e,t,a){e.exports={default:a("qkKv"),__esModule:!0}},qkKv:function(e,t,a){var r=a("FeBl"),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}}});