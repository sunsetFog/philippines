(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0dbc"],{"3tMI":function(e,t,a){},qQBd:function(e,t,a){"use strict";a.r(t);var n=a("QbLZ"),l=a.n(n),r=a("L2JU"),i=a("t3Un");function o(e,t,a,n,l,r){Object(i.a)({url:e.public.url+"/paychannelbank/getlist",method:"post",data:{status:r,pageno:a,pagerows:n,paymode_id:t,channel_id:l}}).then(function(t){e.tableData=t.data.list,e.total=1*t.data.rownum,e.currentPage=1*t.data.pageno}).catch(function(e){})}var s={data:function(){return{formInline:{name:"",type:"",status:""},currentPage:1,allname:[],tableData:[],dialogFormVisible:!1,id:"",bankname:[],form:{key:"",web:"",name:"",code:"",ident:"",day:"",min:"",max:"",rate:"",plarate:"",sort:"",status:"1"},type:[{name:"银行支付",type:"10"},{name:"支付宝支付",type:"20"},{name:"微信支付",type:"30"},{name:"其他支付",type:"40"}],list:[{name:"启用",type:"1"},{name:"禁用",type:"0"}],rules:{status:[{required:!0,message:"请选择状态",trigger:"change"}],key:[{required:!0,message:"请选择充值来源",trigger:"change"}],web:[{required:!0,message:"请选择前端分类",trigger:"change"}],name:[{required:!0,message:"请选择银行名称",trigger:"change"}],day:[{required:!1,validator:function(e,t,a){""===t?a(new Error("输入不能为空")):/^[1-9]\d*$|^[1-9]\d*\.\d\d?$|^0\.\d\d?$/.test(t)||"0"==t?a():a(new Error("保留两位小数"))},trigger:"blur"}],code:[{required:!0,message:"请输入银行代码",trigger:"blur"}],min:[{required:!0,message:"请输入最低限额",trigger:"blur"}],max:[{required:!0,message:"请输入最高限额",trigger:"blur"}],rate:[{required:!0,message:"请输入充值渠道费率",trigger:"blur"}],plarate:[{required:!0,message:"请输入平台支付费率",trigger:"blur"}],sort:[{required:!0,validator:function(e,t,a){""===t?a(new Error("输入不能为空")):1*t<0||1*t>100||t.indexOf(".")>0?a(new Error("请输入0到100的整数")):a()},trigger:"blur"}]},nowid:"",formLabelWidth:"150px",title:"",name:"",total:0,pagesize:50,allpaymode:[]}},created:function(){!function(e){Object(i.a)({url:e.public.url+"/paychannel/getbankname",method:"post",data:{}}).then(function(t){e.bankname=t.data}).catch(function(e){})}(this),function(e){Object(i.a)({url:e.public.url+"/paychannel/getallnames",method:"post",data:{}}).then(function(t){e.allname=t.data}).catch(function(e){})}(this),function(e){Object(i.a)({url:e.public.url+"/paychannel/getallpaymode",method:"post",data:{}}).then(function(t){e.allpaymode=t.data}).catch(function(e){})}(this);this.chant.length||0==this.chant.length||(this.formInline.type=this.chant.type,this.currentPage=this.chant.currentPage,this.pagesize=this.chant.pagesize,this.formInline.name=this.chant.name,this.formInline.status=this.chant.status,o(this,this.formInline.type,this.currentPage,this.pagesize,this.formInline.name,this.formInline.status))},computed:l()({},Object(r.b)(["paychanneladdchannelbank","paychanneldelchannelbank","paychannelupdatechannelbank","paychannelgetlistchannelbank","paychannelbankupdatestatus","chant"])),methods:{reset:function(e){this.dialogFormVisible=!1,this.$refs.form.resetFields()},back:function(){this.$router.push({path:"/rewithmgr/paychannel"})},query:function(){this.currentPage=1,o(this,this.formInline.type,this.currentPage,this.pagesize,this.formInline.name,this.formInline.status);var e={type:this.formInline.type,currentPage:this.currentPage,pagesize:this.pagesize,name:this.formInline.name,status:this.formInline.status};this.$store.commit("setchant",e)},cell:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 11===a&&"1"===t.status?"green":11===a&&"0"===t.status?"red":void 0},edit:function(e){this.title="编辑充值银行列表",this.dialogFormVisible=!0,this.nowid=e.id;var t=this;Object(i.a)({url:t.public.url+"/paychannelbank/getinfo",method:"post",data:{id:e.id}}).then(function(e){t.form.key=e.data.channel_id,t.form.web=e.data.paymode_id,t.form.name=e.data.name,t.form.code=e.data.code,t.form.ident=e.data.financial_ident,t.form.day=e.data.day_in_max_limit,t.form.min=e.data.one_in_min_limit,t.form.max=e.data.one_in_max_limit,t.form.rate=e.data.cha_broker_rate,t.form.plarate=e.data.pla_broker_rate,t.form.sort=e.data.sortid,t.form.status=e.data.status}).catch(function(e){})},add:function(){this.title="新增充值银行列表",this.dialogFormVisible=!0},sure:function(e){var t=this,a=this;this.$refs.form.validate(function(e){if(!e)return!1;"编辑充值银行列表"===t.title?Object(i.a)({url:a.public.url+"/paychannelbank/update",method:"post",data:{channel_id:a.form.key,paymode_id:a.form.web,name:a.form.name,code:a.form.code,financial_ident:a.form.ident,day_in_max_limit:a.form.day,one_in_min_limit:a.form.min,one_in_max_limit:a.form.max,cha_broker_rate:a.form.rate,pla_broker_rate:a.form.plarate,sortid:a.form.sort,status:a.form.status,id:t.nowid}}).then(function(e){a.$message({type:"success",message:e.message}),a.dialogFormVisible=!1,a.$refs.form.resetFields(),o(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.status)}).catch(function(e){}):Object(i.a)({url:a.public.url+"/paychannelbank/add",method:"post",data:{channel_id:a.form.key,paymode_id:a.form.web,name:a.form.name,code:a.form.code,financial_ident:a.form.ident,day_in_max_limit:a.form.day,one_in_min_limit:a.form.min,one_in_max_limit:a.form.max,cha_broker_rate:a.form.rate,pla_broker_rate:a.form.plarate,sortid:a.form.sort,status:a.form.status}}).then(function(e){a.$message({type:"success",message:e.message}),a.dialogFormVisible=!1,a.$refs.form.resetFields(),o(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.status)}).catch(function(e){})})},delet:function(e){var t=this,a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(i.a)({url:a.public.url+"/paychannelbank/del",method:"post",data:{id:e.id}}).then(function(e){t.$message({type:"success",message:e.message}),o(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.status)}).catch(function(e){})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},up:function(e){var t=this,a=this;this.$confirm("此操作将启用该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(i.a)({url:a.public.url+"/paychannelbank/updatestatus",method:"post",data:{id:e.id,status:1}}).then(function(e){t.$message({type:"success",message:e.message}),o(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.status)}).catch(function(e){})}).catch(function(){t.$message({type:"info",message:"已取消启用"})})},down:function(e){var t=this,a=this;this.$confirm("此操作将禁用该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(i.a)({url:a.public.url+"/paychannelbank/updatestatus",method:"post",data:{id:e.id,status:0}}).then(function(e){t.$message({type:"success",message:e.message}),o(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.status)}).catch(function(e){})}).catch(function(){t.$message({type:"info",message:"已取消禁用"})})},handleSizeChange:function(e){this.pagesize=e,this.currentPage=1,o(this,this.formInline.type,this.currentPage,this.pagesize,this.formInline.name,this.formInline.status);var t={type:that.formInline.type,currentPage:that.currentPage,pagesize:that.pagesize,name:that.formInline.name,status:that.formInline.status};this.$store.commit("setchant",t)},handleCurrentChange:function(e){this.currentPage=1*e,o(this,this.formInline.type,this.currentPage,this.pagesize,this.formInline.name,this.formInline.status);var t={type:that.formInline.type,currentPage:that.currentPage,pagesize:that.pagesize,name:that.formInline.name,status:that.formInline.status};this.$store.commit("setchant",t)}},filters:{status:function(e){return"1"===e?"启用":"0"===e?"禁用":void 0}}},c=(a("zWFd"),a("KHd+")),m=Object(c.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"80px"}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info",round:""},on:{click:e.back}},[e._v("返回 ")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[e.paychanneladdchannelbank?a("el-button",{attrs:{type:"info",round:""},on:{click:e.add}},[e._v("新增 + ")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"充值来源"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}},e._l(e.allname,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"充值方式"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},e._l(e.type,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.list,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e.paychannelgetlistchannelbank?a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")]):e._e()],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"cell-class-name":e.cell,border:""}},[a("el-table-column",{attrs:{width:"50",prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{width:"180",prop:"create_time",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channel_name",label:"充值来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"paymodel_name",label:"前端分类"}}),e._v(" "),a("el-table-column",{attrs:{label:"银行名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"银行代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"financial_ident",label:"财务识别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"day_in_max_limit",label:"单日限额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cha_broker_rate",label:"玩家手续费费率"}}),e._v(" "),a("el-table-column",{attrs:{label:"最低限额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.one_in_min_limit)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"one_in_max_limit",label:"最高限额"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("status")(t.row.status))+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"sortid",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.paychannelupdatechannelbank?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]):e._e(),e._v(" "),e.paychanneldelchannelbank?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delet(t.row)}}},[e._v("删除")]):e._e(),e._v(" "),e.paychannelbankupdatestatus&&"0"===t.row.status?a("el-button",{staticClass:"green",attrs:{type:"text",size:"small"},on:{click:function(a){e.up(t.row)}}},[e._v("启用")]):e._e(),e._v(" "),e.paychannelbankupdatestatus&&"1"===t.row.status?a("el-button",{staticClass:"red",attrs:{type:"text",size:"small"},on:{click:function(a){e.down(t.row)}}},[e._v("禁用")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[50,100,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"before-close":e.reset},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"充值来源","label-width":e.formLabelWidth,prop:"key"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择充值来源"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}},e._l(e.allname,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"前端分类","label-width":e.formLabelWidth,prop:"web"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择前端的充值方式"},model:{value:e.form.web,callback:function(t){e.$set(e.form,"web",t)},expression:"form.web"}},e._l(e.allpaymode,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"银行名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},e._l(e.bankname,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"银行代码","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{attrs:{placeholder:"请按技术需求填写"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"财务识别","label-width":e.formLabelWidth,prop:"ident"}},[a("el-input",{attrs:{placeholder:"财务识别"},model:{value:e.form.ident,callback:function(t){e.$set(e.form,"ident",t)},expression:"form.ident"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单日限额","label-width":e.formLabelWidth,prop:"day"}},[a("el-input",{attrs:{placeholder:"精确至分，单个银行的每日限额"},model:{value:e.form.day,callback:function(t){e.$set(e.form,"day",t)},expression:"form.day"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最低限额","label-width":e.formLabelWidth,prop:"min"}},[a("el-input",{attrs:{placeholder:"精确至分"},model:{value:e.form.min,callback:function(t){e.$set(e.form,"min",t)},expression:"form.min"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最高限额","label-width":e.formLabelWidth,prop:"max"}},[a("el-input",{attrs:{placeholder:"精确至分"},model:{value:e.form.max,callback:function(t){e.$set(e.form,"max",t)},expression:"form.max"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"充值渠道费率","label-width":e.formLabelWidth,prop:"rate"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"精确到小数点后二位"},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}}),a("span",[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"平台支付费率","label-width":e.formLabelWidth,prop:"plarate"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"精确到小数点后二位"},model:{value:e.form.plarate,callback:function(t){e.$set(e.form,"plarate",t)},expression:"form.plarate"}}),a("span",[e._v("%")])],1),e._v(" "),a("el-form-item",{attrs:{label:"排序","label-width":e.formLabelWidth,prop:"sort"}},[a("el-input",{attrs:{placeholder:"0-100,整数"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"status"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.list,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.reset(e.form)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure(e.form)}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null);m.options.__file="chant.vue";t.default=m.exports},zWFd:function(e,t,a){"use strict";var n=a("3tMI");a.n(n).a}}]);