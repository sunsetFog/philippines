(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0f1b"],{B124:function(t,e,a){},KAZY:function(t,e,a){"use strict";var n=a("B124");a.n(n).a},Nij3:function(t,e,a){"use strict";a.r(e);var n=a("QbLZ"),o=a.n(n),r=a("L2JU"),i=a("t3Un");a("Yfch");function c(t,e,a){Object(i.a)({url:t.public.url+"/backend/accountcommnav/getList",method:"post",data:{pageno:e,pagerows:a}}).then(function(e){t.tableData=e.data.list,t.total=1*e.data.rownum,t.currentPage=1*e.data.pageno}).catch(function(t){})}var l={filters:{},data:function(){return{currentPage:1,tableData:[],userlist:[],list:[],dialogFormVisible:!1,form:{name:"",controller:"",action:"index"},rules:{name:[{required:!0,message:"请选择名称",trigger:"change"}],controller:[{required:!0,message:"请选择控制器名称",trigger:"change"}],action:[{required:!0,message:"请选择方法名称",trigger:"change"}]},formLabelWidth:"150px",title:"",name:"",total:0,pagesize:50}},created:function(){this.currentPage=1,function(t){Object(i.a)({url:t.public.url+"/backend/accountcommnav/getmodules",method:"post",data:{}}).then(function(e){t.list=e.data}).catch(function(t){})}(this),c(this,this.currentPage,this.pagesize)},computed:o()({},Object(r.b)(["accountcommnavadd","accountcommnavdel","accountcommnavupdate"])),methods:{reset:function(t){this.dialogFormVisible=!1,this.$refs.form.resetFields()},namechange:function(){var t=this;this.list.map(function(e){e.name===t.form.name&&(t.form.controller=e.controller)})},edit:function(t){this.title="编辑公共导航",this.dialogFormVisible=!0;var e=this;Object(i.a)({url:e.public.url+"/backend/accountcommnav/getinfo",method:"post",data:{id:t.id}}).then(function(t){e.form.name=t.data.menu_name,e.form.controller=t.data.controller,e.form.action=t.data.action,e.id=t.data.id}).catch(function(t){})},add:function(){this.title="新增公共导航",this.dialogFormVisible=!0},sure:function(t){var e=this,a=this;this.$refs.form.validate(function(t){if(!t)return!1;"编辑公共导航"===e.title?Object(i.a)({url:a.public.url+"/backend/accountcommnav/update",method:"post",data:{menu_name:e.form.name,controller:e.form.controller,action:e.form.action,id:e.id}}).then(function(t){a.dialogFormVisible=!1,a.$refs.form.resetFields(),c(a,a.currentPage,a.pagesize)}).catch(function(t){}):Object(i.a)({url:a.public.url+"/backend/accountcommnav/add",method:"post",data:{menu_name:e.form.name,controller:e.form.controller,action:e.form.action}}).then(function(t){a.dialogFormVisible=!1,a.$refs.form.resetFields(),c(a,a.currentPage,a.pagesize)}).catch(function(t){})})},delet:function(t){var e=this,a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(i.a)({url:a.public.url+"/backend/accountcommnav/del",method:"post",data:{id:t.id}}).then(function(t){c(a,a.currentPage,a.pagesize)}).catch(function(t){})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(t){this.pagesize=t,this.currentPage=1,c(this,this.currentPage,this.pagesize)},handleCurrentChange:function(t){this.currentPage=1*t,c(this,this.currentPage,this.pagesize)}}},s=(a("KAZY"),a("KHd+")),u=Object(s.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"80px"}},[a("el-col",{attrs:{span:2}},[t.accountcommnavadd?a("el-button",{attrs:{type:"info",round:""},on:{click:t.add}},[t._v("新增 + ")]):t._e()],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pagesize,background:"",layout:"prev, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"记录id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"menu_name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"controller",label:"控制器名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"action",label:"方法名称"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.accountcommnavupdate?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),t.accountcommnavdel?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.delet(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[50,100,200],"page-size":t.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible,"before-close":t.reset},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-select",{attrs:{filterable:"",clearable:""},on:{change:t.namechange},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.list,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"控制器","label-width":t.formLabelWidth,prop:"controller"}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.controller,callback:function(e){t.$set(t.form,"controller",e)},expression:"form.controller"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"方法","label-width":t.formLabelWidth,prop:"action"}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.action,callback:function(e){t.$set(t.form,"action",e)},expression:"form.action"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.reset(t.form)}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sure(t.form)}}},[t._v("确 定")])],1)],1)],1)},[],!1,null,null,null);u.options.__file="accountcommnav.vue";e.default=u.exports},Yfch:function(t,e,a){"use strict";function n(t){return/^[a-zA-Z_]\w{2,17}$/.test(t)}function o(t){return/^[A-Za-z]+$/.test(t)}function r(t){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/.test(t)}a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o}),a.d(e,"c",function(){return r})}}]);