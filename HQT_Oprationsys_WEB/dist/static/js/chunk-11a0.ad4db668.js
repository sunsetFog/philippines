(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-11a0"],{"1DCC":function(e,t,n){},Xrog:function(e,t,n){"use strict";var a=n("1DCC");n.n(a).a},zf9D:function(e,t,n){"use strict";n.r(t);var a=n("QbLZ"),i=n.n(a),l=n("t3Un"),o=n("L2JU");function r(e){e.loading=!0;var t={device_id:e.formInline.device_id,agent_org_id:e.formInline.agent_org_id,device_brand:e.formInline.device_brand,act_code:e.formInline.act_code,act_begin_time:"",act_end_time:"",act_time_len:e.formInline.act_time_len,sign:e.formInline.consume_sign,export:"",pageno:e.currentPage,limit:e.pagesize};if(e.formInline.operation_time[0]){var n=e.formInline.operation_time[0].getTime()/1e3;t.act_begin_time=c(n)}if(e.formInline.operation_time[1]){var a=e.formInline.operation_time[1].getTime()/1e3;t.act_end_time=c(a)}Object(l.a)({url:e.public.url+"/backend/gamefunwork/getlist",method:"post",data:t}).then(function(t){e.loading=!1,e.tableData=t.data.list,e.total=Number(t.data.rownum),e.currentPage=Number(t.data.pageno)}).catch(function(e){})}function c(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var s={name:"downloadAnalysis",data:function(){return{formInline:{device_id:"",agent_org_id:"",device_brand:"",act_code:"",operation_time:[],act_time_len:"",consume_sign:""},orglist:[],currentPage:1,total:0,pagesize:20,tableData:[],loading:!1,behavior_list:[],consume_list:[{id:"<",name:"小于"},{id:">",name:"大于"}],expands:[],getrowkey:function(e){return e.id}}},created:function(){!function(e){Object(l.a)({url:e.public.url+"/backend/gamefunwork/getfuncode",method:"post",data:{}}).then(function(t){e.behavior_list=t.data}).catch(function(e){})}(this),function(e){Object(l.a)({url:e.public.url+"/backend/org/getorglist",method:"post",data:{}}).then(function(t){e.orglist=t.data}).catch(function(e){})}(this),this.downloadgetter.length||0==this.downloadgetter.length||(this.formInline.device_id=this.downloadgetter.device_id,this.formInline.agent_org_id=this.downloadgetter.agent_org_id,this.formInline.device_brand=this.downloadgetter.device_brand,this.formInline.act_code=this.downloadgetter.act_code,this.formInline.operation_time=this.downloadgetter.operation_time,this.formInline.act_time_len=this.downloadgetter.act_time_len,this.formInline.consume_sign=this.downloadgetter.sign,this.currentPage=this.downloadgetter.currentPage,this.pagesize=this.downloadgetter.pagesize,r(this))},computed:i()({},Object(o.b)(["analysisdownloadquery","analysisdownloadexcel","downloadgetter"])),methods:{query:function(){this.currentPage=1,r(this),this.commitDownload()},pickerChange:function(e){},handleSizeChange:function(e){this.pagesize=e,this.currentPage=1,r(this),this.commitDownload()},handleCurrentChange:function(e){this.currentPage=Number(e),r(this),this.commitDownload()},commitDownload:function(){var e={device_id:this.formInline.device_id,agent_org_id:this.formInline.agent_org_id,device_brand:this.formInline.device_brand,act_code:this.formInline.act_code,operation_time:this.formInline.operation_time,act_time_len:this.formInline.act_time_len,sign:this.formInline.consume_sign,export:"",currentPage:this.currentPage,pagesize:this.pagesize};this.$store.commit("setdownload",e)},cellTable:function(e){e.row,e.column,e.rowIndex,e.columnIndex},changeTable:function(e,t){this.expands=[]},excel:function(){var e=this,t=this,n={device_id:t.formInline.device_id,agent_org_id:t.formInline.agent_org_id,device_brand:t.formInline.device_brand,act_code:t.formInline.act_code,act_begin_time:"",act_end_time:"",act_time_len:t.formInline.act_time_len,sign:t.formInline.consume_sign,export:1,pageno:t.currentPage,limit:t.pagesize};if(t.formInline.operation_time[0]){var a=t.formInline.operation_time[0].getTime()/1e3;n.act_begin_time=c(a)}if(t.formInline.operation_time[1]){var i=t.formInline.operation_time[1].getTime()/1e3;n.act_end_time=c(i)}Object(l.a)({url:t.public.url+"/backend/gamefunwork/getlist",method:"post",data:n}).then(function(n){"string"==typeof n.data&&""!=n.data?window.location.href=t.public.url+n.data:e.$message.info("没数据可以导出！")}).catch(function(e){})}}},d=(n("Xrog"),n("KHd+")),m=Object(d.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container mail",attrs:{id:"downloadAnalysis"}},[n("div",{staticClass:"query"},[n("el-row",[n("el-form",{attrs:{inline:!0}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"设备ID","label-width":"70px"}},[n("el-input",{attrs:{maxlength:"40",placeholder:"请输入设备ID",clearable:""},model:{value:e.formInline.device_id,callback:function(t){e.$set(e.formInline,"device_id","string"==typeof t?t.trim():t)},expression:"formInline.device_id"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"渠道","label-width":"70px"}},[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.agent_org_id,callback:function(t){e.$set(e.formInline,"agent_org_id",t)},expression:"formInline.agent_org_id"}},e._l(e.orglist,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"手机品牌","label-width":"70px"}},[n("el-input",{attrs:{maxlength:"20",placeholder:"请输入手机品牌",clearable:""},model:{value:e.formInline.device_brand,callback:function(t){e.$set(e.formInline,"device_brand","string"==typeof t?t.trim():t)},expression:"formInline.device_brand"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"游戏行为","label-width":"70px"}},[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.act_code,callback:function(t){e.$set(e.formInline,"act_code",t)},expression:"formInline.act_code"}},e._l(e.behavior_list,function(e){return n("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1)],1)],1)],1),e._v(" "),n("el-row",[n("el-form",{attrs:{inline:!0,"label-width":"70px"}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"操作时间","label-width":"70px"}},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.pickerChange},model:{value:e.formInline.operation_time,callback:function(t){e.$set(e.formInline,"operation_time",t)},expression:"formInline.operation_time"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:10}},[n("el-form-item",{attrs:{label:"消耗时长","label-width":"70px"}},[n("el-select",{staticStyle:{width:"40%"},attrs:{filterable:"",clearable:""},model:{value:e.formInline.consume_sign,callback:function(t){e.$set(e.formInline,"consume_sign",t)},expression:"formInline.consume_sign"}},e._l(e.consume_list,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),n("el-input",{staticStyle:{width:"40%"},attrs:{maxlength:"10",placeholder:"请输入时长",clearable:""},model:{value:e.formInline.act_time_len,callback:function(t){e.$set(e.formInline,"act_time_len",t)},expression:"formInline.act_time_len"}}),e._v("秒\n            ")],1)],1),e._v(" "),n("el-col",{attrs:{span:2}},[e.analysisdownloadquery?n("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:e.loading},on:{click:e.query}},[e._v("查询")]):e._e()],1),e._v(" "),n("el-col",{attrs:{span:2}},[e.analysisdownloadexcel?n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.excel()}}},[e._v("导出excel")]):e._e()],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"pagingbox"},[n("div",{staticClass:"paging"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":e.getrowkey,"expand-row-keys":e.expands,"cell-class-name":e.cellTable,border:""},on:{"expand-change":e.changeTable}},[n("el-table-column",{attrs:{prop:"act_end_time",label:"操作时间"}}),e._v(" "),n("el-table-column",{attrs:{prop:"device_id",label:"设备ID"}}),e._v(" "),n("el-table-column",{attrs:{prop:"device_brand",label:"手机品牌"}}),e._v(" "),n("el-table-column",{attrs:{prop:"device_model",label:"设备型号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"device_os",label:"手机操作系统"}}),e._v(" "),n("el-table-column",{attrs:{prop:"device_memory",label:"手机内存"}}),e._v(" "),n("el-table-column",{attrs:{prop:"org_name",label:"渠道"}}),e._v(" "),n("el-table-column",{attrs:{prop:"ip",label:"IP地址"}}),e._v(" "),n("el-table-column",{attrs:{prop:"ip_city",label:"网络接入地"}}),e._v(" "),n("el-table-column",{attrs:{prop:"act_name",label:"游戏行为"}}),e._v(" "),n("el-table-column",{attrs:{prop:"act_time_len",label:"消耗时长(秒)"}})],1),e._v(" "),n("div",{staticClass:"pagingbox"},[n("div",{staticClass:"paging"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,50,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)])],1)},[],!1,null,null,null);m.options.__file="downloadAnalysis.vue";t.default=m.exports}}]);