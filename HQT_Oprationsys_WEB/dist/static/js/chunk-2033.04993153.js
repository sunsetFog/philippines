(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2033"],{"/AuF":function(e,t,r){},Yfch:function(e,t,r){"use strict";function a(e){return/^[a-zA-Z_]\w{2,17}$/.test(e)}function i(e){return/^[A-Za-z]+$/.test(e)}function l(e){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/.test(e)}function n(e){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{0,20}$/.test(e)}r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return n})},"hZx+":function(e,t,r){"use strict";r.r(t);var a=r("QbLZ"),i=r.n(a),l=r("L2JU"),n=r("t3Un");r("Yfch");var o={data:function(){return{formInline:{name:"",nickname:""},flag:!0,currentPage:1,tableData:[],userlist:[],dialogFormVisible:!0,form:{id:"",name:"",pwd:"",nickname:"",wages:"",bonus:"",desc:"",status:"真实总代"},statuslist:[{id:"0",name:"真实总代"},{id:"1",name:"虚拟总代"},{id:"2",name:"虚拟代理"}],rules:{status:[{required:!0,message:"请选择总代类型",trigger:"change"}],id:[{required:!0,message:"请选择玩家渠道",trigger:"change"}],name:[{required:!0,message:"请输入登录账号",trigger:"blur"},{min:6,max:12,message:"长度在6到12个字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:12,message:"长度在6到12个字符",trigger:"blur"}],nickname:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入昵称")):function(e){for(var t=e.trim(),r=0,a=0;a<t.length;a++){var i=t[a];/[^\x00-\xff]/g.test(i)?r+=2:r++}return r}(t)>12?r(new Error("最大长度为6个汉字或12个字节长度的字母或数字")):r()},trigger:"blur"}],wages:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入日工资")):1*t<0?r(new Error("分红为日工资")):r()},trigger:"blur"}],bonus:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入分红")):1*t<0?r(new Error("分红为正数")):r()},trigger:"blur"}]},formLabelWidth:"150px",title:"",name:"",total:0,pagesize:20,dialogFormVisible2:!1}},created:function(){!function(e){Object(n.a)({url:e.public.url+"/backend/org/getorglist",method:"post"}).then(function(t){e.userlist=t.data}).catch(function(e){})}(this)},computed:i()({},Object(l.b)(["agentaccountadd"])),watch:{"form.status":function(e){"真实总代"==e&&(this.flag=!0),"虚拟总代"==e&&(this.flag=!1,this.form.nickname="",this.form.pwd=""),"虚拟代理"==e&&(this.flag=!1,this.form.nickname="",this.form.pwd="")}},methods:{reset:function(e){this.dialogFormVisible=!1,this.$refs.form.resetFields()},sure:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.dialogFormVisible2=!0})},reset2:function(){this.dialogFormVisible2=!1},sure2:function(e){var t=this,r=this,a="",i="";this.userlist.map(function(e){e.name===t.form.id&&(a=e.id)}),this.statuslist.map(function(e){e.name===t.form.status&&(i=e.id)}),Object(n.a)({url:r.public.url+"/backend/agentaccount/add",method:"post",data:{org_id:a,type:i,login_name:this.form.name,login_pwd:this.form.pwd,nickname:this.form.nickname}}).then(function(e){r.$message.success(e.message),r.dialogFormVisible2=!1,r.$refs.form.resetFields()}).catch(function(e){})}},filters:{}},s=(r("pgHZ"),r("KHd+")),u=Object(s.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"addaccount"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"总代类型","label-width":e.formLabelWidth,prop:"status"}},[r("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择总代类型"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statuslist,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"玩家渠道","label-width":e.formLabelWidth,prop:"id"}},[r("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择玩家渠道"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}},e._l(e.userlist,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"登录账号","label-width":e.formLabelWidth,prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入6-12位的账号",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),e.flag?r("el-form-item",{attrs:{label:"昵称","label-width":e.formLabelWidth,prop:"nickname"}},[r("el-input",{attrs:{placeholder:"昵称最大长度为6个汉字或12个字节长度的字母或数字(不能输入特殊字符)",clearable:""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1):e._e(),e._v(" "),e.flag?r("el-form-item",{attrs:{label:"登录密码","label-width":e.formLabelWidth,prop:"pwd"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入6-12位密码",clearable:""},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1):e._e()],1),e._v(" "),r("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[e.agentaccountadd?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure(e.form)}}},[e._v("确认提交")]):e._e()],1),e._v(" "),r("el-dialog",{attrs:{title:"二次确认:新增总代",visible:e.dialogFormVisible2,"before-close":e.reset2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[r("el-form",[r("el-form-item",{attrs:{label:"总代类型","label-width":e.formLabelWidth}},[r("span",[e._v(e._s(e.form.status))])]),e._v(" "),r("el-form-item",{attrs:{label:"玩家渠道","label-width":e.formLabelWidth}},[r("span",[e._v(e._s(e.form.id))])]),e._v(" "),r("el-form-item",{attrs:{label:"登录账号","label-width":e.formLabelWidth}},[r("span",[e._v(e._s(e.form.name))])]),e._v(" "),e.flag?r("el-form-item",{attrs:{label:"昵称","label-width":e.formLabelWidth}},[r("span",[e._v(e._s(e.form.nickname))])]):e._e()],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.reset2()}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure2()}}},[e._v("确 定")])],1)],1)],1)])},[],!1,null,null,null);u.options.__file="agentaccount.vue";t.default=u.exports},pgHZ:function(e,t,r){"use strict";var a=r("/AuF");r.n(a).a}}]);