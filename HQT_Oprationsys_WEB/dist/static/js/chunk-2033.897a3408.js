(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2033"],{"/AuF":function(e,t,r){},Yfch:function(e,t,r){"use strict";function a(e){return/^[a-zA-Z_]\w{2,17}$/.test(e)}function i(e){return/^[A-Za-z]+$/.test(e)}function l(e){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/.test(e)}r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return l})},"hZx+":function(e,t,r){"use strict";r.r(t);var a=r("QbLZ"),i=r.n(a),l=r("L2JU"),o=r("t3Un"),n=r("Yfch");var s={data:function(){return{formInline:{name:"",nickname:""},currentPage:1,tableData:[],userlist:[],dialogFormVisible:!0,form:{id:"",name:"",pwd:"",nickname:"",wages:"",reward:"",bonus:"",desc:""},rules:{id:[{required:!0,message:"请输入渠道组ID",trigger:"change"}],name:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入登录账号")):Object(n.c)(t)?r():r(new Error("登录账号为6-12位包含大小写和数字"))},trigger:"blur"}],pwd:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:12,message:"长度在6到12个字符",trigger:"blur"}],nickname:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入昵称")):function(e){for(var t=e.trim(),r=0,a=0;a<t.length;a++){var i=t[a];/[^\x00-\xff]/g.test(i)?r+=2:r++}return r}(t)>12?r(new Error("最大长度为6个汉字或12个字节长度的字母或数字")):r()},trigger:"blur"}],wages:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入日工资")):1*t<0?r(new Error("分红为日工资")):r()},trigger:"blur"}],reward:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入税收")):1*t<0||1*t>5?r(new Error("税收分成为0-5之间的数值")):r()},trigger:"blur"}],bonus:[{required:!0,validator:function(e,t,r){""===t?r(new Error("请输入分红")):1*t<0?r(new Error("分红为正数")):r()},trigger:"blur"}]},formLabelWidth:"150px",title:"",name:"",total:0,pagesize:50,dialogFormVisible2:!1}},created:function(){!function(e){Object(o.a)({url:e.public.url+"/backend/org/getOrglist",method:"post"}).then(function(t){e.userlist=t.data}).catch(function(e){})}(this)},computed:i()({},Object(l.b)(["agentaccountadd"])),methods:{reset:function(e){this.dialogFormVisible=!1,this.$refs.form.resetFields()},sure:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.dialogFormVisible2=!0})},reset2:function(){this.dialogFormVisible2=!1},sure2:function(e){var t=this,r=this,a="";this.userlist.map(function(e){e.name===t.form.id&&(a=e.id)}),Object(o.a)({url:r.public.url+"/backend/agentaccount/add",method:"post",data:{org_id:a,login_name:this.form.name,login_pwd:this.form.pwd,nickname:this.form.nickname,reward_top:this.form.reward}}).then(function(e){r.$message.success(e.message),r.dialogFormVisible2=!1,r.$refs.form.resetFields()}).catch(function(e){})}},filters:{}},m=(r("pgHZ"),r("KHd+")),c=Object(m.a)(s,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"addaccount"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"玩家渠道","label-width":e.formLabelWidth,prop:"id"}},[r("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择玩家渠道"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}},e._l(e.userlist,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"登录账号","label-width":e.formLabelWidth,prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入6-12位包含大小写和数字",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"昵称","label-width":e.formLabelWidth,prop:"nickname"}},[r("el-input",{attrs:{placeholder:"昵称最大长度为6个汉字或12个字节长度的字母或数字(不能输入特殊字符)",clearable:""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"登录密码","label-width":e.formLabelWidth,prop:"pwd"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入6-12位密码",clearable:""},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"税收","label-width":e.formLabelWidth,prop:"reward"}},[r("span",[e._v("玩家抽水的")]),r("el-input",{staticStyle:{width:"30%"},attrs:{type:"number"},model:{value:e.form.reward,callback:function(t){e.$set(e.form,"reward",t)},expression:"form.reward"}}),r("span",[e._v("%")])],1),e._v(" "),r("el-form-item",{attrs:{label:"日工资","label-width":e.formLabelWidth}}),e._v(" "),r("el-form-item",{attrs:{label:"分红","label-width":e.formLabelWidth}})],1),e._v(" "),r("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[e.agentaccountadd?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure(e.form)}}},[e._v("确认提交")]):e._e()],1),e._v(" "),r("el-dialog",{attrs:{title:"二次确认:新增总代",visible:e.dialogFormVisible2,"before-close":e.reset2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[r("el-form",[r("el-form-item",{attrs:{label:"玩家渠道","label-width":e.formLabelWidth}},[r("span",[e._v(e._s(e.form.id))])]),e._v(" "),r("el-form-item",{attrs:{label:"登录账号","label-width":e.formLabelWidth}},[r("span",[e._v(e._s(e.form.name))])]),e._v(" "),r("el-form-item",{attrs:{label:"昵称","label-width":e.formLabelWidth}},[r("span",[e._v(e._s(e.form.nickname))])]),e._v(" "),r("el-form-item",{attrs:{label:"税收","label-width":e.formLabelWidth}},[r("span",[e._v("玩家抽水的")]),r("span",[e._v(e._s(e.form.reward))]),r("span",[e._v("%")])]),e._v(" "),r("el-form-item",{attrs:{label:"日工资","label-width":e.formLabelWidth}}),e._v(" "),r("el-form-item",{attrs:{label:"分红","label-width":e.formLabelWidth}})],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.reset2()}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure2()}}},[e._v("确 定")])],1)],1)],1)])},[],!1,null,null,null);c.options.__file="agentaccount.vue";t.default=c.exports},pgHZ:function(e,t,r){"use strict";var a=r("/AuF");r.n(a).a}}]);