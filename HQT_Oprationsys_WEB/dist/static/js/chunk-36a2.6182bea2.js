(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-36a2"],{"7R9U":function(e,t,a){"use strict";a.r(t);var i,n=a("YEIV"),r=a.n(n),l=a("QbLZ"),o=a.n(l),s=a("t3Un"),m=a("L2JU");function u(e,t,a,i,n){var r={status:t,pageno:a,pagerows:i,name:n,game_id:e.gameid};Object(s.a)({url:e.public.url+"/gamebetitem/getlist",method:"post",data:r}).then(function(t){e.tableData=t.data.list,e.total=1*t.data.rownum,e.currentPage=1*t.data.pageno}).catch(function(e){})}var c=(i={filters:{},data:function(){return{formInline:{status:"",name:""},statuslist:[{name:"禁用",type:"0"},{name:"正常",type:"1"}],currentPage:1,tableData:[],dialogFormVisible:!1,form:{name:"",status:"1",min:"",max:"",code:""},rules:{name:[{required:!0,message:"请输入投注项名称",trigger:"blur"}],code:[{required:!0,message:"请输入投注项代码",trigger:"blur"}],status:[{required:!0,message:"请选状态",trigger:"change"}],min:[{required:!0,message:"请输入最小下注限额",trigger:"blur"}],max:[{required:!0,message:"请输入最大下注限额",trigger:"blur"}]},formLabelWidth:"180px",title:"",total:0,pagesize:20,id:"",gameid:""}},created:function(){this.gameid=this.$route.query.id},computed:o()({},Object(m.b)(["gamebetitemupdate","gamebetitemadd","gamebetitemdel","gamebetitemgetlist"])),watch:{}},r()(i,"filters",{type:function(e){return"0"===e?"禁用":"1"===e?"正常":void 0}}),r()(i,"methods",{reset:function(e){this.dialogFormVisible=!1,this.$refs.form.resetFields()},edit:function(e){this.title="编辑投注项设置",this.dialogFormVisible=!0;var t=this;Object(s.a)({url:t.public.url+"/gamebetitem/getinfo",method:"post",data:{id:e.id,game_id:this.gameid}}).then(function(e){t.form.name=e.data.name,t.form.code=e.data.code,t.form.status=e.data.status,t.form.max=e.data.bet_max_limit,t.form.min=e.data.bet_min_limit,t.id=e.data.id}).catch(function(e){})},back:function(){this.$router.push({path:"/gameconfmgr/gamename"})},add:function(){this.title="新增投注项设置",this.dialogFormVisible=!0},query:function(){this.currentPage=1,u(this,this.formInline.status,this.currentPage,this.pagesize,this.formInline.name)},sure:function(e){var t=this,a=this;this.$refs.form.validate(function(e){if(!e)return!1;"编辑投注项设置"===t.title?Object(s.a)({url:a.public.url+"/gamebetitem/update",method:"post",data:{game_id:t.gameid,name:t.form.name,code:t.form.code,bet_max_limit:t.form.max,bet_min_limit:t.form.min,status:t.form.status,id:t.id}}).then(function(e){a.dialogFormVisible=!1,a.$refs.form.resetFields(),u(a,a.formInline.status,a.currentPage,a.pagesize,a.formInline.name)}).catch(function(e){}):Object(s.a)({url:a.public.url+"/gamebetitem/add",method:"post",data:{game_id:t.gameid,name:t.form.name,code:t.form.code,bet_max_limit:t.form.max,bet_min_limit:t.form.min,status:t.form.status}}).then(function(e){a.dialogFormVisible=!1,a.$refs.form.resetFields(),u(a,a.formInline.status,a.currentPage,a.pagesize,a.formInline.name)}).catch(function(e){})})},delet:function(e){var t=this,a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(s.a)({url:a.public.url+"/gamebetitem/del",method:"post",data:{id:e.id,game_id:t.gameid}}).then(function(e){u(a,a.formInline.status,a.currentPage,a.pagesize,t.formInline.name)}).catch(function(e){})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(e){this.pagesize=e,this.currentPage=1,u(this,this.formInline.status,this.currentPage,this.pagesize,this.formInline.name)},handleCurrentChange:function(e){this.currentPage=1*e,u(this,this.formInline.status,this.currentPage,this.pagesize,this.formInline.name)}}),i),f=(a("lYuD"),a("KHd+")),d=Object(f.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"80px"}},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"info",round:""},on:{click:e.back}},[e._v("返回")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[e.gamebetitemadd?a("el-button",{attrs:{type:"info",round:""},on:{click:e.add}},[e._v("新增 + ")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"投注名称"}},[a("el-input",{attrs:{placeholder:"请输入要查询的关键词",clearable:""},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[e.gamebetitemgetlist?a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")]):e._e()],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"投注项代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bet_min_limit",label:"最小下注额度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bet_max_limit",label:"最大下注额度"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("type")(t.row.status))+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.gamebetitemupdate?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]):e._e(),e._v(" "),e.gamebetitemdel?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delet(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,50,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"before-close":e.reset},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"投注项代码","label-width":e.formLabelWidth,prop:"code"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"投注项名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最小下注限额","label-width":e.formLabelWidth,prop:"min"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.min,callback:function(t){e.$set(e.form,"min",t)},expression:"form.min"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最大下注限额","label-width":e.formLabelWidth,prop:"max"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.max,callback:function(t){e.$set(e.form,"max",t)},expression:"form.max"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"status"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.reset(e.form)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure(e.form)}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null);d.options.__file="gamebetitem.vue";t.default=d.exports},"RU/L":function(e,t,a){a("Rqdy");var i=a("WEpk").Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},Rqdy:function(e,t,a){var i=a("Y7ZC");i(i.S+i.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(e,t,a){e.exports={default:a("RU/L"),__esModule:!0}},YEIV:function(e,t,a){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(a("SEkw"));t.default=function(e,t,a){return t in e?(0,i.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},cD5Q:function(e,t,a){},lYuD:function(e,t,a){"use strict";var i=a("cD5Q");a.n(i).a}}]);