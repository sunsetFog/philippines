(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-36d9"],{"+PkY":function(e,t,r){},"8p6D":function(e,t,r){"use strict";var n=r("+PkY");r.n(n).a},JWMp:function(e,t,r){"use strict";r.r(t);var n=r("QbLZ"),a=r.n(n),l=r("t3Un"),i=r("XJYT"),o=r("L2JU");function s(e,t,r,n){var a="",o="";if(t){var s=t.getTime()/1e3;a=m(s)}if(r){var c=r.getTime()/1e3;o=m(c+86400-1)}if(s&&c&&s>c)Object(i.Message)({message:"开始时间必须小于结束时间",type:"error"});else{var u="",d="";""!=e.formInline.id&&e.gamelist.map(function(t){t.name==e.formInline.id&&(u=t.id,d=t.type)}),Object(l.a)({url:e.public.url+"/backend/gameuserrankreport/getlist",method:"post",data:{date_from:a,date_to:o,game_id:u,game_type:d,orderby:e.formInline.order,count:e.formInline.number,agent_org_id:e.formInline.org}}).then(function(t){Object(i.Message)({message:t.message,type:"success"}),e.tableData=t.data.list}).catch(function(e){})}}function m(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var c={data:function(){return{formInline:{starttime:"",endtime:"",id:"",order:"1",number:"10",org:""},orglist:[],orderlist:[{name:"充值最多用户",id:"1"},{name:"提现最多用户",id:"2"},{name:"流水最多用户",id:"3"},{name:"中奖最多用户",id:"4"}],currentPage:1,tableData:[],gamelist:[],total:0,pagesize:50,havetime:!1,havetime1:!1}},created:function(){var e=new Date((new Date).toLocaleDateString()).getTime(),t=new Date((new Date).toLocaleDateString()).getTime();this.formInline.starttime=new Date(e),this.formInline.endtime=new Date(t),function(e){Object(l.a)({url:e.public.url+"/backend/gamename/getgamenamelist",method:"post",data:{}}).then(function(t){e.gamelist=t.data}).catch(function(e){})}(this),function(e){Object(l.a)({url:e.public.url+"/backend/org/getorglist",method:"post",data:{}}).then(function(t){e.orglist=t.data}).catch(function(e){})}(this);this.gameuserrankreport.length||0==this.gameuserrankreport.length||(this.formInline.starttime=this.gameuserrankreport.starttime,this.formInline.endtime=this.gameuserrankreport.endtime,this.formInline.id=this.gameuserrankreport.id,this.formInline.org=this.gameuserrankreport.org,s(this,this.formInline.starttime,this.formInline.endtime,this.formInline.id))},computed:a()({},Object(o.b)(["gameuserrankreportgetlist","gameuserrankreport"])),watch:{},methods:{query:function(){if(""==this.formInline.number||1*this.formInline.number<10)this.$message.error("排名个数最小为10");else{s(this,this.formInline.starttime,this.formInline.endtime,this.formInline.id);var e={starttime:this.formInline.starttime,endtime:this.formInline.endtime,id:this.formInline.id,org:this.formInline.org};this.$store.commit("setgameuserrankreport",e)}},cell:function(e){e.row,e.column,e.rowIndex,e.columnIndex},sort:function(e){e.column;var t=e.prop,r=e.order;if(this.tableData.length>0)switch(r){case"ascending":this.tableData.sort(function(e,r){return 1*r[t]-1*e[t]});break;case"descending":this.tableData.sort(function(e,r){return console.log(e),1*e[t]-1*r[t]})}},edit:function(e){this.$router.push({path:"/analysisdatamgr/gameorderdetail",query:{id:e.user_id}})}},filters:{}},u=(r("8p6D"),r("KHd+")),d=Object(u.a)(c,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container gameuserrankreport"},[r("div",{staticClass:"query"},[r("el-row",[r("el-form",{attrs:{inline:!0,"label-width":"80px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"游戏名称"}},[r("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}},e._l(e.gamelist,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.name}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"排行条件"}},[r("el-select",{model:{value:e.formInline.order,callback:function(t){e.$set(e.formInline,"order",t)},expression:"formInline.order"}},e._l(e.orderlist,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"开始日期"}},[r("el-date-picker",{attrs:{type:"date",editable:!1,placeholder:"选择日期"},model:{value:e.formInline.starttime,callback:function(t){e.$set(e.formInline,"starttime",t)},expression:"formInline.starttime"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"结束日期"}},[r("el-date-picker",{attrs:{type:"date",editable:!1,placeholder:"选择日期"},model:{value:e.formInline.endtime,callback:function(t){e.$set(e.formInline,"endtime",t)},expression:"formInline.endtime"}})],1)],1)],1)],1),e._v(" "),r("el-row",[r("el-form",{attrs:{inline:!0,"label-width":"80px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"玩家渠道"}},[r("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.org,callback:function(t){e.$set(e.formInline,"org",t)},expression:"formInline.org"}},e._l(e.orglist,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"排名个数"}},[r("el-input",{attrs:{clearable:"",type:"number"},model:{value:e.formInline.number,callback:function(t){e.$set(e.formInline,"number",t)},expression:"formInline.number"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[e.gameuserrankreportgetlist?r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")]):e._e()],1)],1)],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"cell-class-name":e.cell,border:""},on:{"sort-change":e.sort}},[r("el-table-column",{attrs:{label:"用户id"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.edit(t.row)}}},[e._v(e._s(t.row.user_id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"recharge_money",label:"充值额"}}),e._v(" "),r("el-table-column",{attrs:{prop:"withdraw_money",label:"提现额"}}),e._v(" "),r("el-table-column",{attrs:{prop:"flow_ptop",label:"人人类流水"}}),e._v(" "),r("el-table-column",{attrs:{prop:"flow_ptom",label:"人机类流水"}}),e._v(" "),r("el-table-column",{attrs:{prop:"gross_profit",label:"平台毛利"}}),e._v(" "),r("el-table-column",{attrs:{prop:"gross_profit_ratio",label:"平台利润率"}})],1)],1)},[],!1,null,null,null);d.options.__file="gameuserrankreport.vue";t.default=d.exports}}]);