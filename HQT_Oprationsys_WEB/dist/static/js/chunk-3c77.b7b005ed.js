(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3c77"],{"0nYb":function(e,t,a){"use strict";var n=a("qsX+");a.n(n).a},oVej:function(e,t,a){"use strict";a.r(t);var n=a("QbLZ"),i=a.n(n),l=a("t3Un"),r=a("XJYT"),s=a("L2JU");function o(e,t,a,n,i){var s="",o="";if(t){var u=t.getTime()/1e3;s=c(u)}if(a){var p=a.getTime()/1e3;o=c(p+86400-1)}u&&p&&u>p?Object(r.Message)({message:"开始时间必须小于结束时间",type:"error"}):(e.loading=!0,Object(l.a)({url:e.public.url+"/backend/businessdealdayreport/getlist",method:"post",data:{begindate:s,enddate:o,org_id:e.formInline.id,pageno:n,pagerows:i}}).then(function(t){e.loading=!1,Object(r.Message)({message:t.message,type:"success"}),e.tableData=t.data.list,e.total=1*t.data.rownum,e.currentPage=1*t.data.pageno}).catch(function(e){}))}function c(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var u={data:function(){return{formInline:{starttime:"",endtime:"",id:""},currentPage:1,tableData:[],total:0,pagesize:20,havetime:!1,havetime1:!1,statuslist:[],loading:!1}},created:function(){var e=new Date((new Date).toLocaleDateString()).getTime()-6048e5,t=new Date((new Date).toLocaleDateString()).getTime();this.formInline.starttime=new Date(e),this.formInline.endtime=new Date(t);!function(e){Object(l.a)({url:e.public.url+"/backend/org/getorglist",method:"post",data:{}}).then(function(t){e.statuslist=t.data,e.statuslist.unshift({id:"",name:"全部"})}).catch(function(e){})}(this),this.businessdealday.length||0==this.businessdealday.length||(this.formInline.starttime=this.businessdealday.starttime,this.currentPage=this.businessdealday.currentPage,this.pagesize=this.businessdealday.pagesize,this.formInline.endtime=this.businessdealday.endtime,this.formInline.id=this.businessdealday.id,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize))},computed:i()({},Object(s.b)(["businessdealdayreportgetlist","businessdealday","businessdealdaygetlistdownload"])),watch:{},methods:{query:function(){this.currentPage=1,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize);var e={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id};this.$store.commit("setbusinessdealday",e)},excel:function(){var e=this,t="",a="";if(e.formInline.starttime){var n=e.formInline.starttime.getTime()/1e3;t=c(n)}if(e.formInline.endtime){var i=e.formInline.endtime.getTime()/1e3;a=c(i+86400-1)}n&&i&&n>i?Object(r.Message)({message:"开始时间必须小于结束时间",type:"error"}):Object(l.a)({url:e.public.url+"/backend/businessdealdayreport/getlistdownload",method:"post",data:{begindate:t,enddate:a,org_id:e.formInline.id,pageno:e.currentPage,pagerows:e.pagesize}}).then(function(t){window.location.href=e.public.url+t.data}).catch(function(e){})},cell:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 17===a&&1*t.ptop_gprofit<0?"red":17===a&&1*t.ptop_gprofit>0?"green":18===a&&1*t.ptom_gprofit<0?"red":18===a&&1*t.ptom_gprofit>0?"green":19===a&&parseFloat(t.gprofit)<0?"red":19===a&&parseFloat(t.gprofit)>0?"green":20===a&&1*parseInt(t.profit)<0?"red":20===a&&1*parseInt(t.profit)>0?"green":void 0},tableclassname:function(e){e.row,e.rowIndex},handleSizeChange:function(e){this.pagesize=e;this.currentPage=1,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize);var t={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id};this.$store.commit("setbusinessdealday",t)},handleCurrentChange:function(e){this.currentPage=1*e;o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize);var t={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id};this.$store.commit("setbusinessdealday",t)}},filters:{}},p=(a("0nYb"),a("KHd+")),m=Object(p.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"80px"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"玩家渠道"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}},e._l(e.statuslist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开始日期"}},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期"},model:{value:e.formInline.starttime,callback:function(t){e.$set(e.formInline,"starttime",t)},expression:"formInline.starttime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束日期"}},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期"},model:{value:e.formInline.endtime,callback:function(t){e.$set(e.formInline,"endtime",t)},expression:"formInline.endtime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e.businessdealdayreportgetlist?a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:e.loading},on:{click:e.query}},[e._v("查询")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:2}},[e.businessdealdaygetlistdownload?a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.excel}},[e._v("导出excel")]):e._e()],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableclassname,"cell-class-name":e.cell,border:""}},[a("el-table-column",{attrs:{prop:"adate",width:"100",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_logined_num",label:"登录用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_active_num",label:"活跃用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_recharge_num",label:"充值用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_recharge_money",label:"充值金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_withdraw_num",label:"提款人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_withdraw_money",label:"提款金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_withdraw_num",label:"代理提款人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_withdraw_money",label:"代理提款金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"betnum",label:"投注人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"flow_ptop_num",label:"人人类投注人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"flow_ptom_num",label:"人机类投注人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"flow_ptop",label:"人人类流水"}}),e._v(" "),a("el-table-column",{attrs:{prop:"flow_ptom",label:"人机类流水"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bet_ptom",label:"人机类投注额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptop_tax",label:"人人类代理税收"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptom_tax",label:"人机类代理税收"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptop_gprofit",label:"人人类毛利"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptom_gprofit",label:"人机类毛利"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gprofit",label:"平台毛利"}}),e._v(" "),a("el-table-column",{attrs:{prop:"profit",label:"平台利润率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chongtoubi",label:"充投比"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chwi_broker_money",label:"手续费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cprofit",label:"平台净利"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lirunlv",label:"现金流利润率"}})],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,50,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)])],1)},[],!1,null,null,null);m.options.__file="businessdealday.vue";t.default=m.exports},"qsX+":function(e,t,a){}}]);