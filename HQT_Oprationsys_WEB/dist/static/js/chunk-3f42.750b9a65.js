(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3f42"],{"2dbh":function(e,t,r){"use strict";var n=r("CMgV");r.n(n).a},CMgV:function(e,t,r){},GQeE:function(e,t,r){e.exports={default:r("iq4v"),__esModule:!0}},Hwhb:function(e,t,r){"use strict";r.r(t);var n=r("QbLZ"),i=r.n(n),l=r("GQeE"),a=r.n(l),o=r("t3Un"),s=r("L2JU");function m(e){var t="",r="";e.gamelist.map(function(n){n.name===e.formInline.id&&(r=n.id,t=n.type)});var n={user_name:e.formInline.value.trim(),pageno:e.currentPage,pagerows:e.pagesize,termno:e.formInline.termno.trim(),status:e.formInline.type,agent_org_id:e.formInline.user,game_id:r,game_type:t};if(e.$route.query){if(e.formInline.starttime){var i=e.formInline.starttime/1e3;n.atime_from=u(i)}if(e.formInline.endtime){var l=e.formInline.endtime/1e3;n.atime_to=u(l)}}else{if(e.formInline.starttime){i=e.formInline.starttime.getTime()/1e3;n.atime_from=u(i)}if(e.formInline.endtime){l=e.formInline.endtime.getTime()/1e3;n.atime_to=u(l)}}Object(o.a)({url:e.public.url+"/gameorder/getList",method:"post",data:n}).then(function(t){e.tableData=t.data}).catch(function(e){})}function u(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var c={data:function(){return{formInline:{type:"",value:"",termno:"",starttime:"",endtime:"",user:"",id:""},gamelist:[],currentPage:1,tableData:[],typelist:[{name:"待开奖",type:"0"},{name:"已中奖",type:"1"},{name:"未中奖",type:"2"},{name:"已撤单",type:"3"}],total:0,pagesize:50,id:"",userlist:[],num:1}},created:function(){if(function(e){Object(o.a)({url:e.public.url+"/backend/org/getOrglist",method:"post"}).then(function(t){e.userlist=t.data,e.userlist.unshift({id:"",name:"全部"})}).catch(function(e){})}(this),function(e){Object(o.a)({url:e.public.url+"/backend/gamename/getgamenamelist",method:"post",data:{}}).then(function(t){e.gamelist=t.data}).catch(function(e){})}(this),this.order.length||0==this.order.length||(this.formInline.value=this.order.value,this.currentPage=this.order.currentPage,this.num=this.order.currentPage,this.pagesize=this.order.pagesize,this.formInline.termno=this.order.termno,this.formInline.type=this.order.type,this.formInline.starttime=this.order.starttime,this.formInline.endtime=this.order.endtime,this.formInline.user=this.order.user,m(this)),a()(this.$route.query).length>0){if(this.$route.query.user&&(this.formInline.value=this.$route.query.user),this.$route.query.timeto){var e=this.$route.query.timeto;e=(e=e.substring(0,19)).replace(/-/g,"/"),this.formInline.starttime=new Date(e).getTime()}if(this.$route.query.timefrom){var t=this.$route.query.timefrom;t=(t=t.substring(0,19)).replace(/-/g,"/"),this.formInline.endtime=new Date(t).getTime()}m(this)}},computed:i()({},Object(s.b)(["gameordergetlist","gameorderexportorderlist","order"])),watch:{},filters:{type:function(e){return"0"===e?"待开奖":"1"===e?"已中奖":"2"===e?"未开奖":"3"===e?"已撤单":void 0}},methods:{query:function(){this.currentPage=1,this.num=1,m(this);var e={value:this.formInline.value,currentPage:this.num,pagesize:this.pagesize,termno:this.formInline.termno,type:this.formInline.type,starttime:this.formInline.starttime,endtime:this.formInline.endtime,user:this.formInline.user};this.$store.commit("setorder",e)},up:function(){this.num--,this.currentPage=this.num,m(this);var e={value:this.formInline.value,currentPage:this.num,pagesize:this.pagesize,termno:this.formInline.termno,type:this.formInline.type,starttime:this.formInline.starttime,endtime:this.formInline.endtime,user:this.formInline.user};this.$store.commit("setorder",e)},down:function(){this.num++,this.currentPage=this.num,m(this);var e={value:this.formInline.value,currentPage:this.num,pagesize:this.pagesize,termno:this.formInline.termno,type:this.formInline.type,starttime:this.formInline.starttime,endtime:this.formInline.endtime,user:this.formInline.user};this.$store.commit("setorder",e)},excel:function(){var e=this,t="",r="";e.gamelist.map(function(n){n.name===e.formInline.id&&(r=n.id,t=n.type)});var n={user_name:e.formInline.value.trim(),termno:e.formInline.termno.trim(),status:e.formInline.type,agent_org_id:e.formInline.user,game_id:r,game_type:t};if(e.$route.query){if(!e.formInline.starttime)return e.$message.error("请选择订单开始时间"),!1;var i=e.formInline.starttime/1e3;if(n.atime_from=u(i),!e.formInline.endtime)return e.$message.error("请选择订单结束时间"),!1;var l=e.formInline.endtime/1e3;if(n.atime_to=u(l),i>l)return e.$message.error("开始时间不能大于结束时间"),!1;if(1*l-1*i>1296e3)return e.$message.error("导出只能导出15天之内的数据"),!1}else{if(!e.formInline.starttime)return e.$message.error("请选择订单开始时间"),!1;i=e.formInline.starttime.getTime()/1e3;if(n.atime_from=u(i),!e.formInline.endtime)return e.$message.error("请选择订单结束时间"),!1;l=e.formInline.endtime.getTime()/1e3;if(n.atime_to=u(l),i>l)return e.$message.error("开始时间不能大于结束时间"),!1;if(1*l-1*i>1296e3)return e.$message.error("导出只能导出15天之内的数据"),!1}Object(o.a)({url:e.public.url+"/gameorder/exportorderlist",method:"post",data:n}).then(function(t){var r=e.public.url+t.data;window.location.href=r}).catch(function(e){})},handleSizeChange:function(e){this.pagesize=e,this.currentPage=1,m(this);var t={value:this.formInline.value,currentPage:this.currentPage,pagesize:this.pagesize,termno:this.formInline.termno,type:this.formInline.type,starttime:this.formInline.starttime,endtime:this.formInline.endtime,user:this.formInline.user};this.$store.commit("setorder",t)},handleCurrentChange:function(e){this.currentPage=1*e,m(this);var t={value:this.formInline.value,currentPage:this.currentPage,pagesize:this.pagesize,termno:this.formInline.termno,type:this.formInline.type,starttime:this.formInline.starttime,endtime:this.formInline.endtime,user:this.formInline.user};this.$store.commit("setorder",t)}}},f=(r("2dbh"),r("KHd+")),p=Object(f.a)(c,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container mail"},[r("div",{staticClass:"query"},[r("el-row",[r("el-form",{attrs:{inline:!0,"label-width":"100px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"玩家渠道","label-width":"100px"}},[r("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择玩家渠道"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}},e._l(e.userlist,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"玩家账号","label-width":"100px"}},[r("el-input",{attrs:{placeholder:"请输入要查询的关键词",clearable:""},model:{value:e.formInline.value,callback:function(t){e.$set(e.formInline,"value",t)},expression:"formInline.value"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"期号"}},[r("el-input",{attrs:{placeholder:"请输入要查询的关键词",clearable:""},model:{value:e.formInline.termno,callback:function(t){e.$set(e.formInline,"termno",t)},expression:"formInline.termno"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"状态"}},[r("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},e._l(e.typelist,function(e){return r("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}))],1)],1)],1)],1),e._v(" "),r("el-row",[r("el-form",{attrs:{inline:!0}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"游戏名称","label-width":"100px"}},[r("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}},e._l(e.gamelist,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.name}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"订单开始时间","label-width":"100px"}},[r("el-date-picker",{attrs:{type:"datetime",editable:!1,placeholder:"选择日期"},model:{value:e.formInline.starttime,callback:function(t){e.$set(e.formInline,"starttime",t)},expression:"formInline.starttime"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"订单结束时间","label-width":"100px"}},[r("el-date-picker",{attrs:{type:"datetime",editable:!1,placeholder:"选择日期"},model:{value:e.formInline.endtime,callback:function(t){e.$set(e.formInline,"endtime",t)},expression:"formInline.endtime"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:3}},[e.gameordergetlist?r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")]):e._e()],1),e._v(" "),r("el-col",{attrs:{span:3}},[e.gameorderexportorderlist?r("el-button",{attrs:{type:"primary"},on:{click:e.excel}},[e._v("导出excel")]):e._e()],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"paging"},[r("el-button",{attrs:{icon:"el-icon-arrow-left",type:"primary",disabled:e.num<=1},on:{click:e.up}},[e._v("上一页")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:e.tableData.length<50},on:{click:e.down}},[e._v("下一页"),r("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"id",label:"订单编号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"user_account",label:"玩家账号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"agent_org_name",label:"玩家渠道"}}),e._v(" "),r("el-table-column",{attrs:{prop:"game_name",label:"游戏名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"bet_item_code",label:"下注项目"}}),e._v(" "),r("el-table-column",{attrs:{prop:"tableno",label:"桌号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"termno",label:"期号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"bet_data",label:"下单数据"}}),e._v(" "),r("el-table-column",{attrs:{prop:"bet_money",label:"下注金额"}}),e._v(" "),r("el-table-column",{attrs:{prop:"lw_money",label:"输赢金额"}}),e._v(" "),r("el-table-column",{attrs:{prop:"tax",label:"税收"}}),e._v(" "),r("el-table-column",{attrs:{prop:"bbef_balance",label:"下注前金额"}}),e._v(" "),r("el-table-column",{attrs:{width:"200",prop:"atime",label:"订单时间"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.status)+"\n      ")]}}])})],1),e._v(" "),r("div",{staticClass:"pagingbox"},[r("div",{staticClass:"paging"},[r("el-button",{attrs:{icon:"el-icon-arrow-left",type:"primary",disabled:e.num<=1},on:{click:e.up}},[e._v("上一页")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:e.tableData.length<50},on:{click:e.down}},[e._v("下一页"),r("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)])],1)},[],!1,null,null,null);p.options.__file="order.vue";t.default=p.exports},Mqbl:function(e,t,r){var n=r("JB68"),i=r("w6GO");r("zn7N")("keys",function(){return function(e){return i(n(e))}})},iq4v:function(e,t,r){r("Mqbl"),e.exports=r("WEpk").Object.keys},zn7N:function(e,t,r){var n=r("Y7ZC"),i=r("WEpk"),l=r("KUxP");e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*l(function(){r(1)}),"Object",a)}}}]);