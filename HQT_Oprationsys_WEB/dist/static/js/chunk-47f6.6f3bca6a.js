(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-47f6"],{"0pmD":function(e,t,a){"use strict";var r=a("Gtbs");a.n(r).a},GQeE:function(e,t,a){e.exports={default:a("iq4v"),__esModule:!0}},Gtbs:function(e,t,a){},Mqbl:function(e,t,a){var r=a("JB68"),n=a("w6GO");a("zn7N")("keys",function(){return function(e){return n(r(e))}})},"X8d+":function(e,t,a){"use strict";a.r(t);var r=a("QbLZ"),n=a.n(r),i=a("GQeE"),l=a.n(i),o=a("t3Un"),s=a("XJYT"),u=a("L2JU");function c(e){e.loading=!0,Object(o.a)({url:e.public.url+"/backend/agentteamreport/getlist",method:"post",data:{pageno:e.currentPage,pagerows:e.pagesize,agent_login_name:e.formInline.user.trim(),agent_account_id:"",agent_org_id:e.formInline.agentOrg}}).then(function(t){if(e.orgid="",e.loading=!1,t.data.agentlist){e.tableData=[],e.total=0,e.currentPage=1;var a=t.data.agentlist;e.orglist=a.map(function(e){for(var t in e)return{id:t,name:e[t]}}),e.dialogFormVisible=!0}else Object(s.Message)({message:t.message,type:"success"}),e.dialogFormVisible=!1,t.data.list?e.tableData=t.data.list:e.tableData=[],e.total=1*t.data.rownum,e.currentPage=1*t.data.pageno}).catch(function(e){})}var g={data:function(){return{formInline:{user:"",org:"",agentOrg:""},userlist:[],currentPage:1,tableData:[],total:0,pagesize:20,orglist:[],dialogFormVisible:!1,form:{org:""},rules:{org:[{required:!0,message:"请选择渠道",trigger:"change"}]},orgid:"",loading:!1}},created:function(){!function(e){Object(o.a)({url:e.public.url+"/backend/role/getorglist",method:"post"}).then(function(t){e.userlist=t.data}).catch(function(e){})}(this);l()(this.$route.query).length>0?(this.$route.query.user&&(this.orgid=this.$route.query.org),this.$route.query.name&&(this.formInline.user=this.$route.query.name),c(this)):this.agentteam.length||0==this.agentteam.length||(this.currentPage=this.agentteam.currentPage,this.pagesize=this.agentteam.pagesize,this.formInline.user=this.agentteam.user,this.orgid=this.agentteam.org,c(this))},computed:n()({},Object(u.b)(["agentteamreportgetlist","agentteam"])),watch:{},methods:{query:function(){this.currentPage=1,c(this);var e={user:this.formInline.user,currentPage:this.currentPage,pagesize:this.pagesize,org:this.orgid};this.$store.commit("setagentteam",e)},tableclass:function(e){e.row,e.rowIndex},reset:function(){this.dialogFormVisible=!1,this.$refs.form.resetFields()},sure:function(){var e=this,t=this;this.$refs.form.validate(function(a){if(!a)return!1;t.$confirm("","二次确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(a){t.orgid=t.form.org;var r={user:t.formInline.user,currentPage:t.currentPage,pagesize:t.pagesize,org:t.form.org};e.$store.commit("setagentteam",r),c(t),t.dialogFormVisible=!1,t.$refs.form.resetFields()}).catch(function(e){})})},cell:function(e){e.row,e.column,e.rowIndex,e.columnIndex},handleSizeChange:function(e){this.pagesize=e;this.currentPage=1,c(this);var t={user:this.formInline.user,currentPage:this.currentPage,pagesize:this.pagesize,org:this.orgid};this.$store.commit("setagentteam",t)},handleCurrentChange:function(e){this.currentPage=1*e;c(this);var t={user:this.formInline.user,currentPage:this.currentPage,pagesize:this.pagesize,org:this.orgid};this.$store.commit("setagentteam",t)}},filters:{}},m=(a("0pmD"),a("KHd+")),p=Object(m.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"120px"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"代理人员账号"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"渠道"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择玩家渠道"},model:{value:e.formInline.agentOrg,callback:function(t){e.$set(e.formInline,"agentOrg",t)},expression:"formInline.agentOrg"}},e._l(e.userlist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[e.agentteamreportgetlist?a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:e.loading},on:{click:e.query}},[e._v("查询")]):e._e()],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","row-class-name":e.tableclass,"cell-class-name":e.cell}},[a("el-table-column",{attrs:{prop:"user_account",label:"代理人员"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_org_name",label:"渠道"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team_flow",label:"团队总流水"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team_bet_ptom",label:"团队人机类用户投注额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team_tax",label:"团队税收收益"}}),e._v(" "),a("el-table-column",{attrs:{prop:"self_tax",label:"个人税收收益"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team_recharge_money",label:"团队总充值"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team_agent_num",label:"代理总数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"add_agent_num",label:"今日新增代理数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team_user_num",label:"玩家总数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"add_user_num",label:"今日新增玩家数"}})],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,50,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:"选择渠道",visible:e.dialogFormVisible,"before-close":e.reset},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"选择渠道","label-width":"80",prop:"org"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.org,callback:function(t){e.$set(e.form,"org",t)},expression:"form.org"}},e._l(e.orglist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.reset(e.form)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure(e.form)}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null);p.options.__file="agentteam.vue";t.default=p.exports},iq4v:function(e,t,a){a("Mqbl"),e.exports=a("WEpk").Object.keys},zn7N:function(e,t,a){var r=a("Y7ZC"),n=a("WEpk"),i=a("KUxP");e.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],l={};l[e]=t(a),r(r.S+r.F*i(function(){a(1)}),"Object",l)}}}]);