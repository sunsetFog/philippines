(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5564"],{"+TiQ":function(e,t,a){"use strict";var r=a("FXGb");a.n(r).a},FXGb:function(e,t,a){},IQC4:function(e,t,a){"use strict";a.r(t);var r=a("QbLZ"),l=a.n(r),n=a("L2JU"),o=a("t3Un");a("Yfch");function i(e,t,a,r,l,n){Object(o.a)({url:e.public.url+"/paychannel/getList",method:"post",data:{status:t,pageno:a,pagerows:r,id:l,acc_code:n.trim()}}).then(function(t){e.tableData=t.data.list,e.total=1*t.data.rownum,e.currentPage=1*t.data.pageno}).catch(function(e){})}var s={data:function(){return{formInline:{name:"",code:"",type:""},currentPage:1,tableData:[],dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1,form1:{depict:""},form:{name:"",code:"",othername:"",key:"",pay_req_url:"",qry_order_url:"",depict:"",status:"1"},form2:{name:"",code:"",othername:"",key:"",pay_req_url:"",qry_order_url:""},list:[{name:"全部",type:""},{name:"启用",type:"1"},{name:"禁用",type:"0"}],list1:[{name:"启用",type:"1"},{name:"禁用",type:"0"}],rules:{status:[{required:!0,message:"请选择状态",trigger:"change"}],name:[{required:!0,message:"请输入充值来源",trigger:"blur"}],othername:[{required:!0,message:"请输入别名",trigger:"blur"}],code:[{required:!0,message:"请输入商户代码",trigger:"blur"}],key:[{required:!0,message:"请输入密匙",trigger:"blur"}],pay_req_url:[{required:!0,message:"请输入支付请求地址",trigger:"blur"}],qry_order_url:[{required:!0,message:"请输入查询订单地址",trigger:"blur"}]},rules2:{name:[{required:!0,message:"请输入充值来源",trigger:"blur"}],othername:[{required:!0,message:"请输入别名",trigger:"blur"}],code:[{required:!0,message:"请输入商户代码",trigger:"blur"}]},formLabelWidth:"150px",title:"",name:"",total:0,pagesize:50,allname:[],placeholder:"",key:"",pay_req_url:"",qry_order_url:""}},created:function(){this.paychannel.length||0==this.paychannel.length||(this.formInline.type=this.paychannel.type,this.currentPage=this.paychannel.currentPage,this.pagesize=this.paychannel.pagesize,this.formInline.name=this.paychannel.name,this.formInline.code=this.paychannel.code,i(this,this.formInline.type,this.currentPage,this.pagesize,this.formInline.name,this.formInline.code)),function(e){Object(o.a)({url:e.public.url+"/paychannel/getallnames",method:"post",data:{}}).then(function(t){e.allname=t.data}).catch(function(e){})}(this)},computed:l()({},Object(n.b)(["paychanneladd","paychanneldel","paychannelupdate","paychannelgetlist","paychannelgetinfo","paychannelupdatecompay","paychannelupdatevalgread","paychannelupdatestatus","paychannel"])),methods:{reset:function(e){this.dialogFormVisible=!1,this.$refs.form.resetFields()},reset2:function(e){this.dialogFormVisible2=!1,this.$refs.form2.resetFields()},cell:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 6===a&&"1"===t.status?"green":6===a&&"0"===t.status?"red":void 0},reset1:function(e){this.dialogFormVisible1=!1,this.form.depict=""},up:function(e){var t=this,a=this;this.$confirm("此操作将启用该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(o.a)({url:a.public.url+"/paychannel/updatestatus",method:"post",data:{id:e.id,status:1}}).then(function(e){a.$message({type:"success",message:e.message}),i(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.code)}).catch(function(e){})}).catch(function(){t.$message({type:"info",message:"已取消启用"})})},down:function(e){var t=this,a=this;this.$confirm("此操作将停用该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(o.a)({url:a.public.url+"/paychannel/updatestatus",method:"post",data:{id:e.id,status:0}}).then(function(e){a.$message({type:"success",message:e.message}),i(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.code)}).catch(function(e){})}).catch(function(){t.$message({type:"info",message:"已取消停用"})})},sure1:function(){var e=this;Object(o.a)({url:e.public.url+"/paychannel/updatevalgread",method:"post",data:{id:this.id,depict:this.form1.depict}}).then(function(t){e.$message({type:"success",message:t.message}),e.dialogFormVisible1=!1,e.form.depict="",i(e,e.formInline.type,e.currentPage,e.pagesize,e.formInline.name,e.formInline.code)}).catch(function(e){})},view:function(e){this.dialogFormVisible1=!0;var t=this;Object(o.a)({url:t.public.url+"/paychannel/getinfo",method:"post",data:{id:e.id}}).then(function(e){t.form.name=e.data.name,t.id=e.data.id}).catch(function(e){})},query:function(){this.currentPage=1,i(this,this.formInline.type,this.currentPage,this.pagesize,this.formInline.name,this.formInline.code);var e={type:this.formInline.type,currentPage:this.currentPage,pagesize:this.pagesize,name:this.formInline.name,code:this.formInline.code};this.$store.commit("setpaychannel",e)},edit:function(e){this.title="商家参数",this.placeholder="不填写，默认为不修改",this.dialogFormVisible2=!0;var t=this;Object(o.a)({url:t.public.url+"/paychannel/getinfo",method:"post",data:{id:e.id}}).then(function(e){t.form2.code=e.data.acc_code,t.form2.name=e.data.name,t.key=e.data.key,t.pay_req_url=e.data.pay_req_url,t.qry_order_url=e.data.qry_order_url,t.form2.othername=e.data.alias,t.id=e.data.id}).catch(function(e){})},add:function(){this.title="新增充值来源设置",this.placeholder="请按技术需求填写",this.dialogFormVisible=!0},chant:function(e){this.$router.push({path:"/chant"})},sure:function(e){var t=this,a=this;this.$refs.form.validate(function(e){if(!e)return!1;Object(o.a)({url:a.public.url+"/paychannel/add",method:"post",data:{name:t.form.name,acc_code:t.form.code,key:t.form.key,alias:t.form.othername,pay_req_url:t.form.pay_req_url,qry_order_url:t.form.qry_order_url,status:t.form.status,depict:t.form.depict}}).then(function(e){a.$message({type:"success",message:e.message}),a.dialogFormVisible=!1,a.$refs.form.resetFields(),i(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.code)}).catch(function(e){})})},sure2:function(){var e=this,t=this;this.$refs.form.validate(function(a){if(!a)return!1;var r="",l="",n="";r=""===e.form.pay_req_url?e.pay_req_url:e.form.pay_req_url,l=""===e.form.qry_order_url?e.qry_order_url:e.form.qry_order_url,n=""===e.form.key?e.key:e.form.key,Object(o.a)({url:t.public.url+"/paychannel/updatecompay",method:"post",data:{name:e.form2.name,acc_code:e.form2.code,alias:e.form2.othername,key:n,pay_req_url:r,qry_order_url:l,id:e.id}}).then(function(e){t.$message({type:"success",message:e.message}),t.dialogFormVisible2=!1,t.$refs.form2.resetFields(),i(t,t.formInline.type,t.currentPage,t.pagesize,t.formInline.name,t.formInline.code)}).catch(function(e){})})},delet:function(e){var t=this,a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(o.a)({url:a.public.url+"/paychannel/del",method:"post",data:{id:e.id}}).then(function(e){a.$message({type:"success",message:e.message}),i(a,a.formInline.type,a.currentPage,a.pagesize,a.formInline.name,a.formInline.code)}).catch(function(e){})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(e){this.pagesize=e,this.currentPage=1,i(this,this.formInline.type,this.currentPage,this.pagesize,this.formInline.name,this.formInline.code);var t={type:this.formInline.type,currentPage:this.currentPage,pagesize:this.pagesize,name:this.formInline.name,code:this.formInline.code};this.$store.commit("setpaychannel",t)},handleCurrentChange:function(e){this.currentPage=1*e,i(this,this.formInline.type,this.currentPage,this.pagesize,this.formInline.name,this.formInline.code);var t={type:this.formInline.type,currentPage:this.currentPage,pagesize:this.pagesize,name:this.formInline.name,code:this.formInline.code};this.$store.commit("setpaychannel",t)}},filters:{type:function(e){return"1"===e?"启用":"0"===e?"禁用":void 0}}},c=(a("+TiQ"),a("KHd+")),m=Object(c.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"80px"}},[a("el-col",{attrs:{span:3}},[e.paychanneladd?a("el-button",{attrs:{type:"info",round:""},on:{click:e.add}},[e._v("新增 + ")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"充值来源"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}},e._l(e.allname,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},e._l(e.list,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[e.paychannelgetlist?a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")]):e._e()],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"cell-class-name":e.cell,border:""}},[a("el-table-column",{attrs:{width:"50",prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"充值来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acc_code",label:"代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"val_grade_id",label:"价值量等价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"depict",label:"说明"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("type")(t.row.status))+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.paychannelupdatevalgread?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.view(t.row)}}},[e._v("价值量")]):e._e(),e._v(" "),e.paychannelupdatecompay?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t.row)}}},[e._v("商家参数")]):e._e(),e._v(" "),e.paychanneldel?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delet(t.row)}}},[e._v("删除")]):e._e(),e._v(" "),e.paychannelupdatestatus&&"0"===t.row.status?a("el-button",{staticClass:"green",attrs:{type:"text",size:"small"},on:{click:function(a){e.up(t.row)}}},[e._v("启用")]):e._e(),e._v(" "),e.paychannelupdatestatus&&"1"===t.row.status?a("el-button",{staticClass:"red",attrs:{type:"text",size:"small"},on:{click:function(a){e.down(t.row)}}},[e._v("禁用")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"银行账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.chant(t.row)}}},[e._v("充值银行")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[50,100,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"before-close":e.reset},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"充值来源","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{placeholder:"请按技术需求填写"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"别名","label-width":e.formLabelWidth,prop:"othername"}},[a("el-input",{attrs:{placeholder:"请按技术需求填写"},model:{value:e.form.othername,callback:function(t){e.$set(e.form,"othername",t)},expression:"form.othername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请按技术需求填写"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密匙","label-width":e.formLabelWidth,prop:"key"}},[a("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请求地址","label-width":e.formLabelWidth,prop:"pay_req_url"}},[a("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.form.pay_req_url,callback:function(t){e.$set(e.form,"pay_req_url",t)},expression:"form.pay_req_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"查单地址","label-width":e.formLabelWidth,prop:"qry_order_url"}},[a("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.form.qry_order_url,callback:function(t){e.$set(e.form,"qry_order_url",t)},expression:"form.qry_order_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth,prop:"status"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.list1,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"说明","label-width":e.formLabelWidth,prop:"depict"}},[a("el-input",{model:{value:e.form.depict,callback:function(t){e.$set(e.form,"depict",t)},expression:"form.depict"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"价值量等级设置","label-width":e.formLabelWidth,prop:"depict"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.reset(e.form)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure(e.form)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible2,"before-close":e.reset2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{ref:"form",attrs:{model:e.form2,rules:e.rules2}},[a("el-form-item",{attrs:{label:"充值来源","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{placeholder:"请按技术需求填写"},model:{value:e.form2.name,callback:function(t){e.$set(e.form2,"name",t)},expression:"form2.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"别名","label-width":e.formLabelWidth,prop:"othername"}},[a("el-input",{attrs:{placeholder:"请按技术需求填写"},model:{value:e.form2.othername,callback:function(t){e.$set(e.form2,"othername",t)},expression:"form2.othername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请按技术需求填写"},model:{value:e.form2.code,callback:function(t){e.$set(e.form2,"code",t)},expression:"form2.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密匙","label-width":e.formLabelWidth,prop:"key"}},[a("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.form2.key,callback:function(t){e.$set(e.form2,"key",t)},expression:"form2.key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请求地址","label-width":e.formLabelWidth,prop:"pay_req_url"}},[a("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.form2.pay_req_url,callback:function(t){e.$set(e.form2,"pay_req_url",t)},expression:"form2.pay_req_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"查单地址","label-width":e.formLabelWidth,prop:"qry_order_url"}},[a("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.form2.qry_order_url,callback:function(t){e.$set(e.form2,"qry_order_url",t)},expression:"form2.qry_order_url"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.reset2(e.form)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure2(e.form)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"支付渠道详情",visible:e.dialogFormVisible1,"before-close":e.reset1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"充值来源","label-width":e.formLabelWidth}},[e._v("\n        "+e._s(e.form.name)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"说明","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form1.depict,callback:function(t){e.$set(e.form1,"depict",t)},expression:"form1.depict"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"价值量等级设置","label-width":e.formLabelWidth}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.reset1(e.form)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sure1(e.form)}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null);m.options.__file="paychannel.vue";t.default=m.exports},Yfch:function(e,t,a){"use strict";function r(e){return/^[a-zA-Z_]\w{2,17}$/.test(e)}function l(e){return/^[A-Za-z]+$/.test(e)}function n(e){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/.test(e)}a.d(t,"a",function(){return r}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return n})}}]);