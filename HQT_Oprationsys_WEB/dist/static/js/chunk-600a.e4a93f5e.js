(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-600a"],{"8UFV":function(e,t,a){"use strict";var n=a("sS7O");a.n(n).a},BY2B:function(e,t,a){"use strict";a.r(t);var n=a("QbLZ"),i=a.n(n),l=a("GQeE"),r=a.n(l),s=a("t3Un"),o=a("L2JU"),m=a("XJYT");function c(e){e.loading=!0;var t={user_name:e.formInline.value.trim(),pageno:e.currentPage,pagerows:e.pagesize,src_type:e.formInline.type.join(","),agent_org_id:e.formInline.org,uid:e.formInline.uid};if(e.formInline.starttime){var a=e.formInline.starttime.getTime()/1e3;t.chg_time_from=u(a)}if(e.formInline.endtime){var n=e.formInline.endtime.getTime()/1e3+86400-1;t.chg_time_to=u(n)}Object(s.a)({url:e.public.url+"/gameuserchg/getList",method:"post",data:t}).then(function(t){e.loading=!1,e.tableData=t.data.list,e.total=1*t.data.rownum,e.currentPage=1*t.data.pageno}).catch(function(e){})}function u(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}function g(e,t,a){Object(s.a)({url:e.public.url+"/gameuserchg/getinfo",method:"post",data:{id:t,type:a}}).then(function(t){e.game_name=t.data.game_name,e.lw_money=t.data.lw_money,e.tax=t.data.tax,e.status=t.data.status,e.tableno=t.data.tableno,e.bet_item_name=t.data.bet_item_name,e.bet_data=t.data.bet_data,e.atime=t.data.atime,e.id=t.data.id}).catch(function(e){})}var p={data:function(){return{formInline:{type:"",value:"",starttime:"",endtime:"",org:"",uid:""},getrowkey:function(e){return e.id},expands:[],id:"",game_name:"",lw_money:"",tax:"",status:"",tableno:"",bet_item_name:"",bet_data:"",atime:"",currentPage:1,tableData:[],loading:!1,loading2:!1,typelist:[],total:0,pagesize:20,info1:[],orglist:[]}},created:function(){!function(e){Object(s.a)({url:e.public.url+"/gameuserchg/getchgnamelist",method:"post",data:{}}).then(function(t){e.typelist=t.data}).catch(function(e){})}(this),function(e){Object(s.a)({url:e.public.url+"/backend/org/getorglist",method:"post",data:{}}).then(function(t){e.orglist=t.data,e.orglist.unshift({id:"",name:"全部"})}).catch(function(e){})}(this),r()(this.$route.query).length>0?this.formInline.uid=this.$route.query.uid:this.gameuserchg.length||0==this.gameuserchg.length||(this.formInline.value=this.gameuserchg.value,this.currentPage=this.gameuserchg.currentPage,this.pagesize=this.gameuserchg.pagesize,this.formInline.type=this.gameuserchg.type,this.formInline.starttime=this.gameuserchg.starttime,this.formInline.endtime=this.gameuserchg.endtime,this.formInline.org=this.gameuserchg.org,this.formInline.uid=this.gameuserchg.uid)},computed:i()({},Object(o.b)(["gameuserchggetlist","gameuserchg","gameuserchggetListdownload"])),watch:{},filters:{type:function(e){return"0"===e?"待开奖":"1"===e?"已中奖":"2"===e?"未开奖":"3"===e?"已撤单":void 0}},methods:{query:function(){this.currentPage=1,c(this);var e={value:this.formInline.value,currentPage:this.currentPage,pagesize:this.pagesize,type:this.formInline.type,starttime:this.formInline.starttime,endtime:this.formInline.endtime,org:this.formInline.org,uid:this.formInline.uid};this.$store.commit("setgameuserchg",e)},cell:function(e){var t=e.row;e.column,e.rowIndex;if(0===e.columnIndex&&"游戏结算"==t.src_type)return"displaynone"},handleSizeChange:function(e){this.pagesize=e,this.currentPage=1,c(this);var t={value:this.formInline.value,currentPage:this.currentPage,pagesize:this.pagesize,type:this.formInline.type,starttime:this.formInline.starttime,endtime:this.formInline.endtime,org:this.formInline.org,uid:this.formInline.uid};this.$store.commit("setgameuserchg",t)},handleCurrentChange:function(e){this.currentPage=1*e,c(this);var t={value:this.formInline.value,currentPage:this.currentPage,pagesize:this.pagesize,type:this.formInline.type,starttime:this.formInline.starttime,endtime:this.formInline.endtime,org:this.formInline.org,uid:this.formInline.uid};this.$store.commit("setgameuserchg",t)},change:function(e,t){if(t.length){if(this.expands=[],e&&this.expands.push(e.id),"游戏结算"===e.src_type){g(this,e.id,"2")}if("游戏撤单"===e.src_type){g(this,e.id,"3")}if("支付充值"===e.src_type){!function(e,t,a){Object(s.a)({url:e.public.url+"/gameuserchg/getinfo",method:"post",data:{id:t,type:a}}).then(function(t){e.info1=t.data}).catch(function(e){})}(this,e.id,"1")}}else this.expands=[]},excel:function(){var e=this,t={user_name:e.formInline.value.trim(),pageno:e.currentPage,pagerows:e.pagesize,src_type:e.formInline.type.join(","),agent_org_id:e.formInline.org,uid:e.formInline.uid};if(e.formInline.starttime){var a=e.formInline.starttime.getTime()/1e3;t.chg_time_from=u(a)}if(e.formInline.endtime){var n=e.formInline.endtime.getTime()/1e3,i=n+86400-1;t.chg_time_to=u(i)}a&&n&&a>n?Object(m.Message)({message:"开始时间必须小于结束时间",type:"error"}):(e.loading2=!0,Object(s.a)({url:e.public.url+"/gameuserchg/getListdownload",method:"post",data:t}).then(function(t){e.loading2=!1,window.location.href=e.public.url+t.data}).catch(function(e){}))}}},d=(a("8UFV"),a("KHd+")),f=Object(d.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container mail"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"玩家账号","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入要查询的关键词",clearable:""},model:{value:e.formInline.value,callback:function(t){e.$set(e.formInline,"value",t)},expression:"formInline.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"账变类型","label-width":"70px"}},[a("el-select",{attrs:{multiple:"",filterable:"",clearable:""},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},e._l(e.typelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开始日期","label-width":"70px"}},[a("el-date-picker",{attrs:{type:"date",editable:!1,placeholder:"选择日期"},model:{value:e.formInline.starttime,callback:function(t){e.$set(e.formInline,"starttime",t)},expression:"formInline.starttime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束日期","label-width":"70px"}},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期"},model:{value:e.formInline.endtime,callback:function(t){e.$set(e.formInline,"endtime",t)},expression:"formInline.endtime"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"70px"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"玩家渠道"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.formInline.org,callback:function(t){e.$set(e.formInline,"org",t)},expression:"formInline.org"}},e._l(e.orglist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"UID"}},[a("el-input",{attrs:{placeholder:"请输入要查询的关键词",clearable:""},model:{value:e.formInline.uid,callback:function(t){e.$set(e.formInline,"uid",t)},expression:"formInline.uid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[e.gameuserchggetlist?a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:e.loading},on:{click:e.query}},[e._v("查询")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:6}},[e.gameuserchggetListdownload?a("el-button",{attrs:{type:"primary",loading:e.loading2},on:{click:function(t){e.excel()}}},[e._v("导出excel")]):e._e()],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":e.getrowkey,"expand-row-keys":e.expands,"cell-class-name":e.cell,border:""},on:{"expand-change":e.change}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return["游戏结算"===t.row.src_type||"游戏撤单"===t.row.src_type?a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"订单号"}},[a("span",[e._v(e._s(e.id))])]),e._v(" "),a("el-form-item",{attrs:{label:"游戏名字"}},[a("span",[e._v(e._s(e.game_name))])]),e._v(" "),a("el-form-item",{attrs:{label:"输赢金额"}},[a("span",[e._v(e._s(e.lw_money))])]),e._v(" "),a("el-form-item",{attrs:{label:"收税"}},[a("span",[e._v(e._s(e.tax))])]),e._v(" "),a("el-form-item",{attrs:{label:"结算状态"}},[a("span",[e._v(e._s(e.status))])]),e._v(" "),a("el-form-item",{attrs:{label:"桌号"}},[a("span",[e._v(e._s(e.tableno))])]),e._v(" "),a("el-form-item",{attrs:{label:"下注项目"}},[a("span",[e._v(e._s(e.bet_item_name))])]),e._v(" "),a("el-form-item",{attrs:{label:"下注数据"}},[a("span",[e._v(e._s(e.bet_data))])]),e._v(" "),a("el-form-item",{attrs:{label:"订单时间"}},[a("span",[e._v(e._s(e.atime))])])],1):e._e(),e._v(" "),"支付充值"===t.row.src_type?a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"订单号"}},[a("span",[e._v(e._s(e.info1.order_no))])]),e._v(" "),a("el-form-item",{attrs:{label:"充值金额"}},[a("span",[e._v(e._s(e.info1.money))])]),e._v(" "),a("el-form-item",{attrs:{label:"转账银行"}},[a("span",[e._v(e._s(e.info1.from_bank))])]),e._v(" "),a("el-form-item",{attrs:{label:"手续费"}},[a("span",[e._v(e._s(e.info1.broken_money))])]),e._v(" "),a("el-form-item",{attrs:{label:"到账时间"}},[a("span",[e._v(e._s(e.info1.arrived_time))])]),e._v(" "),a("el-form-item",{attrs:{label:"充值时间"}},[a("span",[e._v(e._s(e.info1.create_time))])]),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("span",[e._v(e._s(e.info1.status))])])],1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"uid",label:"UID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"玩家账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_org_name",label:"玩家渠道"}}),e._v(" "),a("el-table-column",{attrs:{prop:"src_type",label:"账变类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance_before",label:"账变前余额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"账变金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance_after",label:"账变后金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deposit",label:"保险箱金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clientip",label:"客户ip"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"账变时间"}})],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,50,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)])],1)},[],!1,null,null,null);f.options.__file="gameuserchg.vue";t.default=f.exports},GQeE:function(e,t,a){e.exports={default:a("iq4v"),__esModule:!0}},Mqbl:function(e,t,a){var n=a("JB68"),i=a("w6GO");a("zn7N")("keys",function(){return function(e){return i(n(e))}})},iq4v:function(e,t,a){a("Mqbl"),e.exports=a("WEpk").Object.keys},sS7O:function(e,t,a){},zn7N:function(e,t,a){var n=a("Y7ZC"),i=a("WEpk"),l=a("KUxP");e.exports=function(e,t){var a=(i.Object||{})[e]||Object[e],r={};r[e]=t(a),n(n.S+n.F*l(function(){a(1)}),"Object",r)}}}]);