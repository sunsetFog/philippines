(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9af7"],{"6WO7":function(t,e,i){"use strict";i.r(e);var n=i("QbLZ"),a=i.n(n),s=i("t3Un"),r=i("XJYT"),l=i("L2JU");function o(t,e,i,n,a,l,o){var c="",d="";if(e){var h=e.getTime()/1e3;c=m(h)}if(i){var g=i.getTime()/1e3;d=m(g+86400-1)}h&&g&&h>g?Object(r.Message)({message:"开始时间必须小于结束时间",type:"error"}):(t.loading=!0,Object(s.a)({url:t.public.url+"/backend/gamertpset/getrtpdatalist",method:"post",data:{time_from:c,time_to:d,termno:t.formInline.termno,pageno:n,pagerows:a,game_id:l,table_id:o}}).then(function(e){Object(r.Message)({message:e.message,type:"success"}),t.loading=!1,0===e.data.list.length?t.tableData=[]:t.tableData=e.data.list,t.total=1*e.data.rownum,t.currentPage=1*e.data.pageno}).catch(function(t){}))}function m(t){var e=new Date(1e3*t);return e.getFullYear()+"-"+((e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-")+((e.getDate()<10?"0"+e.getDate():e.getDate())+" ")+((e.getHours()<10?"0"+e.getHours():e.getHours())+":")+((e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":")+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}var c={data:function(){return{formInline:{time:[],starttime:"",endtime:"",id:"",tid:"",type:0,termno:"",value:"",value2:"",name:""},currentPage:1,tableData:[],newArry:[],gamelist:[],gamelist2:[],total:0,pagesize:20,num:1,havetime:!1,havetime1:!1,loading:!1}},created:function(){var t=Date.parse(new Date)-36e5,e=Date.parse(new Date);this.formInline.starttime=new Date(t),this.formInline.endtime=new Date(e),function(t){Object(s.a)({url:t.public.url+"/backend/gamertpset/getgamenamelist",method:"post",data:{}}).then(function(e){t.gamelist=e.data}).catch(function(t){})}(this);this.gamertpset.length||0==this.gamertpset.length||(this.formInline.starttime=this.gamertpset.starttime,this.currentPage=this.gamertpset.currentPage,this.pagesize=this.gamertpset.pagesize,this.formInline.endtime=this.gamertpset.endtime,this.formInline.id=this.gamertpset.id,this.formInline.tid=this.gamertpset.tid,this.formInline.type=this.gamertpset.type,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id,this.formInline.tid))},computed:a()({},Object(l.b)(["gamesinglereportgetlist","gamertpset","gamertpsetgetrtpdatalist","gamertpsetdownloadrtpdata"])),watch:{},methods:{up:function(){this.num--,this.currentPage=this.num,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id,this.formInline.tid);var t={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id,tid:this.formInline.tid};this.$store.commit("setgamertpset",t)},down:function(){this.num++,this.currentPage=this.num,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id,this.formInline.tid);var t={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id,tid:this.formInline.tid};this.$store.commit("setgamertpset",t)},excel:function(){var t=this,e="",i="";if(t.formInline.starttime){var n=t.formInline.starttime.getTime()/1e3;e=m(n)}if(t.formInline.endtime){var a=t.formInline.endtime.getTime()/1e3;i=m(a+86400-1)}n&&a&&n>a?Object(r.Message)({message:"开始时间必须小于结束时间",type:"error"}):Object(s.a)({url:t.public.url+"/backend/gamertpset/downloadrtpdata",method:"post",data:{date_from:e,date_to:i,game_id:t.formInline.id,table_id:t.formInline.tid}}).then(function(e){window.location.href=t.public.url+e.data}).catch(function(t){})},selectType:function(t){""===this.formInline.value||void 0===this.formInline.value?(this.formInline.name="",this.formInline.id="",this.gamelist2=[],this.formInline.tid=""):(this.formInline.name=this.gamelist[t].name,this.formInline.id=Number(this.gamelist[t].id),this.formInline.tid="",function(t,e){Object(s.a)({url:t.public.url+"/backend/gamertpset/gettablenamelist",method:"post",data:{game_id:e}}).then(function(e){t.gamelist2=e.data,0!=t.gamelist2.length&&""!=t.gamelist2||t.formInline.value2}).catch(function(t){})}(this,this.formInline.id))},selectTypeTwo:function(t){this.formInline.name=this.gamelist2[t].name,this.formInline.tid=Number(this.gamelist2[t].id)},query:function(){o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id,this.formInline.tid);var t={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id,tid:this.formInline.tid};this.$store.commit("setgamertpset",t)},cell:function(t){t.row,t.column,t.rowIndex,t.columnIndex},sort:function(t){t.column;var e=t.prop,i=t.order;if(this.tableData.length>0){var n=this.tableData.shift();switch(i){case"ascending":this.tableData.sort(function(t,i){return 1*i[e]-1*t[e]});break;case"descending":this.tableData.sort(function(t,i){return 1*t[e]-1*i[e]})}this.tableData.unshift(n)}},handleSizeChange:function(t){this.pagesize=t;this.currentPage=1,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id,this.formInline.tid);var e={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id,tid:this.formInline.tid};this.$store.commit("setgamertpset",e)},handleCurrentChange:function(t){this.currentPage=1*t;o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id,this.formInline.tid);var e={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id,tid:this.formInline.tid};this.$store.commit("setgamertpset",e)}},filters:{}},d=(i("9+TV"),i("KHd+")),h=Object(d.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"query"},[i("el-row",[i("el-form",{attrs:{inline:!0,"label-width":"80px"}},[i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"游戏名称"}},[i("el-select",{attrs:{filterable:"",clearable:""},on:{change:t.selectType},model:{value:t.formInline.value,callback:function(e){t.$set(t.formInline,"value",e)},expression:"formInline.value"}},t._l(t.gamelist,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:e}})}))],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"桌子名称"}},[i("el-select",{attrs:{filterable:"",clearable:""},on:{change:t.selectTypeTwo},model:{value:t.gamelist2.name,callback:function(e){t.$set(t.gamelist2,"name",e)},expression:"gamelist2.name"}},t._l(t.gamelist2,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:e}})}))],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"重置开始时间"}},[i("el-date-picker",{attrs:{type:"datetime",editable:!1,placeholder:"选择日期"},model:{value:t.formInline.starttime,callback:function(e){t.$set(t.formInline,"starttime",e)},expression:"formInline.starttime"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"重置结束时间"}},[i("el-date-picker",{attrs:{type:"datetime",editable:!1,placeholder:"选择日期"},model:{value:t.formInline.endtime,callback:function(e){t.$set(t.formInline,"endtime",e)},expression:"formInline.endtime"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:2}},[t.gamertpsetgetrtpdatalist?i("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:t.loading},on:{click:t.query}},[t._v("查询")]):t._e()],1),t._v(" "),i("el-col",{attrs:{span:2}},[t.gamertpsetdownloadrtpdata?i("el-button",{attrs:{type:"primary"},on:{click:t.excel}},[t._v("导出excel")]):t._e()],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"pagingbox"},[i("div",{staticClass:"paging"},[i("el-button",{attrs:{icon:"el-icon-arrow-left",type:"primary",disabled:t.num<=1,loading:t.loading},on:{click:t.up}},[t._v("上一页")]),t._v(" "),i("el-button",{attrs:{type:"primary",disabled:t.tableData.length<20,loading:t.loading},on:{click:t.down}},[t._v("下一页"),i("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"cell-class-name":t.cell,border:""},on:{"sort-change":t.sort}},[i("el-table-column",{attrs:{prop:"time",label:"重置时间"}}),t._v(" "),i("el-table-column",{attrs:{prop:"game_name",label:"游戏名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"table_name",sortable:"custom","sort-orders":["ascending","descending"],label:"桌子名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"rtp",label:"RTP值"}}),t._v(" "),i("el-table-column",{attrs:{prop:"total_bet",label:"累积投注额"}}),t._v(" "),i("el-table-column",{attrs:{prop:"total_win",label:"用户总赢额"}})],1),t._v(" "),i("div",{staticClass:"pagingbox"},[i("div",{staticClass:"paging"},[i("el-button",{attrs:{icon:"el-icon-arrow-left",type:"primary",disabled:t.num<=1,loading:t.loading},on:{click:t.up}},[t._v("上一页")]),t._v(" "),i("el-button",{attrs:{type:"primary",disabled:t.tableData.length<20,loading:t.loading},on:{click:t.down}},[t._v("下一页"),i("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)])],1)},[],!1,null,null,null);h.options.__file="gamertpset.vue";e.default=h.exports},"9+TV":function(t,e,i){"use strict";var n=i("Rq5N");i.n(n).a},Rq5N:function(t,e,i){}}]);