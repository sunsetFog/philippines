(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b0f3"],{"/0rN":function(e,t,i){"use strict";var a=i("UyQd");i.n(a).a},OiIp:function(e,t,i){"use strict";i.r(t);var a=i("QbLZ"),n=i.n(a),l=i("t3Un"),r=i("L2JU");function s(e,t,i,a,n,r,s){var o={title:t.trim(),pageno:i,pagerows:a,receive_name:n.trim()};if(r){var c=r.getTime()/1e3;o.time_from=c}if(s){var u=s.getTime()/1e3;o.time_to=u}Object(l.a)({url:e.public.url+"/gameemail/getList",method:"post",data:o}).then(function(t){e.tableData=t.data.list,e.total=1*t.data.rownum,e.currentPage=1*t.data.pageno}).catch(function(e){})}function o(e,t,i,a){Object(l.a)({url:e.public.url+"/gameemail/getreceiverlist",method:"post",data:{pageno:i,pagerows:a,id:t}}).then(function(t){e.receiverlist=t.data.list,e.total1=1*t.data.rownum,e.currentPage1=1*t.data.pageno}).catch(function(e){})}var c={filters:{},data:function(){return{formInline:{title:"",receive:"",starttime:"",endtime:""},currentPage:1,tableData:[],outerVisible:!1,innerVisible:!1,formLabelWidth:"120px",title:"",total:0,pagesize:20,id:"",list:{},total1:0,currentPage1:1,pagesize1:20,receiverlist:[],nametime:"",nametitle:""}},created:function(){},computed:n()({},Object(r.b)(["roleadd","roledel","roleupdate","rolegetlist"])),watch:{},methods:{view:function(e){this.outerVisible=!0,this.id=e;var t=this;Object(l.a)({url:t.public.url+"/gameemail/getinfo",method:"post",data:{id:e}}).then(function(e){t.list=e.data}).catch(function(e){})},more:function(e,t){this.innerVisible=!0,this.nametitle=e,this.nametime=t,o(this,this.id,this.currentPage1,this.pagesize1)},query:function(){this.currentPage=1,s(this,this.formInline.title,this.currentPage,this.pagesize,this.formInline.receive,this.formInline.starttime,this.formInline.endtime)},handleSizeChange:function(e){this.pagesize=e,this.currentPage=1;s(this,this.formInline.title,this.currentPage,this.pagesize,this.formInline.receive,this.formInline.starttime,this.formInline.endtime)},handleCurrentChange:function(e){this.currentPage=1*e;s(this,this.formInline.title,this.currentPage,this.pagesize,this.formInline.receive,this.formInline.starttime,this.formInline.endtime)},handleSizeChange1:function(e){this.pagesize1=e,this.currentPage1=1,o(this,this.id,this.currentPage1,this.pagesize1)},handleCurrentChange1:function(e){this.currentPage1=1*e,o(this,this.id,this.currentPage1,this.pagesize1)}}},u=(i("/0rN"),i("KHd+")),p=Object(u.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container mail"},[i("div",{staticClass:"query"},[i("el-row",[i("el-form",{attrs:{inline:!0,"label-width":"80px"}},[i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"主题"}},[i("el-input",{attrs:{placeholder:"主题",clearable:""},model:{value:e.formInline.title,callback:function(t){e.$set(e.formInline,"title",t)},expression:"formInline.title"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"接收人员"}},[i("el-input",{attrs:{placeholder:"接收人员",clearable:""},model:{value:e.formInline.receive,callback:function(t){e.$set(e.formInline,"receive",t)},expression:"formInline.receive"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"开始日期"}},[i("el-date-picker",{attrs:{type:"date",editable:!1,placeholder:"选择日期"},model:{value:e.formInline.starttime,callback:function(t){e.$set(e.formInline,"starttime",t)},expression:"formInline.starttime"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:5}},[i("el-form-item",{attrs:{label:"结束日期"}},[i("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期"},model:{value:e.formInline.endtime,callback:function(t){e.$set(e.formInline,"endtime",t)},expression:"formInline.endtime"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"pagingbox"},[i("div",{staticClass:"paging"},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[e._v("发\n    "),i("el-table-column",{attrs:{prop:"sender_name",label:"发送人"}}),e._v(" "),i("el-table-column",{attrs:{prop:"content",label:"邮件主题"}}),e._v(" "),i("el-table-column",{attrs:{prop:"create_time",label:"发送时间"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.view(t.row.id)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),i("div",{staticClass:"pagingbox"},[i("div",{staticClass:"paging"},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,50,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),i("el-dialog",{attrs:{title:"邮件详情",visible:e.outerVisible},on:{"update:visible":function(t){e.outerVisible=t}}},[i("div",{staticClass:"line"},[i("span",[e._v(e._s(e.list.title))]),e._v(" "),i("span",{staticClass:"floatright"},[e._v(e._s(e.list.create_time))]),e._v(" "),i("p",{staticStyle:{"font-size":"16px","font-weight":"500"}},[e._v("发送至："),i("span",[e._v(e._s(e.list.receive_name))]),e._v(" "),i("el-button",{staticClass:"floatright",attrs:{type:"text"},on:{click:function(t){e.more(e.list.title,e.list.create_time)}}},[e._v("更多")])],1)]),e._v(" "),i("div",{staticStyle:{"font-size":"21px"}},[e._v("\n      "+e._s(e.list.content)+"\n    ")]),e._v(" "),i("el-dialog",{staticClass:"dialogcolor",attrs:{width:"50%",title:"邮件收件人",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[i("div",{staticStyle:{"font-size":"21px","font-weight":"700"}},[i("span",[e._v(e._s(e.nametitle))]),e._v(" "),i("span",{staticClass:"floatright"},[e._v(e._s(e.nametime))]),e._v(" "),i("p",{staticStyle:{"font-size":"16px","font-weight":"500"}},[e._v("发送至："),e._l(e.receiverlist,function(t,a){return i("span",{key:a,class:"1"===t.isread?"namegreen":"",staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.email_receiver))])})],2),e._v(" "),i("div",{staticClass:"paging",staticStyle:{float:"left"}},[i("el-pagination",{attrs:{"current-page":e.currentPage1,"page-size":e.pagesize1,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1,"update:currentPage":function(t){e.currentPage1=t}}})],1)]),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.innerVisible=!1}}},[e._v("关闭")])],1)]),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.outerVisible=!1}}},[e._v("关闭")])],1)],1)],1)},[],!1,null,null,null);p.options.__file="sendingmail.vue";t.default=p.exports},UyQd:function(e,t,i){}}]);