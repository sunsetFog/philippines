(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c19a"],{AqIE:function(t,e,a){},OWuK:function(t,e,a){"use strict";a.r(e);var n=a("QbLZ"),i=a.n(n),r=a("t3Un"),l=a("L2JU");function o(t){Object(r.a)({url:t.public.url+"/csmreplytemplate/getList",method:"post",data:{pageno:t.currentPage,pagerows:t.pagesize}}).then(function(e){t.tableData=e.data.list,t.total=1*e.data.rownum,t.currentPage=1*e.data.pageno}).catch(function(t){})}var s={filters:{},data:function(){return{currentPage:1,tableData:[],dialogFormVisible:!1,form:{desc:"",content:""},rules:{desc:[{required:!0,message:"请输入主题",trigger:"blur"},{min:0,max:16,message:"主题在16个字符以内",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"},{min:0,max:500,message:"内容在500个字符以内",trigger:"blur"}]},formLabelWidth:"120px",title:"",total:0,pagesize:50,id:""}},created:function(){o(this)},computed:i()({},Object(l.b)(["csmreplytemplateadd","csmreplytemplateupdate","csmreplytemplatedel"])),watch:{},methods:{reset:function(t){this.dialogFormVisible=!1,this.$refs.form.resetFields()},add:function(){this.title="新模板创建",this.dialogFormVisible=!0},edit:function(t){var e=this;this.id=t,this.title="修改模板",this.dialogFormVisible=!0;Object(r.a)({url:this.public.url+"/csmreplytemplate/getinfo",method:"post",data:{id:t}}).then(function(t){e.form.desc=t.data.title,e.form.content=t.data.content}).catch(function(t){})},del:function(t){var e=this,a=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(r.a)({url:a.public.url+"/csmreplytemplate/del",method:"post",data:{id:t}}).then(function(t){o(a)}).catch(function(t){})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},query:function(){this.currentPage=1,o(this)},sure:function(t){var e=this,a=this;this.$refs.form.validate(function(t){if(!t)return!1;"修改模板"==e.title?Object(r.a)({url:a.public.url+"/csmreplytemplate/update",method:"post",data:{id:e.id,title:e.form.desc,content:e.form.content}}).then(function(t){a.dialogFormVisible=!1,a.$refs.form.resetFields(),o(a)}).catch(function(t){}):Object(r.a)({url:a.public.url+"/csmreplytemplate/add",method:"post",data:{title:e.form.desc,content:e.form.content}}).then(function(t){a.dialogFormVisible=!1,a.$refs.form.resetFields(),o(a)}).catch(function(t){})})},handleSizeChange:function(t){this.pagesize=t,this.currentPage=1;o(this)},handleCurrentChange:function(t){this.currentPage=1*t;o(this)}}},c=(a("qpBC"),a("KHd+")),u=Object(c.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container mail"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"80px"}},[a("el-col",{attrs:{span:2}},[t.csmreplytemplateadd?a("el-button",{attrs:{type:"info",round:""},on:{click:t.add}},[t._v("创建新模板 ")]):t._e()],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pagesize,background:"",layout:"prev, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"creater_account",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"邮件主题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"邮件内容"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.csmreplytemplateupdate?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.edit(e.row.id)}}},[t._v("修改")]):t._e(),t._v(" "),t.csmreplytemplatedel?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.del(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[50,100,200],"page-size":t.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"主题","label-width":t.formLabelWidth,prop:"desc"}},[a("el-input",{model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth,prop:"content"}},[a("el-input",{staticClass:"texthight",attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.reset(t.form)}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sure(t.form)}}},[t._v("确 定")])],1)],1)],1)},[],!1,null,null,null);u.options.__file="mailtemplate.vue";e.default=u.exports},qpBC:function(t,e,a){"use strict";var n=a("AqIE");a.n(n).a}}]);