(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e8bd"],{LlZ3:function(e,t,a){"use strict";a.r(t);var n=a("QbLZ"),i=a.n(n),r=a("t3Un"),s=a("XJYT"),l=a("L2JU");function o(e,t,a,n,i,l){var o="",c="";if(t){var g=t.getTime()/1e3;o=m(g)}if(a){var u=a.getTime()/1e3;c=m(u+86400-1)}if(g&&u&&g>u)Object(s.Message)({message:"开始时间必须小于结束时间",type:"error"});else{var d=l.join(",");Object(r.a)({url:e.public.url+"/backend/gamesinglereport/getlist",method:"post",data:{date_from:o,date_to:c,termno:e.formInline.termno,pageno:n,pagerows:i,game_id:d}}).then(function(t){if(Object(s.Message)({message:t.message,type:"success"}),0===t.data.list.length)e.tableData=t.data.list;else{var a=t.data.total[0];a.adate="总计",e.tableData=t.data.list,e.tableData.unshift(a)}e.total=1*t.data.rownum,e.currentPage=1*t.data.pageno}).catch(function(e){})}}function m(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var c={data:function(){return{formInline:{starttime:"",endtime:"",id:"",termno:""},currentPage:1,tableData:[],gamelist:[],total:0,pagesize:50,havetime:!1,havetime1:!1}},created:function(){var e=Date.parse(new Date)-36e5,t=Date.parse(new Date);this.formInline.starttime=new Date(e),this.formInline.endtime=new Date(t),function(e){Object(r.a)({url:e.public.url+"/backend/gamename/getgamenamelist",method:"post",data:{}}).then(function(t){e.gamelist=t.data}).catch(function(e){})}(this);this.gamesinglereport.length||0==this.gamesinglereport.length||(this.formInline.starttime=this.gamesinglereport.starttime,this.currentPage=this.gamesinglereport.currentPage,this.pagesize=this.gamesinglereport.pagesize,this.formInline.endtime=this.gamesinglereport.endtime,this.formInline.id=this.gamesinglereport.id,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id))},computed:i()({},Object(l.b)(["gamesinglereportgetlist","gamesinglereport"])),watch:{},methods:{query:function(){o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id);var e={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id};this.$store.commit("setgamesinglereport",e)},cell:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 3===a&&1*t.flow<0?"red":4===a&&1*t.user_lose_money<0?"red":5===a&&1*t.user_win_money<0?"red":6===a&&1*t.tax<0?"red":7===a&&1*t.revenue<0?"red":void 0},tableclassname:function(e){e.row;return 0===e.rowIndex?"success-row":""},sort:function(e){e.column;var t=e.prop,a=e.order;if(this.tableData.length>0){var n=this.tableData.shift();switch(a){case"ascending":this.tableData.sort(function(e,a){return 1*a[t]-1*e[t]});break;case"descending":this.tableData.sort(function(e,a){return 1*e[t]-1*a[t]})}this.tableData.unshift(n)}},handleSizeChange:function(e){this.pagesize=e;this.currentPage=1,o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id);var t={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id};this.$store.commit("setgamesinglereport",t)},handleCurrentChange:function(e){this.currentPage=1*e;o(this,this.formInline.starttime,this.formInline.endtime,this.currentPage,this.pagesize,this.formInline.id);var t={starttime:this.formInline.starttime,currentPage:this.currentPage,pagesize:this.pagesize,endtime:this.formInline.endtime,id:this.formInline.id};this.$store.commit("setgamesinglereport",t)}},filters:{}},g=(a("kG0U"),a("KHd+")),u=Object(g.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"query"},[a("el-row",[a("el-form",{attrs:{inline:!0,"label-width":"80px"}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"游戏名称"}},[a("el-select",{attrs:{multiple:"",filterable:""},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}},e._l(e.gamelist,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"期号"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formInline.termno,callback:function(t){e.$set(e.formInline,"termno",t)},expression:"formInline.termno"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"开始日期"}},[a("el-date-picker",{attrs:{type:"datetime",editable:!1,placeholder:"选择日期"},model:{value:e.formInline.starttime,callback:function(t){e.$set(e.formInline,"starttime",t)},expression:"formInline.starttime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"结束日期"}},[a("el-date-picker",{attrs:{type:"datetime",editable:!1,placeholder:"选择日期"},model:{value:e.formInline.endtime,callback:function(t){e.$set(e.formInline,"endtime",t)},expression:"formInline.endtime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[e.gamesinglereportgetlist?a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")]):e._e()],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,background:"",layout:"prev, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableclassname,"cell-class-name":e.cell,border:""},on:{"sort-change":e.sort}},[a("el-table-column",{attrs:{prop:"open_award_time",label:"结算时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"game_name",label:"游戏名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"termno",sortable:"custom","sort-orders":["ascending","descending"],label:"期号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"flow",label:"流水"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_lose_money",label:"玩家输额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_win_money",label:"玩家赢额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tax",label:"税收"}}),e._v(" "),a("el-table-column",{attrs:{prop:"revenue",label:"营收"}})],1),e._v(" "),a("div",{staticClass:"pagingbox"},[a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[50,100,200],"page-size":e.pagesize,background:"",layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)])],1)},[],!1,null,null,null);u.options.__file="gamesinglereport.vue";t.default=u.exports},fthp:function(e,t,a){},kG0U:function(e,t,a){"use strict";var n=a("fthp");a.n(n).a}}]);