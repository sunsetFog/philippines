var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);i.prototype=e.prototype,t.prototype=new i},lhd;!function(t){var e=function(e){function i(t){var i=e.call(this,"LhdChangeTableSkin")||this;return i.visible=!1,i}return __extends(i,e),i.prototype.initUI=function(){this.TableList.initUI(t.CallBacks.changeTable,2)},i.prototype.getTableList=function(){return this.TableList},i.prototype.showPopup=function(){this.visible=!0,this.ChangeTableBg.visible=!0,this.Menu.scaleX=this.Menu.scaleY=0,App.EffectUtils.showUI(this.Menu),App.MouseUtils.addMouseWheel(this.onMouseWheel,this)},i.prototype.closePoput=function(){this.applyFunc(t.CallBacks.lobbySetOff),this.ChangeTableBg.visible=!1,App.SoundManager.playEffect("click_mp3");var e=this;App.EffectUtils.hideUI(this.Menu,300,0,function(){e.visible=!1}),App.MouseUtils.removeMouseWheel()},i.prototype.onMouseWheel=function(t){common.GUtils.touchMouseWheel(this.TableList.DeskScroller,this.TableList.ListItem,t.data)},i.prototype.createList=function(t,e){this.TableList.createList(t,e)},i.prototype.insertState=function(t){this.TableList.insertState(t)},i.prototype.insertChart=function(t){this.TableList.insertChart(t)},i.prototype.touchMove=function(t){this.ScrollBox.width=1e3,this.ScrollBox.x=35;var e=this.TableList.getViewportHeight(),i=this.TableList.getListHeight();this.TableList.stopAnimation(),t.localY<24?this.TableList.setScrollV(0):t.localY>e-24?this.TableList.setScrollV(i-e):this.TableList.setScrollV((i-e)/(e-48)*(t.localY-24))},i.prototype.touchEnd=function(){this.ScrollBox.width=31,this.ScrollBox.x=898},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePoput,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this),this.TableList.addEvent()},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this.close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePoput,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this),this.TableList.removeEvent()},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.TableList.destroy()},i}(BaseEuiComponent);t.ChangeTable=e,__reflect(e.prototype,"lhd.ChangeTable")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isRefresh=!1,t.openTypes=[],eui.Watcher.watch(t,["data"],t.onLoadedData,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.destroy,t),t}return __extends(i,e),i.prototype.onLoadedData=function(){this.data&&(this.TableName.text=this.data.table_name,this.renderLimitBet(),this.data.isCurrentTable?(this.EnterGame.visible=!1,this.CurrentRoom.visible=!0):(this.EnterGame.visible=!0,this.CurrentRoom.visible=!1))},i.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data&&(this.renderTimer(),this.renderIssue(),this.data.issue&&JSON.stringify(this.data.issue)==JSON.stringify(this.issue)&&(this.renderIssue(),this.issue=this.data.issue),this.data.openTypes&&JSON.stringify(this.data.openTypes)!=JSON.stringify(this.openTypes)&&(this.renderChart(this.data.table_id),this.openTypes=this.data.openTypes)),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.destroy,this)},Object.defineProperty(i.prototype,"tableId",{get:function(){return this.data.table_id},enumerable:!0,configurable:!0}),i.prototype.renderLimitBet=function(){var t=App.CommonUtils.money(this.data.limit_min_bet),e=App.CommonUtils.money(this.data.limit_max_bet);this.Limited.text="限红:"+t+"~"+e},i.prototype.renderIssue=function(){this.data.issue&&(this.Issue.text="期号:"+this.data.issue)},i.prototype.renderTimer=function(){switch(this.data.state){case t.GameStateConst.BETTING:this.betTimer(this.data.totalTime,this.data.remainingTime);break;case t.GameStateConst.EXCHANGE:this.GameStatus.text="结算中",this.StateTime.text="...",this.StateTime.y=38,this.MaskBetTimer.visible=!1}},i.prototype.betTimer=function(t,e){this.GameStatus.text="投注中",this.StateTime.text=""+Math.round(this.data.remainingTime/10),this.StateTime.y=44,this.Mandi.scaleX=e/t,this.MaskBetTimer.visible=!0},i.prototype.renderChart=function(t){var e=0,i=0,o=0;this.data.openTypes.forEach(function(t){0==t?e++:1==t?i++:o++}),this.BankerSum.text="龙"+e,this.PlayerSum.text="虎"+i,this.DrawSum.text="和"+o,this.ChartBead.renderBead(this.data.openTypes,"lhd",t),this.ChartOther.renderOtherChart(this.data.openTypes,"lhd",t)},i.prototype.destroy=function(){this.ChartBead.destroy(),this.ChartOther.destroy()},i}(eui.ItemRenderer);t.LhdDeskItem=e,__reflect(e.prototype,"lhd.LhdDeskItem")}(lhd||(lhd={}));var lhd;!function(t){var e;!function(t){t[t.DESK_LIST_N=11601]="DESK_LIST_N",t[t.DESK_STATE_N=11602]="DESK_STATE_N",t[t.DESK_CHART_N=11603]="DESK_CHART_N",t[t.CHIPS_RECORD_N=11605]="CHIPS_RECORD_N",t[t.LOBBY_SET_Q=11631]="LOBBY_SET_Q",t[t.LOBBY_SET_R=11632]="LOBBY_SET_R"}(e=t.DeskProxyConst||(t.DeskProxyConst={}));var i;!function(t){t[t.onDeskListCallBack=2e4]="onDeskListCallBack",t[t.onDeskStateCallBack=20001]="onDeskStateCallBack",t[t.onDeskChartCallBack=20002]="onDeskChartCallBack",t[t.onLobbySetCallBack=20003]="onLobbySetCallBack",t[t.onEnterGame=20004]="onEnterGame"}(i=t.DeskCallBacks||(t.DeskCallBacks={}));var o=function(){function t(){}return t.tableBtnType=1,t}();t.BtnType=o,__reflect(o.prototype,"lhd.BtnType")}(lhd||(lhd={}));var lhd;!function(t){var e=function(){function t(){this.initChips()}return Object.defineProperty(t,"i",{get:function(){return null==t._i&&(t._i=new t),t._i},enumerable:!0,configurable:!0}),t.prototype.initChips=function(){this._chips="[0, 2, 5, 8, 9]"},t.prototype.setChips=function(t){this._chips=t},Object.defineProperty(t.prototype,"Chips",{get:function(){return this._chips},enumerable:!0,configurable:!0}),t._i=null,t}();t.LhdChips=e,__reflect(e.prototype,"lhd.LhdChips")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._proxy=null,t._view=null,Log.trace("DeskController init()"),t}return __extends(i,e),i.prototype.onCreate=function(){e.prototype.onCreate.call(this),this.inits(),this.addListeners()},i.prototype.onInit=function(){e.prototype.onInit.call(this),this.registers(),App.ViewManager.open(t.ViewConst.Base),this.initDesk()},i.prototype.inits=function(){this._model=new t.DeskModel(this),this._view=new t.DeskView(this),this._proxy=new t.DeskProxy(this,this.getModel())},i.prototype.registers=function(){e.prototype.registers.call(this),App.ViewManager.register(t.ViewConst.Base,this._view),this.registerFunc(t.DeskCallBacks.onDeskListCallBack,this.onDeskListCallBack,this),this.registerFunc(t.DeskCallBacks.onDeskStateCallBack,this.onDeskStateCallBack,this),this.registerFunc(t.DeskCallBacks.onDeskChartCallBack,this.onDeskChartCallBack,this),this.registerFunc(t.DeskCallBacks.onLobbySetCallBack,this.onLobbySetCallBack,this),this.registerFunc("onClickBackRoom",this.onBack2Lobby,this),this.registerFunc(t.DeskCallBacks.onEnterGame,this.onEnterGame,this)},i.prototype.addListeners=function(){this._proxy.addEvent()},i.prototype.removeListeners=function(){this._proxy.removeEvent()},i.prototype.GameFrameResume=function(){e.prototype.GameFrameResume.call(this),this.model.isBackstage=!0,this._proxy.requestLobbySet(!1),this._proxy.requestLobbySet(!0)},Object.defineProperty(i.prototype,"model",{get:function(){return e.prototype.getModel.call(this)},enumerable:!0,configurable:!0}),i.prototype.initDesk=function(){this._proxy.requestLobbySet(!0)},i.prototype.onDeskListCallBack=function(t){this.model.isBackstage||this._view.createList(t)},i.prototype.onDeskStateCallBack=function(t){this.model.isBackstage||this._view.insertState(t)},i.prototype.onDeskChartCallBack=function(t){this.model.isBackstage||this._view.insertChart(t)},i.prototype.onLobbySetCallBack=function(t){this.model.isBackstage=!1},i.prototype.onExitGame=function(){e.prototype.onExitGame.call(this),this.goBack2Lobby(),t.BtnType.tableBtnType=1},i.prototype.onBack2Lobby=function(){this._proxy.sendLeaveGame()},i.prototype.onEnterGame=function(t){this.enterGameByDeskId(t)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.model.destroy(),this._proxy.destroy(),this._view.destroy(),this._view=void 0,this._proxy=void 0},i}(base.DeskController);t.DeskController=e,__reflect(e.prototype,"lhd.DeskController")}(lhd||(lhd={}));var lhd;!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(base.DeskModel);t.DeskModel=e,__reflect(e.prototype,"lhd.DeskModel")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(t,i){return e.call(this,t,i)||this}return __extends(i,e),Object.defineProperty(i.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),i.prototype.onDeskList=function(e){this.applyFunc(t.DeskCallBacks.onDeskListCallBack,e)},i.prototype.onDeskState=function(e){this.applyFunc(t.DeskCallBacks.onDeskStateCallBack,e)},i.prototype.onDeskChart=function(e){this.applyFunc(t.DeskCallBacks.onDeskChartCallBack,e)},i.prototype.onChipsRecord=function(e){""!=e.chips&&t.LhdChips.i.setChips(e.chips)},i.prototype.onLobbySet=function(e){this.applyFunc(t.DeskCallBacks.onLobbySetCallBack,e)},i.prototype.requestLobbySet=function(e){this.send(t.DeskProxyConst.LOBBY_SET_Q,{on:e})},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.addListener(t.DeskProxyConst.DESK_LIST_N,this.onDeskList,this),this.addListener(t.DeskProxyConst.DESK_STATE_N,this.onDeskState,this),this.addListener(t.DeskProxyConst.DESK_CHART_N,this.onDeskChart,this),this.addListener(t.DeskProxyConst.CHIPS_RECORD_N,this.onChipsRecord,this),this.addListener(t.DeskProxyConst.LOBBY_SET_R,this.onLobbySet,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this.removeListener(t.DeskProxyConst.DESK_LIST_N,this.onDeskList,this),this.removeListener(t.DeskProxyConst.DESK_STATE_N,this.onDeskState,this),this.removeListener(t.DeskProxyConst.DESK_CHART_N,this.onDeskChart,this),this.removeListener(t.DeskProxyConst.CHIPS_RECORD_N,this.onChipsRecord,this),this.removeListener(t.DeskProxyConst.LOBBY_SET_R,this.onLobbySet,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this)},i}(base.DeskProxy);t.DeskProxy=e,__reflect(e.prototype,"lhd.DeskProxy")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(t){var i=e.call(this,t,LayerManager.Game_Main,"lhd","DeskSkin")||this;return i.TableList.initComponent(t),i}return __extends(i,e),i.prototype.initUI=function(){e.prototype.initUI.call(this),1==t.BtnType.tableBtnType?(this.BtnClassics1.visible=!1,this.BtnClassics2.visible=!0,this.BtnTicket1.visible=!0,this.BtnTicket2.visible=!1):(this.BtnClassics1.visible=!0,this.BtnClassics2.visible=!1,this.BtnTicket1.visible=!1,this.BtnTicket2.visible=!0),this.TableList.initUI(t.DeskCallBacks.onEnterGame),this.initBroadcast(this),App.OffsetLeft(this.leftFive),this.BtnReturn.visible=!App.isWebInsert},i.prototype.createList=function(t){this.TableList.createList(t)},i.prototype.insertState=function(t){this.TableList.insertState(t)},i.prototype.insertChart=function(t){this.TableList.insertChart(t)},i.prototype.toggleBtn=function(e){var i=e.currentTarget;switch(i.visible=!1,i){case this.BtnClassics1:this.BtnClassics2.visible=!0,this.BtnTicket1.visible=!0,this.BtnTicket2.visible=!1,this.TableList.setDeskType(1),t.BtnType.tableBtnType=1;break;case this.BtnTicket1:this.BtnTicket2.visible=!0,this.BtnClassics1.visible=!0,this.BtnClassics2.visible=!1,this.TableList.setDeskType(2),t.BtnType.tableBtnType=2}this.TableList.refreshList()},i.prototype.onMouseWheel=function(t){common.GUtils.touchMouseWheel(this.TableList.DeskScroller,this.TableList.ListItem,t.data)},i.prototype.onBackRoom=function(){this.applyFunc("onClickBackRoom")},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),App.CommonUtils.effectButton(this.BtnClassics1,this.toggleBtn,this,{}),App.CommonUtils.effectButton(this.BtnTicket1,this.toggleBtn,this,{}),App.CommonUtils.effectButton(this.BtnReturn,this.onBackRoom,this),App.MouseUtils.addMouseWheel(this.onMouseWheel,this),this.TableList.addEvent()},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),App.CommonUtils.removeButton(this.BtnClassics1),App.CommonUtils.removeButton(this.BtnTicket1),App.CommonUtils.removeButton(this.BtnReturn),App.MouseUtils.removeMouseWheel(),this.TableList.removeEvent()},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.TableList.destroy()},i}(base.DeskView);t.DeskView=e,__reflect(e.prototype,"lhd.DeskView")}(lhd||(lhd={}));var lhd;!function(t){var e;!function(e){var i=function(){function e(){}return e.prototype.getVersion=function(){return"v1.0.1"},e.prototype.reconstruction=function(t){var e=base.getController(t);e&&e.onReconstruction()},e.prototype.create=function(e){e==ControllerConst.Room||(e==ControllerConst.Game?App.ControllerManager.register(ControllerConst.Game,new t.GameController):e==ControllerConst.Desk&&App.ControllerManager.register(ControllerConst.Desk,new t.DeskController));var i=base.getController(e);i&&i.onCreate()},e.prototype.initialize=function(t){var e=base.getController(t);e&&e.onInit()},e.prototype.destroy=function(t){},e}();e.lhd=i,__reflect(i.prototype,"lhd.Entrance.lhd",["base.IEntranceface"])}(e=t.Entrance||(t.Entrance={}))}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(t){var o=e.call(this,t)||this;o._currState="";var n="wash";return o.initDBRes(n),o.armature=o.createArmature("play",n,i._mActionList),o.armature.addCompleteCallFunc(o.armaturePlayEnd,o),o}return __extends(i,e),i.prototype.getState=function(){return this._currState},i.prototype.setState=function(t){this._currState=t},i.prototype.init=function(){e.prototype.init.call(this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEffect(),this._mPlayEndCallBacK=void 0,this._mPlayEndThisObj=void 0},i.prototype.goToWash=function(){this.armature.play(i.ACTION_WASH,-1),this.removeEffect(),this.setState(i.ACTION_WASH),App.SoundManager.playEffect(t.SoundConst.CARD_WASH)},i.prototype.armaturePlayEnd=function(){egret.Tween.get(this).to({y:-210,scaleX:.5,scaleY:.5},400,egret.Ease.sineInOut).call(function(){this.alpha=0,this._mPlayEndCallBacK&&this._mPlayEndCallBacK.call(this._mPlayEndThisObj)}.bind(this))},i.prototype.addPlayEndCallBack=function(t,e){this._mPlayEndCallBacK=t,this._mPlayEndThisObj=e},i.prototype.removeEffect=function(){},i.prototype.playEffect=function(t){},i.prototype.die=function(){},i.ACTION_WASH="clean",i._mActionList=[i.ACTION_WASH],i}(base.BaseGameObject);t.Shuffle=e,__reflect(e.prototype,"lhd.Shuffle")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(){var t=e.call(this,"LhdBetBox")||this;return t.coinArr=[],t.winpos=[],t.allChipList=[],t}return __extends(i,e),i.prototype.bet=function(e){this.applyFunc(t.CallBacks.bet,e)},i.prototype.setHitrate=function(t){var e=2-Number(App.CommonUtils.money2Str(t));this.BeilvLong.text=String(e),this.BeilvHu.text=String(e)},i.prototype.initCoinArr=function(){this.coinArr.length=0;for(var t=0;3>t;t++){var e={coinBoxObj0:{_coinType:"",_coinNum:0,_currentY:0},coinBoxObj1:{_coinType:"",_coinNum:0,_currentY:0},coinBoxObj2:{_coinType:"",_coinNum:0,_currentY:0}};this.coinArr.push(e)}},i.prototype.showSelfBet=function(t){for(var e=0;e<t.length;e++){var i=Math.floor(App.CommonUtils.money(t[e]));i?this["MyBet_"+e].text=""+i:this["MyBet_"+e].text=""}},i.prototype.showMyPreBet=function(t){for(var e=0;e<t.length;e++){var i=Math.floor(App.CommonUtils.money(t[e]));i?this["MyPreBet_"+e].text=""+i:this["MyPreBet_"+e].text=""}},i.prototype.showBetMoney=function(t){for(var e=0;e<t.length;e++)if(t[e]){var i=Math.floor(App.CommonUtils.money(t[e]));i&&(this["TotalBet_"+e].text=""+i,this["isBet_"+e]=!0,this.showCoin(e,i))}else this["TotalBet_"+e].text=""},i.prototype.showCoin=function(t,e){var i=this.getNumObj(e),o=Object.keys(i),n=this["CoinBox_"+t+"_1"],s=this["CoinBox_"+t+"_2"],r=this["CoinBox_"+t+"_3"];this.renderCoinType(o[0],i[o[0]],this.coinArr[t].coinBoxObj0,n),o.length>1?this.renderCoinType(o[1],i[o[1]],this.coinArr[t].coinBoxObj1,s):(s.removeChildren(),this.coinArr[t].coinBoxObj1._coinType="",this.coinArr[t].coinBoxObj1._coinNum=0,this.coinArr[t].coinBoxObj1._currentY=0),o.length>2?this.renderCoinType(o[2],i[o[2]],this.coinArr[t].coinBoxObj2,r):(r.removeChildren(),this.coinArr[t].coinBoxObj2._coinType="",this.coinArr[t].coinBoxObj2._coinNum=0,this.coinArr[t].coinBoxObj2._currentY=0)},i.prototype.renderCoinType=function(t,e,i,o){t==i._coinType?e>i._coinNum?this.addCoin(o,t,e-i._coinNum,i):e<i._coinNum&&(o.removeChildren(),i._currentY=0,this.addCoin(o,t,e,i)):(o.removeChildren(),i._currentY=0,this.addCoin(o,t,e,i)),i._coinType=t,i._coinNum=e},i.prototype.addCoin=function(e,i,o,n){var s,r="";switch(i){case"sw":r="common_ui_10_png",s=1e5;break;case"w":r="common_ui_4_png",s=1e4;break;case"q":r="common_ui_8_png",s=1e3;break;case"b":r="common_ui_5_png",s=100;break;case"s":r="common_ui_2_png",s=10;break;case"g":r="common_ui_0_png",s=1}for(var a=0,h=-60,l=0,p=[],c=0;o>c;c++){var d=common.CoinFactory.i.createCoin();d.refresh(r,s,a,h),d.alpha=0,p.push(d),e.addChild(d)}p.forEach(function(e,i){if(0==n._currentY)l=0;else if(this.randomNum()>.65){var o=this.randomNum();l=o>.5?2:-2}else l=0;egret.Tween.get(p[i]).wait(150*i).to({y:n._currentY,x:l},150,egret.Ease.sineInOut),function(e){R.setTimeOnce(function(){App.SoundManager.playEffect(t.SoundConst.BET),p[e].alpha=1},this,150*e)}(i),n._currentY-=5}.bind(this))},i.prototype.getNumObj=function(t){var e=String(t).split(""),i={sw:0,w:0,q:0,b:0,s:0,g:0};switch(e.length){case 1:i.g=Number(e[0]);break;case 2:i.s=Number(e[0]),i.g=Number(e[1]);break;case 3:i.b=Number(e[0]),i.s=Number(e[1]),i.g=Number(e[2]);break;case 4:i.q=Number(e[0]),i.b=Number(e[1]),i.s=Number(e[2]),i.g=Number(e[3]);break;case 5:i.w=Number(e[0]),i.q=Number(e[1]),i.b=Number(e[2]),i.s=Number(e[3]),i.g=Number(e[4]);break;case 6:i.sw=Number(e[0]),i.w=Number(e[1]),i.q=Number(e[2]),i.b=Number(e[3]),i.s=Number(e[4]),i.g=Number(e[5])}for(var o in i)0==i[o]&&delete i[o];return i},i.prototype.randomNum=function(){return Math.random()},i.prototype.coinFlicker=function(t){t.forEach(function(t){for(var e=1;4>e;e++){var i=this["CoinBox_"+t+"_"+e];egret.Tween.get(i).to({alpha:0},150)}}.bind(this))},i.prototype.coinStopFlicker=function(t){t.forEach(function(t){for(var e=1;4>e;e++){var i=this["CoinBox_"+t+"_"+e];i.alpha=1}}.bind(this))},i.prototype.createHeadPosition=function(){for(var t=0;t<this.GroupHeadPos.numChildren;t++){var e=void 0,i=void 0;switch(t){case 0:e=this.HeadPos0.left,i=App.StageUtils.getHeight()/2+this.HeadPos0.verticalCenter;break;case 1:e=this.HeadPos1.left,i=App.StageUtils.getHeight()/2+this.HeadPos1.verticalCenter;break;case 2:e=App.StageUtils.getWidth()-this.HeadPos2.right,i=App.StageUtils.getHeight()/2+this.HeadPos2.verticalCenter;break;case 3:e=App.StageUtils.getWidth()-this.HeadPos3.right,i=App.StageUtils.getHeight()/2+this.HeadPos3.verticalCenter;break;case 4:e=this.HeadPos4.left,i=App.StageUtils.getHeight()-(this.HeadPos4.bottom+this.HeadPos4.height);break;case 5:e=this.HeadPos5.left,i=App.StageUtils.getHeight()-(this.HeadPos5.bottom+this.HeadPos5.height)}var o=this.GroupHeadPos.localToGlobal(e,i);this.winpos.push(o)}},i.prototype.betToPlaceAni=function(t,e,i){base.GameCoinMgr.i.flyToPlace(t,this["BetPoint_"+e],i,this.winpos,this.GroupChip)},i.prototype.cleanChip=function(){base.GameCoinMgr.i.clean()},i.prototype.createWinChip=function(t,e){if(this["isBet_"+t]){var i=this["BetBox_"+t],o=this["ChipPos"+t],n=void 0,s=void 0;n=App.StageUtils.getWidth()/2+o.horizontalCenter,s=App.StageUtils.getHeight()-o.bottom-o.height;for(var r=this.winpos[e],a=this.GroupChip.globalToLocal(r.x,r.y),h=0;5>h;h++){var l=App.MathUtils.random(0,i.width),p=App.MathUtils.random(0,i.height),c=common.chipBtn.create();c.init(h),c.setNameNum(e);var d=Math.floor(n+l),u=Math.floor(s+p),y=Math.floor(a.x),C=Math.floor(a.y);this.GroupChip.addChild(c),c.x=i.x+i.width/2,c.y=i.y+i.height/2,c.scaleX=.5,c.scaleY=.5,c.alpha=0,c.setScore(),c.setFlyX(d),c.setFlyY(u),c.setFlyChipX(y),c.setFlyChipY(C),this.allChipList.push(c)}}},i.prototype.flyWinChip=function(){this.allChipList&&this.allChipList.length&&(this.allChipList.forEach(function(t){t.moveTo()}),(this.isBet_0||this.isBet_1||this.isBet_2)&&App.SoundManager.playEffect(t.SoundConst.WIN_BET))},i.prototype.clearFlyWinChip=function(){for(;this.allChipList&&this.allChipList.length;){var t=this.allChipList.pop();common.chipBtn.release(t)}},i.prototype.clearCoin=function(){for(var t=0;3>t;t++){this["isBet_"+t]=!1,this["TotalBet_"+t].text="",this["MyBet_"+t].text="",this["MyPreBet_"+t].text="";for(var e=1;4>e;e++)this.removeCoins(this["CoinBox_"+t+"_"+e])}},i.prototype.coinAniClear=function(t){t.length&&(this.coinFlicker(t),R.setTimeOnce(function(){this.coinStopFlicker(t)},this,200)),R.setTimeOnce(function(){this.clearCoin(),this.flyWinChip()},this,350)},i.prototype.removeCoins=function(t){for(;t.numChildren;){var e=t.removeChildAt(0);common.CoinFactory.i.releaseCoin(e)}},i.prototype.getStarEndPoint=function(t){var e;return e=this["StarPos_"+t].parent.localToGlobal(this["StarPos_"+t].x,this["StarPos_"+t].y)},i.prototype.getParabolicPoint=function(t){var e;return e=this["Parabolic_"+t].parent.localToGlobal(this["Parabolic_"+t].x,this["Parabolic_"+t].y)},i.prototype.showStar=function(t){this["StarPos_"+t].visible=!0},i.prototype.hideStar=function(){this.StarPos_0.visible=!1,this.StarPos_1.visible=!1,this.StarPos_2.visible=!1},i.prototype.hideTableLight=function(){this.TouchBtn_0.alpha=0,this.TouchBtn_1.alpha=0,this.TouchBtn_2.alpha=0},i.prototype.showTableLight=function(t){t.forEach(function(t){var e=this["TouchBtn_"+t];egret.Tween.get(e).wait(0).to({alpha:1},0),egret.Tween.get(e).wait(100).to({alpha:.7},400),egret.Tween.get(e).wait(550).to({alpha:1},0),egret.Tween.get(e).wait(650).to({alpha:.7},400),egret.Tween.get(e).wait(1050).to({alpha:1},0)}.bind(this))},i.prototype.addEvent=function(){for(var t=0;3>t;t++)this["TouchBtn_"+t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.bet.bind(this,t),this)},i.prototype.removeEvent=function(){for(var t=0;3>t;t++)this["TouchBtn_"+t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.bet.bind(this,t),this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.clearFlyWinChip(),this.cleanChip(),R.removeAllTimeOut(this),common.chipBtn.cleanchipBtnPool(),common.CoinFactory.i.clear(),this.allChipList=void 0,this.coinArr=void 0,this.winpos=void 0},i}(BaseEuiComponent);t.BetBox=e,__reflect(e.prototype,"lhd.BetBox")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(){return e.call(this,"LhdCardSkin")||this}return __extends(i,e),i.prototype.open=function(){this.clearWinner()},i.prototype.clearCard=function(){R.removeAllTimeOut(this),egret.Tween.removeTweens(this.GroupWin),this.cardLong&&this.cardLong.parent&&(egret.Tween.removeTweens(this.cardLong),this.cardLong.parent.removeChild(this.cardLong),this.cardLong=void 0),this.cardHu&&this.cardHu.parent&&(egret.Tween.removeTweens(this.cardHu),this.cardHu.parent.removeChild(this.cardHu),this.cardHu=void 0)},i.prototype.clearWinner=function(){this.HuWin.visible=!1,this.LongWin.visible=!1,this.He.visible=!1},i.prototype.dealCard=function(t){this.createNewCard(),this.cardLong.x=this.longPoint.x,this.cardLong.y=this.longPoint.y,this.cardHu.x=this.huPoint.x,this.cardHu.y=this.huPoint.y,this.dealAni(this.cardLong,0,t),this.dealAni(this.cardHu,600,t)},i.prototype.putCard=function(){this.createNewCard(),this.put(this.cardLong),this.put(this.cardHu)},i.prototype.createNewCard=function(){this.clearCard(),this.initPoint(),this.cardLong=this.createCard(),this.cardHu=this.createCard(),this.GroupLong.addChild(this.cardLong),this.GroupHu.addChild(this.cardHu)},i.prototype.dealAni=function(e,i,o){egret.Tween.get(e).wait(i).to({x:45,y:60,scaleX:1,scaleY:1,rotation:180,anchorOffsetX:45,anchorOffsetY:60},400).call(function(){if(App.SoundManager.playEffect(t.SoundConst.DEAL),e.rotation=0,i){if(!o)return;this.applyFunc(t.CallBacks.onShowTimerCallBack)}}.bind(this))},i.prototype.put=function(t){t.x=45,t.y=60,t.scaleX=t.scaleY=1,t.anchorOffsetX=45,t.anchorOffsetY=60},i.prototype.createCard=function(){var t=new eui.Image;return t.source="common_ui_cardback_png",t.scaleX=.5,t.scaleY=.5,t},i.prototype.initPoint=function(){var t=this.GroupDeal.localToGlobal(0,0);this.longPoint=this.GroupLong.globalToLocal(t.x,t.y),this.huPoint=this.GroupHu.globalToLocal(t.x,t.y)},i.prototype.openCard=function(e,i){egret.Tween.get(this.cardLong).to({scaleX:0},250,egret.Ease.sineInOut).call(function(){this.cardLong.source=this.getCardWithNum(e),App.SoundManager.playEffect(t.SoundConst.SHOW),egret.Tween.get(this.cardLong).to({scaleX:1},250,egret.Ease.sineInOut).call(function(){App.SoundManager.playEffect(t.SoundConst.RESULT[this.getCardNumber(e)])}.bind(this))}.bind(this)),egret.Tween.get(this.cardHu).wait(1500).to({scaleX:0},250,egret.Ease.sineInOut).call(function(){this.cardHu.source=this.getCardWithNum(i),App.SoundManager.playEffect(t.SoundConst.SHOW),egret.Tween.get(this.cardHu).to({scaleX:1},250,egret.Ease.sineInOut).call(function(){App.SoundManager.playEffect(t.SoundConst.RESULT[this.getCardNumber(i)])}.bind(this))}.bind(this)),R.setTimeOnce(function(){this.applyFunc(t.CallBacks.onRunWinnerCallBack)}.bind(this),this,3e3)},i.prototype.showCard=function(t,e){this.cardLong.source=this.getCardWithNum(t),this.cardHu.source=this.getCardWithNum(e)},i.prototype.getCardWithNum=function(t){var e=t>>4&15,i=15&t,o=11==i?"j":12==i?"q":13==i?"k":i;if(0==e)var n="black";else if(1==e)var n="heart";else if(2==e)var n="flower";else if(3==e)var n="square";var s="common_ui_card"+n+o+"_png";return 0==e&&0==o&&(s=""),s},i.prototype.getCardNumber=function(t){var e=15&t;return e},i.prototype.runWinner=function(t){this.showWinner(t),this.GroupWin.scaleX=this.GroupWin.scaleY=4,egret.Tween.get(this.GroupWin).to({scaleX:1,scaleY:1},150,egret.Ease.sineInOut)},i.prototype.showWinner=function(e){switch(e){case t.TypeConst.LOONG:this.LongWin.visible=!0,this.HuWin.visible=!1,this.He.visible=!1;break;case t.TypeConst.TIGER:this.LongWin.visible=!1,this.HuWin.visible=!0,this.He.visible=!1;break;case t.TypeConst.TIE:this.LongWin.visible=!1,this.HuWin.visible=!1,this.He.visible=!0}},i.prototype.addEvent=function(){},i.prototype.removeEvent=function(){},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.clearCard()},i}(BaseEuiComponent);t.CardView=e,__reflect(e.prototype,"lhd.CardView")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(i){var o=e.call(this,"LhdTableListSkin")||this;return o.deskType=t.BtnType.tableBtnType,o.deskList=[],o}return __extends(i,e),i.prototype.initUI=function(e,i){this.eventName=e;var o=new eui.VerticalLayout;this.ListItem.layout=o,this.DeskScroller.viewport=this.ListItem,this.DeskScroller.scrollPolicyV=eui.ScrollPolicy.ON,this.DeskScroller.scrollPolicyH=eui.ScrollPolicy.OFF,this.ListItem.itemRenderer=t.LhdDeskItem,this.tempCollection=new eui.ArrayCollection,2==i?(this.deskType=0,this.DeskScroller.verticalScrollBar.visible=!0):this.DeskScroller.verticalScrollBar.visible=!1},i.prototype.setDeskType=function(t){this.deskType=t},i.prototype.createList=function(t,e){var i=App.CommonUtils.deepCopyData(t.tables),o=[],n=[];i.forEach(function(t){e&&e==t.table_id?t.isCurrentTable=!0:t.isCurrentTable=!1,1==t.table_type?o.push(t):n.push(t)}),o.sort(function(t,e){return t.order-e.order}),n.sort(function(t,e){return t.order-e.order}),this.deskList.length=0,this.deskList=o.concat(n),this.deskList.length&&this.refreshList()},i.prototype.getCheckedList=function(){if(0==this.deskType)return this.deskList;var t=[];return this.deskList.forEach(function(e){e.table_type==this.deskType&&t.push(e)}.bind(this)),t},i.prototype.refreshList=function(){if(this.deskList.length){this.DeskScroller.stopAnimation(),this.tempCollection.refresh();var t=this.getCheckedList();this.tempCollection.replaceAll(t),this.ListItem.dataProvider=this.tempCollection,this.tempCollection.refresh()}},i.prototype.insertState=function(t){this.deskList.forEach(function(e,i){e.table_id==t.table_id&&this.updateItemData(e,t)}.bind(this))},i.prototype.updateItemData=function(e,i){switch(e.issue=i.issue,e.state=i.state,e.remainingTime=Math.round(i.remaining_time/100),e.totalTime=Math.round(i.total_time/100),i.state){case t.GameStateConst.BETTING:App.TimerManager.doTimer(100,e.remainingTime,function(){e.remainingTime>=10&&e.state==t.GameStateConst.BETTING&&(e.remainingTime--,this.updateRenderData())},this);break;case t.GameStateConst.EXCHANGE:App.TimerManager.doTimer(1e3,e.remainingTime/10,function(){e.remainingTime>=10&&e.state==t.GameStateConst.EXCHANGE&&(e.remainingTime-=10,this.updateRenderData())}.bind(this),this)}this.updateRenderData()},i.prototype.updateRenderData=function(){for(var t=this.getCheckedList(),e=0;e<t.length;e++){var i=this.tempCollection.getItemAt(e);i=t[e],this.tempCollection.itemUpdated(i)}},i.prototype.insertChart=function(t){this.deskList.length&&(this.deskList.forEach(function(e){e.table_id==t.table_id&&(e.openTypes?e.openTypes=e.openTypes.concat(t.open_types):e.openTypes=t.open_types,e.openTypes.length>60&&e.openTypes.splice(0,60))}.bind(this)),this.updateRenderData())},i.prototype.onEnterGame=function(){var t=this.ListItem.selectedIndex,e=this.ListItem.getElementAt(t);this.applyFunc(this.eventName,e.tableId)},i.prototype.setScrollV=function(t){this.DeskScroller.viewport.scrollV=t},i.prototype.getListHeight=function(){var t=this.DeskScroller.viewport.contentHeight;return t},i.prototype.getViewportHeight=function(){var t=this.DeskScroller.viewport.height;return t},i.prototype.stopAnimation=function(){this.DeskScroller.stopAnimation()},i.prototype.addEvent=function(){this.ListItem.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEnterGame,this)},i.prototype.removeEvent=function(){this.ListItem.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onEnterGame,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),common.BeadFactory.i.clear(),App.TimerManager.removeAll(this),this.tempCollection=void 0,this.deskList=void 0},i}(BaseEuiComponent);t.LhdTableList=e,__reflect(e.prototype,"lhd.LhdTableList")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(){var t=e.call(this,"LhdChartSkin")||this;return t.record=[],t.chartRecord=[],t}return __extends(i,e),i.prototype.openChart=function(e){egret.Tween.get(this.GroupChart).to({right:0},200,egret.Ease.sineInOut),this.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.DIRECT_MAPS):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.DIRECT_MAPS)},i.prototype.closeChart=function(){egret.Tween.get(this.GroupChart).to({right:-280},200,egret.Ease.sineInOut)},i.prototype.renderApproach=function(e,i){this.tableType=i,this.record=JSON.parse(JSON.stringify(e)),this.record.length>19&&this.record.splice(0,this.record.length-19),this.GroupApproach.removeChildren();var o=3,n=-1;this.record.forEach(function(e){var i=new eui.Image;i.x=o,i.y=n,i.source=e==t.TypeConst.LOONG?RES.getRes("lhd_ui_long"):e==t.TypeConst.TIGER?RES.getRes("lhd_ui_hu"):RES.getRes("lhd_ui_she"),o+=40,this.GroupApproach.addChild(i)}.bind(this))},i.prototype.renderChart=function(t,e){this.chartRecord=JSON.parse(JSON.stringify(t)),this.longCount=0,this.huCount=0,this.tieCount=0,this.allCount=0,this.chartRecord.length&&(this.chartRecord.length>60&&this.chartRecord.splice(0,60),this.chartRecord.forEach(function(t){0==t?this.longCount+=1:1==t?this.huCount+=1:this.tieCount+=1
}.bind(this)),this.allCount=this.chartRecord.length,this.CountLong.text=""+this.longCount,this.CountHu.text=""+this.huCount,this.CountTie.text=""+this.tieCount,this.CountAll.text=""+this.allCount),this.ChartBead.renderBead(this.chartRecord,"lhd",e),this.ChartOther.renderOtherChart(this.chartRecord,"lhd",e);var i=this.ChartOther.getAskRoad(0),o=this.ChartOther.getAskRoad(1);this.renderRedAskRoad(i),this.renderBlackAskRoad(o)},i.prototype.renderRedAskRoad=function(t){this.LongAskRoad.removeChildren(),this.renderAskRoad(t,this.LongAskRoad)},i.prototype.renderBlackAskRoad=function(t){this.HuAskRoad.removeChildren(),this.renderAskRoad(t,this.HuAskRoad)},i.prototype.renderAskRoad=function(t,e){if(t.length){var i=new eui.Image;i.x=0,i.y=2,i.source=RES.getRes("lhd_ui_dyl_"+t[0]),e.addChild(i)}if(t.length>1){var i=new eui.Image;i.x=12,i.y=2,i.source=RES.getRes("lhd_ui_xl_"+t[1]),e.addChild(i)}if(t.length>2){var i=new eui.Image;i.x=24,i.y=2,i.source=RES.getRes("lhd_ui_xql_"+t[2]),e.addChild(i)}},i.prototype.addEvent=function(){this.BtnOpenChart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openChart,this),this.BtnCloseChart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeChart,this)},i.prototype.removeEvent=function(){this.BtnOpenChart.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openChart,this),this.BtnCloseChart.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeChart,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),common.BeadFactory.i.clear(),this.record=void 0,this.chartRecord=void 0},i}(BaseEuiComponent);t.ChartView=e,__reflect(e.prototype,"lhd.ChartView")}(lhd||(lhd={}));var lhd;!function(t){var e=function(t){function e(e){var i=t.call(this,"LhdHelpSkin")||this;return i.visible=!1,i}return __extends(e,t),e.prototype.initUI=function(){this.scrollerItem.viewport.scrollH=0,this.scrollerItem.viewport=this.gameList},e.prototype.showPopup=function(){this.visible=!0,this.HelpBg.visible=!0,this.Menu.scaleX=this.Menu.scaleY=0,App.EffectUtils.showUI(this.Menu),App.MouseUtils.addMouseWheel(this.onMouseWheel,this)},e.prototype.closePoput=function(){this.HelpBg.visible=!1;var t=this;App.EffectUtils.hideUI(this.Menu,200,0,function(){t.visible=!1}),App.MouseUtils.removeMouseWheel()},e.prototype.onMouseWheel=function(t){common.GUtils.touchMouseWheel(this.scrollerItem,this.gameList,t.data)},e.prototype.touchMove=function(t){this.scrollerItem.stopAnimation(),this.ScrollBox.width=850,this.ScrollBox.x=0;var e=this.scrollerItem.viewport;t.localY<24?e.scrollV=0:t.localY>e.height-24?e.scrollV=this.gameList.contentHeight-e.height:e.scrollV=(this.gameList.contentHeight-e.height)/(e.height-48)*(t.localY-24)},e.prototype.touchEnd=function(){this.ScrollBox.width=34,this.ScrollBox.x=608},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEvent()},e.prototype.addEvent=function(){this.HelpClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePoput,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this)},e.prototype.removeEvent=function(){this.HelpClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePoput,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeEvent()},e}(BaseEuiComponent);t.HelpView=e,__reflect(e.prototype,"lhd.HelpView")}(lhd||(lhd={}));var lhd;!function(t){var e=function(t){function e(e){var i=t.call(this,"LotteryRuleSkin")||this;return i.visible=!1,i}return __extends(e,t),e.prototype.addEvent=function(){t.prototype.addEvent.call(this),this.Close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePoput,this)},e.prototype.removeEvent=function(){t.prototype.removeEvent.call(this),this.Close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePoput,this)},e.prototype.showPopup=function(){App.EffectUtils.showView(this)},e.prototype.closePoput=function(){var t=this;App.EffectUtils.hideView(this,function(){t.visible=!1},this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeEvent()},e}(BaseEuiComponent);t.LotteryRule=e,__reflect(e.prototype,"lhd.LotteryRule")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(t){return e.call(this,"LhdTimerSkin")||this}return __extends(i,e),i.prototype.open=function(){this.hideTimer(),this.hideAwardAni()},i.prototype.startTimer=function(e,i){this._currentSecond=e.time,this._currentState=e.status,this.tableType=i,this._currentSecond&&(i==t.TableTypeConst.CLASSIC?this.TimeLbL.text=""+this._currentSecond:this.renderLottery(),App.TimerManager.doTimer(1e3,this._currentSecond,this.timerFunc,this))},i.prototype.renderLottery=function(){if(this._currentSecond<3600){var t=this._currentSecond%60,e=Math.floor(this._currentSecond/60);this.timeSecond.text=10>t?"0"+t:""+t,this.timeMinute.text=10>e?"0"+e:""+e}},i.prototype.numShake=function(){egret.Tween.get(this.TimeLbL).to({scaleX:1.5,scaleY:1.5},100,egret.Ease.sineInOut),R.setTimeOnce(function(){egret.Tween.get(this.TimeLbL).to({scaleX:1,scaleY:1},300,egret.Ease.sineInOut)},this,500)},i.prototype.showTimer=function(e){e==t.TableTypeConst.CLASSIC?(this.GroupClassic.visible=!0,this.GroupLottery.visible=!1):(this.GroupClassic.visible=!1,this.GroupLottery.visible=!0)},i.prototype.hideTimer=function(){this.GroupClassic.visible=!1,this.GroupLottery.visible=!1,this.TimeLbL.scaleX=this.TimeLbL.scaleY=1},i.prototype.timerFunc=function(){this._currentSecond?(this._currentSecond--,this._currentState==t.GameStateConst.BETTING&&(this._currentSecond<4&&(App.SoundManager.playEffect(t.SoundConst.COUNT_DOWN),this.numShake()),this.tableType==t.TableTypeConst.CLASSIC?this._currentSecond&&(this.TimeLbL.text=3==this._currentSecond?"w":2==this._currentSecond?"m":1==this._currentSecond?"n":this._currentSecond+""):this.renderLottery())):this.stopTimer()},i.prototype.stopTimer=function(){App.TimerManager.remove(this.timerFunc,this),this.GroupClassic.visible=!1,this.TimeLbL.scaleX=this.TimeLbL.scaleY=1},i.prototype.setCurIssue=function(t){this.Issue.text="第"+t+"期"},i.prototype.awarding=function(){if(this.spotanim||(this.spotanim=new common.comBones),!this.spotanim.parent){var t="spot";this.GroupAward.addChild(this.spotanim),this.spotanim.updateId(t),this.spotanim.setPosition(0,0)}this.spotanim.play(999)},i.prototype.getRemaniTime=function(){return this._currentSecond},i.prototype.showAwardAni=function(){this.GroupAward.visible=!0},i.prototype.hideAwardAni=function(){this.GroupAward.visible=!1},i.prototype.clearAward=function(){this.spotanim&&(this.spotanim.destroy(),this.spotanim=void 0)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.stopTimer(),this.clearAward()},i}(BaseEuiComponent);t.Timer=e,__reflect(e.prototype,"lhd.Timer")}(lhd||(lhd={}));var lhd;!function(t){var e;!function(t){t[t.Base=1200]="Base",t[t.Popup=1201]="Popup"}(e=t.ViewConst||(t.ViewConst={}));var i;!function(t){t[t.BET_SUCC=0]="BET_SUCC",t[t.BET_ERROR_PLACE=1]="BET_ERROR_PLACE",t[t.BET_ERROR_MONEY=2]="BET_ERROR_MONEY",t[t.BET_ERROR_STATE=3]="BET_ERROR_STATE",t[t.BET_ERROR_OUTLIMIT=4]="BET_ERROR_OUTLIMIT",t[t.BET_ERROR_OUTTOTALLIMIT=5]="BET_ERROR_OUTTOTALLIMIT",t[t.BET_ERROR_NOENOUGH_MONEY=6]="BET_ERROR_NOENOUGH_MONEY"}(i=t.BetCodeConst||(t.BetCodeConst={}));var o=function(){function t(){}return t.ERRTXT_LIST=["","下注位置错误","下注金额太小或太大溢出","不在下注状态","超出单人限额","超出所有人总共限额","没有足够的余额"],t}();t.CodeErrorTxt=o,__reflect(o.prototype,"lhd.CodeErrorTxt");var n;!function(t){t[t.BETTING=1]="BETTING",t[t.EXCHANGE=2]="EXCHANGE"}(n=t.GameStateConst||(t.GameStateConst={}));var s;!function(t){t[t.PSYCHIC=0]="PSYCHIC",t[t.PLUTE1=1]="PLUTE1",t[t.PLUTE2=2]="PLUTE2",t[t.PLUTE3=3]="PLUTE3",t[t.SELF=4]="SELF",t[t.ONLINE=5]="ONLINE"}(s=t.PlayerConst||(t.PlayerConst={}));var r;!function(t){t[t.LOONG=0]="LOONG",t[t.TIGER=1]="TIGER",t[t.TIE=2]="TIE"}(r=t.TypeConst||(t.TypeConst={}));var a;!function(t){t[t.CLASSIC=1]="CLASSIC",t[t.LOTTORY=2]="LOTTORY"}(a=t.TableTypeConst||(t.TableTypeConst={}));var h;!function(t){t[t.DESK_LIST_N=11601]="DESK_LIST_N",t[t.DESK_STATE_N=11602]="DESK_STATE_N",t[t.DESK_CHART_N=11603]="DESK_CHART_N",t[t.CHIPS_RECORD_Q=11604]="CHIPS_RECORD_Q",t[t.CHIPS_RECORD_N=11605]="CHIPS_RECORD_N",t[t.RANKING_Q=11606]="RANKING_Q",t[t.RANKING_R=11607]="RANKING_R",t[t.ONLINE_COUNT_N=11608]="ONLINE_COUNT_N",t[t.ISSUE_N=11609]="ISSUE_N",t[t.SPECIAL_PLAYER_N=11610]="SPECIAL_PLAYER_N",t[t.GAME_STATE_N=11611]="GAME_STATE_N",t[t.CHART_N=11612]="CHART_N",t[t.LIMIT_N=11613]="LIMIT_N",t[t.BET_Q=11614]="BET_Q",t[t.BET_R=11615]="BET_R",t[t.BET_ACTION_N=11616]="BET_ACTION_N",t[t.BET_INFO_N=11617]="BET_INFO_N",t[t.GAME_BET_INFO_N=11618]="GAME_BET_INFO_N",t[t.GAME_RESULT_N=11619]="GAME_RESULT_N",t[t.EXCHANGE_N=11620]="EXCHANGE_N",t[t.OPEN_NUMBER_N=11621]="OPEN_NUMBER_N",t[t.SWITCH_TABLE_Q=11622]="SWITCH_TABLE_Q",t[t.SWITCH_TABLE_R=11623]="SWITCH_TABLE_R",t[t.TABLE_INFO_N=11624]="TABLE_INFO_N",t[t.LOBBY_SET_Q=11631]="LOBBY_SET_Q",t[t.LOBBY_SET_R=11632]="LOBBY_SET_R",t[t.REMAIN_TIME_Q=11633]="REMAIN_TIME_Q",t[t.REMAIN_TIEM_R=11634]="REMAIN_TIEM_R",t[t.HITRATE_R=11635]="HITRATE_R"}(h=t.ProxyConst||(t.ProxyConst={}));var l;!function(t){t[t.bet=3e4]="bet",t[t.onIssueCallBack=30001]="onIssueCallBack",t[t.onGameStateCallBack=30002]="onGameStateCallBack",t[t.onChipsRecordCallBack=30003]="onChipsRecordCallBack",t[t.onShowTimerCallBack=30004]="onShowTimerCallBack",t[t.onSpecialPlayerCallBack=30005]="onSpecialPlayerCallBack",t[t.onGameResultCallBack=30006]="onGameResultCallBack",t[t.onRunWinnerCallBack=30007]="onRunWinnerCallBack",t[t.onBetCallBack=30008]="onBetCallBack",t[t.onBetActionCallBack=30009]="onBetActionCallBack",t[t.onBetInfoCallBack=30010]="onBetInfoCallBack",t[t.onGameBetInfoCallBack=30011]="onGameBetInfoCallBack",t[t.onExchangeCallBack=30012]="onExchangeCallBack",t[t.onChartCallBack=30013]="onChartCallBack",t[t.onRankingCallBack=30014]="onRankingCallBack",t[t.onOnlineCountCallBack=30015]="onOnlineCountCallBack",t[t.onChangeTableMenu=30016]="onChangeTableMenu",t[t.onSwitchTableCallBack=30017]="onSwitchTableCallBack",t[t.onOpenNumberCallBack=30018]="onOpenNumberCallBack",t[t.onLotteryRuel=30019]="onLotteryRuel",t[t.onRemainTimeCallBack=30020]="onRemainTimeCallBack",t[t.onTableInfoCallBack=30021]="onTableInfoCallBack",t[t.lobbySetOff=30022]="lobbySetOff",t[t.changeTable=30023]="changeTable",t[t.openLotteryRecord=30024]="openLotteryRecord",t[t.onHitRateCallBack=30025]="onHitRateCallBack"}(l=t.CallBacks||(t.CallBacks={}));var p=function(){function t(){}return t.BG="lhd_bg_mp3",t.CARD_WASH="lhd_cardwash_mp3",t.DEAL="lhd_flipcard_mp3",t.START="lhd_start_mp3",t.STOP="lhd_stop_mp3",t.COUNT_DOWN="lhd_countdown_mp3",t.ALERT="lhd_alert_mp3",t.BET="lhd_bet_mp3",t.SHOW="lhd_show_mp3",t.LONG_WIN="lhd_long_win_mp3",t.HU_WIN="lhd_hu_win_mp3",t.HE="lhd_he_mp3",t.WIN_BET="lhd_win_bet_mp3",t.WIN_GAME="lhd_win_game_mp3",t.RESULT=["","lhb_p_1_mp3","lhb_p_2_mp3","lhb_p_3_mp3","lhb_p_4_mp3","lhb_p_5_mp3","lhb_p_6_mp3","lhb_p_7_mp3","lhb_p_8_mp3","lhb_p_9_mp3","lhb_p_10_mp3","lhb_p_11_mp3","lhb_p_12_mp3","lhb_p_13_mp3"],t}();t.SoundConst=p,__reflect(p.prototype,"lhd.SoundConst");var c=function(){function t(){}return t.CLASSIC_POINT={COUNTER_PICK1:"LHD1counter_pick1",COUNTER_PICK5:"LHD1counter_pick5",COUNTER_PICK10:"LHD1counter_pick10",COUNTER_PICK20:"LHD1counter_pick20",COUNTER_PICK50:"LHD1counter_pick50",COUNTER_PICK100:"LHD1counter_pick100",COUNTER_PICK200:"LHD1counter_pick200",COUNTER_PICK500:"LHD1counter_pick500",COUNTER_PICK1000:"LHD1counter_pick1000",COUNTER_PICK0:"LHD1counter_pickAllin",COUNTER_BET1:"LHD1counter_bet1",COUNTER_BET5:"LHD1counter_bet5",COUNTER_BET10:"LHD1counter_bet10",COUNTER_BET20:"LHD1counter_bet20",COUNTER_BET50:"LHD1counter_bet50",COUNTER_BET100:"LHD1counter_bet100",COUNTER_BET200:"LHD1counter_bet200",COUNTER_BET500:"LHD1counter_bet500",COUNTER_BET1000:"LHD1counter_bet1000",COUNTER_BET0:"LHD1counter_betallin",OPERATE_BUTTONCANCEL:"LHD1operate_buttoncancel",OPERATE_BUTTONREPEAT:"LHD1operate_buttonrepeat",OPERATE_BUTTONCONFIRM:"LHD1operate_buttonconfirm",OPERATE_AUTOCONFIRM:"LHD1operate_autoconfirm",OPERATE_SETCOUNTER:"LHD1operate_setcounter",OPERATE_ADDCOUNTER:"LHD1operate_addcounter",BETS_0:"LHD1bets_dragon",BETS_1:"LHD1bets_tiger",BETS_2:"LHD1bets_tie",DIRECT_MAPS:"LHD1direct_maps",LEADERBOARD_BUTTON:"LHD1leaderboard_button",MENU_BUTTON:"LHD1menu_button",MENU_HELP_BUTTON:"LHD1menu_help_button",MENU_SET_BUTTON:"LHD1menu_set_button",MENU_RECORD_BUTTON:"LHD1menu_record_button",MENU_BACK_BUTTON:"LHD1menu_back_button"},t.LOTTERY_POINT={COUNTER_PICK1:"LHD2counter_pick1",COUNTER_PICK5:"LHD2counter_pick5",COUNTER_PICK10:"LHD2counter_pick10",COUNTER_PICK20:"LHD2counter_pick20",COUNTER_PICK50:"LHD2counter_pick50",COUNTER_PICK100:"LHD2counter_pick100",COUNTER_PICK200:"LHD2counter_pick200",COUNTER_PICK500:"LHD2counter_pick500",COUNTER_PICK1000:"LHD2counter_pick1000",COUNTER_PICK0:"LHD2counter_pickAllin",COUNTER_BET1:"LHD2counter_bet1",COUNTER_BET5:"LHD2counter_bet5",COUNTER_BET10:"LHD2counter_bet10",COUNTER_BET20:"LHD2counter_bet20",COUNTER_BET50:"LHD2counter_bet50",COUNTER_BET100:"LHD2counter_bet100",COUNTER_BET200:"LHD2counter_bet200",COUNTER_BET500:"LHD2counter_bet500",COUNTER_BET1000:"LHD2counter_bet1000",COUNTER_BET0:"LHD2counter_betallin",OPERATE_BUTTONCANCEL:"LHD2operate_buttoncancel",OPERATE_BUTTONREPEAT:"LHD2operate_buttonrepeat",OPERATE_BUTTONCONFIRM:"LHD2operate_buttonconfirm",OPERATE_AUTOCONFIRM:"LHD2operate_autoconfirm",OPERATE_SETCOUNTER:"LHD2operate_setcounter",OPERATE_ADDCOUNTER:"LHD2operate_addcounter",BETS_0:"LHD2bets_dragon",BETS_1:"LHD2bets_tiger",BETS_2:"LHD2bets_tie",DIRECT_MAPS:"LHD2direct_maps",LEADERBOARD_BUTTON:"LHD2leaderboard_button",MENU_BUTTON:"LHD2menu_button",MENU_HELP_BUTTON:"LHD2menu_help_button",MENU_SET_BUTTON:"LHD2menu_set_button",MENU_RECORD_BUTTON:"LHD2menu_record_button",MENU_BACK_BUTTON:"LHD2menu_back_button"},t}();t.PointConst=c,__reflect(c.prototype,"lhd.PointConst")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._proxy=null,t._view=null,t._popView=null,t}return __extends(i,e),i.prototype.onCreate=function(){e.prototype.onCreate.call(this),this.inits(),this.addListeners()},i.prototype.onInit=function(t){e.prototype.onInit.call(this),this.registers(),this.gameInit()},i.prototype.inits=function(){e.prototype.inits.call(this),this._model=new t.GameModel(this),this._proxy=new t.GameProxy(this,this.getModel()),this._view=new t.GameView(this),this._popView=new t.PopView(this)},i.prototype.onReconstruction=function(){e.prototype.onReconstruction.call(this),this.model.isBackstage=!1},i.prototype.registers=function(){e.prototype.registers.call(this),App.ViewManager.register(t.ViewConst.Base,this._view),App.ViewManager.register(t.ViewConst.Popup,this._popView),this.registerRecharge(),this.registerRedpacket(),this.registerFunc("backToLobby",this.exitGameReq,this),this.registerFunc("touch",this.touch,this),this.registerFunc("setAutoBet",this.setAutoBet,this),this.registerFunc("confirmBet",this.confirmBet,this),this.registerFunc("conserBet",this.conserBet,this),this.registerFunc("repeatBet",this.repeatBet,this),this.registerFunc("showGameSet",this.showGameSet,this),this.registerFunc("ShowsetChip",this.ShowsetChip,this),this.registerFunc("getFiveChip",this.getFiveChip,this),this.registerFunc("getChipValue",this.getChipValue,this),this.registerFunc("changeMultiple",this.changeMultiple,this),this.registerFunc("showHelp",this.showHelp,this),this.registerFunc("showRecord",this.showRecord,this),this.registerFunc("showRank",this.showRank,this),this.registerFunc("confirmShowhand",this.confirmShowhand,this),this.registerFunc("confirmLimitBet",this.confirmLimitBet,this),this.registerFunc("operateAddcounter",this.addCounterPoints,this),this.registerFunc("btnShowMenu",this.menuPoints,this),this.registerFunc("rechargeMoney",this.rechargeMoney,this),this.registerFunc("confirmShowRecharge",this.confirmShowRecharge,this),this.registerFunc(t.CallBacks.onShowTimerCallBack,this.onShowTimerCallBack,this),this.registerFunc(t.CallBacks.onRunWinnerCallBack,this.onRunWinnerCallBack,this),this.registerFunc(t.CallBacks.bet,this.bet,this),this.registerFunc(t.CallBacks.onChangeTableMenu,this.onChangeTableMenu,this),this.registerFunc(t.CallBacks.lobbySetOff,this.onLobbySetOff,this),this.registerFunc(t.CallBacks.changeTable,this.changeTable,this),this.registerFunc(t.CallBacks.openLotteryRecord,this.openLotteryRecord,this),this.registerFunc(t.CallBacks.onLotteryRuel,this.onLotteryRuel,this),this.registerFunc(t.DeskCallBacks.onDeskListCallBack,this.onDeskListCallBack,this),this.registerFunc(t.DeskCallBacks.onDeskStateCallBack,this.onDeskStateCallBack,this),this.registerFunc(t.DeskCallBacks.onDeskChartCallBack,this.onDeskChartCallBack,this),this.registerFunc(t.CallBacks.onIssueCallBack,this.onIssueCallBack,this),this.registerFunc(t.CallBacks.onGameStateCallBack,this.onGameStateCallBack,this),this.registerFunc(t.CallBacks.onChipsRecordCallBack,this.onChipsRecordCallBack,this),this.registerFunc(t.CallBacks.onSpecialPlayerCallBack,this.onSpecialPlayerCallBack,this),this.registerFunc(t.CallBacks.onGameResultCallBack,this.onGameResultCallBack,this),this.registerFunc(t.CallBacks.onBetCallBack,this.onBetCallBack,this),this.registerFunc(t.CallBacks.onBetActionCallBack,this.onBetActionCallBack,this),this.registerFunc(t.CallBacks.onBetInfoCallBack,this.onBetInfoCallBack,this),this.registerFunc(t.CallBacks.onGameBetInfoCallBack,this.onGameBetInfoCallBack,this),this.registerFunc(t.CallBacks.onExchangeCallBack,this.onExchangeCallBack,this),this.registerFunc(t.CallBacks.onChartCallBack,this.onChartCallBack,this),this.registerFunc(t.CallBacks.onRankingCallBack,this.onRankingCallBack,this),this.registerFunc(t.CallBacks.onOnlineCountCallBack,this.onOnlineCountCallBack,this),this.registerFunc(t.CallBacks.onSwitchTableCallBack,this.onSwitchTableCallBack,this),this.registerFunc(t.CallBacks.onOpenNumberCallBack,this.onOpenNumberCallBack,this),this.registerFunc(t.CallBacks.onRemainTimeCallBack,this.onRemainTimeCallBack,this),this.registerFunc(t.CallBacks.onTableInfoCallBack,this.onTableInfoCallBack,this),this.registerFunc(t.CallBacks.onHitRateCallBack,this.onHitRateCallBack,this)},i.prototype.addListeners=function(){e.prototype.addListeners.call(this),this._proxy.addEvent()},i.prototype.removeListeners=function(){e.prototype.removeListeners.call(this),this._proxy.removeEvent()},i.prototype.onLeaveDesk=function(){e.prototype.onLeaveDesk.call(this),this.goBack2Desk()},Object.defineProperty(i.prototype,"model",{get:function(){return e.prototype.getModel.call(this)},enumerable:!0,configurable:!0}),i.prototype.GameFrameResume=function(){e.prototype.GameFrameResume.call(this),this._proxy.requestRemainTime(),this.clearTable(),R.removeAllTimeOut(this),App.TimerManager.removeAll(this),this.model.isBackstage=!0},i.prototype.onUserMoneyChange=function(i){e.prototype.onUserMoneyChange.call(this,i);var o=GamePlayerMgr.i.getPlayer();this.model.playerMoneys[t.PlayerConst.SELF]=o.getMoney(),this._view.setUserMoney(App.CommonUtils.money2Str(o.getMoney()))},i.prototype.gameInit=function(){App.ViewManager.open(t.ViewConst.Base),App.ViewManager.open(t.ViewConst.Popup),this.initUserInfo(),this._view.initCoinArr(),App.SoundManager.playBg(t.SoundConst.BG)},i.prototype.initUserInfo=function(){var e=GamePlayerMgr.i.getPlayer();this.model.playerIds[t.PlayerConst.SELF]=e.getUserId(),this.model.playerMoneys[t.PlayerConst.SELF]=e.getMoney(),this._view.setUserInfo(e)},i.prototype.resetUserInfo=function(){var e=GamePlayerMgr.i.getPlayer();e.setMoney(this.model.playerMoneys[t.PlayerConst.SELF])},i.prototype.initJebutton=function(){this.model.chipArr=JSON.parse(t.LhdChips.i.Chips),this._view.setJeButton(this.model.chipArr),this._popView.setDefaultChip(this.model.chipArr),this.touch(this.model.selBtnIndex)},i.prototype.clearTable=function(){this._view.clearCard(),this._view.clearWinner(),this._view.hideTableLight(),this._view.clearShuffle(),this._view.clearAward(),this._view.hideTimer()},i.prototype.clearCoins=function(){this.model.hasBet=!1,this._view.hideStar(),this._view.cleanChip(),this._view.clearFlyWinChip(),this.resetBet(),this.resetPerBet(),this.resetAllBet(),this._view.clearCoin(),this._view.initCoinArr(),this._view.setUserBet(0)},i.prototype.onDeskListCallBack=function(t){App.EasyLoading.hideLoading(),this._popView.createTableList(t,this.model.tableId)},i.prototype.onDeskStateCallBack=function(t){this._popView.insertState(t)},i.prototype.onDeskChartCallBack=function(t){this._popView.insertChart(t)},i.prototype.onIssueCallBack=function(e){this.model.issue=e.issue,this.model.tableType==t.TableTypeConst.CLASSIC?this._view.setClassicIssue(e.issue):(this._view.setCurIssue(e.issue),this._view.showLotteryIssue())},i.prototype.onChipsRecordCallBack=function(e){""!=e.chips&&t.LhdChips.i.setChips(e.chips),this.initJebutton()},i.prototype.onGameStateCallBack=function(e,i){if(this.model.gameStateData=App.CommonUtils.deepCopyData(e),this.model.isBackstage){if(this.model.timerInfo=this.resetTime(e),this.model.tableType==t.TableTypeConst.CLASSIC)this.renderWinRecord();else{var o=this.getAllSelfBet();if(o){this.model.lastBetRecord.length=0;var n=this.model.betList;n.forEach(function(t,e){if(t){var i={place:e,bet_money:t};this.model.lastBetRecord.push(i)}}.bind(this))}}return void(e.state==t.GameStateConst.BETTING&&(this.refreshMoney(),this.clearCoins()))}this.doGameState(e,i)},i.prototype.doGameState=function(e,i){switch(this.model.timerInfo=this.resetTime(e),this._view.disabledBtn(),this._view.hideTimer(),this._view.hideAwardAni(),this._view.startTimer(this.model.timerInfo,this.model.tableType),e.state){case t.GameStateConst.BETTING:this.onBetting(e,i);break;case t.GameStateConst.EXCHANGE:this.onExchange(e)}},i.prototype.resetTime=function(t){var e=Math.round(t.remaining_time/1e3),i=Math.round(t.total_time/1e3),o={allTime:i,time:e,status:t.state};return o},i.prototype.onBetting=function(e,i){if(R.removeAllTimeOut(this),this.model.tableType==t.TableTypeConst.LOTTORY){var o=this.getAllSelfBet();if(o){this.model.lastBetRecord.length=0;var n=this.model.betList;n.forEach(function(t,e){if(t){var i={place:e,bet_money:t};this.model.lastBetRecord.push(i)}}.bind(this))}}this.model.betTimes=!0,this.model.isBet=!0;var s=this.model.timerInfo;switch(this.clearTable(),i||(this.refreshMoney(),this.clearCoins()),this.isEnabledBtn(),this.renderClassicChart(),this._view.enabledRepeatBet(),this.model.tableType){case t.TableTypeConst.CLASSIC:s.time==s.allTime?(this._view.shuffleAni(),this._view.betStartAni("lhd"),R.setTimeOnce(function(){App.SoundManager.playEffect(t.SoundConst.START)}.bind(this),this,100)):(this._view.putCard(),this._view.showTimer(this.model.tableType));break;case t.TableTypeConst.LOTTORY:this._view.showTimer(this.model.tableType),s.time==s.allTime&&(this._view.betStartAni("lhd"),App.SoundManager.playEffect(t.SoundConst.START))}},i.prototype.onExchange=function(e){this.model.isBet=!1;var i=this.model.timerInfo;this._view.hideTimer();var o=this.getAllSelfBet();if(o){this.model.lastBetRecord.length=0;var n=this.model.betList;n.forEach(function(t,e){if(t){var i={place:e,bet_money:t};this.model.lastBetRecord.push(i)}}.bind(this))}i.time==i.allTime&&(this._view.betStopAni(),App.SoundManager.playEffect(t.SoundConst.STOP)),this.model.tableType==t.TableTypeConst.LOTTORY&&(this._view.showAwardAni(),this._view.awarding())},i.prototype.onSpecialPlayerCallBack=function(t){t.special_players.length&&t.special_players.forEach(function(t){this.model.playerIds[t.play_role]=t.user_id,this.model.playerMoneys[t.play_role]=t.balance,this._view.setPluteName(t.nick_name,t.play_role);var e=t.head?t.head:1;this._view.setPluteImage("ui_headImg_"+e,t.play_role),this._view.specialPlayerMoney(""+App.CommonUtils.money2Str(t.balance),t.play_role),this._view.playerDisplay(t.play_role)}.bind(this))},i.prototype.onGameResultCallBack=function(e,i){if(e.issue==this.model.issue){if(this.model.gameResultData=App.CommonUtils.deepCopyData(e),this.model.isBackstage)return void this.doGameResult(e);var o=this.model.timerInfo;if(o.status==t.GameStateConst.EXCHANGE)if(i||this.doGameResult(e),this.model.tableType==t.TableTypeConst.CLASSIC){this._view.putCard();var n=o.allTime-o.time;switch(n){case 0:R.setTimeOnce(function(){this._view.openCard(e.loong_card,e.tiger_card)}.bind(this),this,500),R.setTimeOnce(function(){this.renderWinRecord()}.bind(this),this,3500);break;case 1:this._view.showCard(e.loong_card,e.tiger_card),R.setTimeOnce(function(){this.onRunWinnerCallBack(),this.renderWinRecord()}.bind(this),this,2500);break;case 2:this._view.showCard(e.loong_card,e.tiger_card),R.setTimeOnce(function(){this.onRunWinnerCallBack(),this.renderWinRecord()}.bind(this),this,1500);break;case 3:this._view.showCard(e.loong_card,e.tiger_card),R.setTimeOnce(function(){this.onRunWinnerCallBack(),this.renderWinRecord()}.bind(this),this,500);break;case 4:this._view.showCard(e.loong_card,e.tiger_card),this._view.showWinner(e.open_type),this.renderClassicChart(),this.renderWinRecord(),this.CoinAnimation();break;case 5:this._view.showCard(e.loong_card,e.tiger_card),this._view.showWinner(e.open_type),this.renderClassicChart(),this.renderWinRecord(),this.refreshPlayerMoney();break;case 6:this._view.showCard(e.loong_card,e.tiger_card),this._view.showWinner(e.open_type),this.renderClassicChart(),this.renderWinRecord(),this.refreshMoney(),R.setTimeOnce(function(){this.clearTable(),this.clearCoins()}.bind(this),this,2e3);break;case 7:this._view.showCard(e.loong_card,e.tiger_card),this._view.showWinner(e.open_type),this.renderClassicChart(),this.renderWinRecord(),this.refreshMoney(),R.setTimeOnce(function(){this.clearTable(),this.clearCoins()}.bind(this),this,1e3);break;default:this.renderClassicChart(),this.renderWinRecord(),this.refreshMoney(),this.clearTable(),this.clearCoins()}}else{var s=this._view.getRemaniTime();this._view.hideAwardAni(),s>7?(R.setTimeOnce(function(){this._view.dealCard(!1)}.bind(this),this,1e3),R.setTimeOnce(function(){this._view.openCard(e.loong_card,e.tiger_card)}.bind(this),this,2e3)):(this._view.putCard(),this._view.showCard(e.loong_card,e.tiger_card),this._view.showWinner(e.open_type))}}},i.prototype.doGameResult=function(e){this.model.winner=e.open_type,this.model.winPos.length=0,this.model.winPos.push(e.open_type),this._view.createWinChip(e.open_type,t.PlayerConst.ONLINE),this.model.betTimes&&this.model.tableType==t.TableTypeConst.CLASSIC&&this.addToChart(e.open_type)},i.prototype.addToChart=function(t){this.model.betTimes&&(this.model.historyRecord.push(t),this.model.historyRecord.length>60&&this.model.historyRecord.splice(0,60))},i.prototype.onBetCallBack=function(e){return e.code?(App.ScrollTxtTips.showTip(t.CodeErrorTxt.ERRTXT_LIST[e.code]),void(this.model.isAutoBet||this.isEnabledBtn())):(this.resetPerBet(),void this.betPoints())},i.prototype.onBetActionCallBack=function(e){var i=this.model.playerIds;i.forEach(function(i,o){e.user_id==i&&(this.model.playerMoneys[o]=e.balance,e.bets.forEach(function(e){this._view.betToPlaceAni(o,e.place,e.bet_money),o==t.PlayerConst.PSYCHIC&&this._view.starFly(e.place)}.bind(this)),o==t.PlayerConst.SELF?this._view.setUserMoney(App.CommonUtils.money2Str(e.balance)):this._view.specialPlayerMoney(App.CommonUtils.money2Str(e.balance),o),this._view.avatarShake(o))}.bind(this))},i.prototype.onBetInfoCallBack=function(e){if(e.user_id==this.model.playerIds[t.PlayerConst.PSYCHIC]&&e.infos.forEach(function(t){t.bet_money&&this._view.showStar(t.place)}.bind(this)),e.user_id==this.model.playerIds[t.PlayerConst.SELF]){var i=0;e.infos.forEach(function(t){t.bet_money&&(i+=t.bet_money,this.model.betList[t.place]=t.bet_money)}.bind(this)),this._view.showSelfBet(this.model.betList),this._view.setUserBet(App.CommonUtils.money(i))}},i.prototype.onGameBetInfoCallBack=function(e){var i=this.model.timerInfo;i.status==t.GameStateConst.EXCHANGE&&i.allTime-i.time>4||e.infos.length&&(e.infos.forEach(function(e,o){if(i.status==t.GameStateConst.BETTING){var n=e.total_bet_money-this.model.allBetList[e.place];this._view.betToPlaceAni(t.PlayerConst.ONLINE,e.place,n),this._view.onlineShake()}this.model.allBetList[e.place]=e.total_bet_money}.bind(this)),this._view.showBetMoney(this.model.allBetList))},i.prototype.onExchangeCallBack=function(e){var i=this._view.getRemaniTime();this.model.timerInfo;this.model.winPlayer.length=0,this.resetWinMoney(),e.infos.length&&(e.infos.forEach(function(t){t.place_exchanges.length&&t.place_exchanges.forEach(function(e){e.prize_money&&this.createWinChip(e.place,t.user_id,e.prize_money)}.bind(this)),this.createMoney(t)}.bind(this)),this.createWinRecord(e.issue),this.model.tableType==t.TableTypeConst.LOTTORY&&(this.model.isBackstage?(this.renderWinRecord(),this.model.issue==e.issue?(this.refreshMoney(),this.clearCoins()):this.refreshExchange()):this.model.issue==e.issue?i>7?R.setTimeOnce(function(){this.renderWinRecord()}.bind(this),this,7e3):(this.renderWinRecord(),this._view.moneyLight(this.model.winPlayer),R.setTimeOnce(function(){this.refreshMoney()}.bind(this),this,1e3),this.clearCoins()):(this.renderWinRecord(),this._view.moneyLight(this.model.winPlayer),R.setTimeOnce(function(){this.refreshExchange()}.bind(this),this,1e3))))},i.prototype.resetWinMoney=function(){this.model.winMoneys.forEach(function(t,e){this.model.winMoneys[e]=0}.bind(this))},i.prototype.createWinChip=function(t,e,i){var o=this.model.playerIds;o.forEach(function(o,n){e==o&&(this._view.createWinChip(t,n),-1==this.model.winPlayer.indexOf(n)&&this.model.winPlayer.push(n),this.model.winMoneys[n]+=i)}.bind(this))},i.prototype.createMoney=function(t){var e=this.model.playerIds;e.forEach(function(e,i){e==t.user_id&&(this.model.playerMoneys[i]=t.balance),this.model.winMoneys[i]&&this._view.playerWinMoney(this.model.winMoneys[i],i)}.bind(this))},i.prototype.onChartCallBack=function(t){this.model.historyRecord=t.open_types,this._view.renderApproach(this.model.historyRecord,this.model.tableType),this._view.renderChart(this.model.historyRecord,this.model.tableId)},i.prototype.onRankingCallBack=function(t){t.infos.length&&this._popView.renderRanking(t.infos)},i.prototype.onOnlineCountCallBack=function(t){this._view.changeOnlineNum(t.online_count)},i.prototype.onSwitchTableCallBack=function(t){App.EasyLoading.hideLoading(),this._popView.closeChangeTable(),t.succ&&(this.model.betTimes=!1,this.model.recordIsSaved=!1,this.model.lastBetRecord.length=0,this._view.hideIssue(),this.clearTable(),this.clearCoins(),R.removeAllTimeOut(this),App.TimerManager.removeAll(this))},i.prototype.onOpenNumberCallBack=function(e){var i=this._view.getRemaniTime(),o=this.model.timerInfo;if(this.model.recordIsSaved){var n=e.open_numbers[0];return this.model.lotteryRecord.push(n),this.refreshLotteyRecord(),this.addToChart(n.open_type),void(e.open_numbers[0].issue==this.model.issue?(this.showIssueAndBall(o.status,i,n.issue,n.open_num),o.status==t.GameStateConst.EXCHANGE&&i>7?this.model.isBackstage?(this._view.renderApproach(this.model.historyRecord,this.model.tableType),this._view.renderChart(this.model.historyRecord,this.model.tableId)):R.setTimeOnce(function(){this._view.renderApproach(this.model.historyRecord),this._view.renderChart(this.model.historyRecord)}.bind(this),this,5e3):(this._view.renderApproach(this.model.historyRecord,this.model.tableType),this._view.renderChart(this.model.historyRecord,this.model.tableId))):(App.ScrollTxtTips.showTip("第"+n.issue+"期: 已开奖"),this._view.setLotteryIssue(n.issue),this._view.createBall(n.open_num),this._view.renderApproach(this.model.historyRecord,this.model.tableType),this._view.renderChart(this.model.historyRecord,this.model.tableId)))
}if(e.open_numbers){var s=[];this.model.lotteryRecord=App.CommonUtils.copyDataHandler(e.open_numbers);var r=this.model.lotteryRecord;if(r.length){r.forEach(function(t,e){s.push(t.issue)});var a=s.indexOf(this.model.issue);if(a>-1)this.showIssueAndBall(o.status,i,r[a].issue,r[a].open_num);else{var h=r[r.length-1];this._view.setLotteryIssue(h.issue),this._view.createBall(h.open_num)}}else this._view.setLotteryIssue(this.model.issue);this.refreshLotteyRecord()}this.model.recordIsSaved=!0},i.prototype.onRemainTimeCallBack=function(e){this.model.isBackstage=!1,this.model.gameStateData&&(this.model.gameStateData.remaining_time=e.remaining_time,this.onGameStateCallBack(this.model.gameStateData,!0),this.model.gameStateData.state==t.GameStateConst.EXCHANGE&&this.model.gameResultData&&this.onGameResultCallBack(this.model.gameResultData,!0))},i.prototype.onTableInfoCallBack=function(t){this._view.setTableName(t.table_name)},i.prototype.onHitRateCallBack=function(t){this._view.setHitrate(t.hitrate)},i.prototype.refreshLotteyRecord=function(){var e=this.model.lotteryRecord;if(e.length){e.length>50&&e.splice(0,e.length-50);for(var i=[],o=e.length-1;o>-1;o--){var n=e[o].open_num.split(","),s=n.join(""),r=e[o].open_type==t.TypeConst.LOONG?"龙":e[o].open_type==t.TypeConst.TIGER?"虎":"和",a=e[o].open_type==t.TypeConst.LOONG?1:e[o].open_type==t.TypeConst.TIGER?0:2,h={order:e.length-(o+1),issue:e[o].issue,number:s,result:r,textColor:a};i.push(h)}this._popView.renderLotteryRecord(i)}},i.prototype.showIssueAndBall=function(e,i,o,n){this._view.setLotteryIssue(o),e==t.GameStateConst.EXCHANGE&&i>7?this.model.isBackstage?this._view.createBall(n):this._view.ballRotate(n):this._view.createBall(n)},i.prototype.touch=function(t){this.model.selBtnIndex=t,this._view.toggleBtn(this.model.selBtnIndex),this.model.betNum=this.model._mTempChipMoney[this.model.selBtnIndex],0==this.model.betNum&&this._view.ShowHandlightBtn()},i.prototype.ShowsetChip=function(){this._popView.showChipSet(),this._popView.setDefaultChip(this.model.chipArr),this.setCounterBtnPoints()},i.prototype.getFiveChip=function(t){var e={chips:JSON.stringify(t)};this._proxy.requestChip(e)},i.prototype.getChipValue=function(t){this.model._mTempChipMoney=t,this.model.betNum=this.model._mTempChipMoney[this.model.selBtnIndex],this.setCounterPoints()},i.prototype.changeMultiple=function(t){this._view.setchipValue(t),this.model._mTempMultiple=t},i.prototype.showHelp=function(){this._popView.showHelp(),this.helpPoints()},i.prototype.showRecord=function(){this._popView.showWinRecord(),this.winningRecordPoints()},i.prototype.showGameSet=function(){this._popView.initGameSet(),this._popView.showGameSet(),this.gameSetPoints()},i.prototype.showRank=function(){this._popView.showRanking();var t={begin_idx:0,req_count:100};this._proxy.requestRanking(t),this.rankingPoints()},i.prototype.confirmShowhand=function(){var t=this.model.betMoney;this.model.limits.forEach(function(e){e.place==this.model.betPlace&&(0==t?this._popView.Prompt.showPromptBrnn(6):this.bet(this.model.betPlace,t))}.bind(this))},i.prototype.confirmLimitBet=function(){this.model.betMoney&&this.bet(this.model.betPlace,this.model.betMoney)},i.prototype.onShowTimerCallBack=function(){this._view.showTimer(this.model.tableType)},i.prototype.onRunWinnerCallBack=function(){this._view.runWinner(this.model.winner),R.setTimeOnce(function(){this.CoinAnimation()}.bind(this),this,1e3);var e=this.model.winner==t.TypeConst.LOONG?t.SoundConst.LONG_WIN:this.model.winner==t.TypeConst.TIGER?t.SoundConst.HU_WIN:t.SoundConst.HE;App.SoundManager.playEffect(e)},i.prototype.CoinAnimation=function(){this.renderClassicChart(),this._view.coinAniClear(this.model.winPos,this.model.winPlayer),this._view.showTableLight(this.model.winPos),R.setTimeOnce(function(){this.refreshPlayerMoney()}.bind(this),this,1e3),this.model.winMoneys[t.PlayerConst.SELF]&&App.SoundManager.playEffect(t.SoundConst.WIN_GAME)},i.prototype.renderClassicChart=function(){this.model.tableType==t.TableTypeConst.CLASSIC&&(this._view.renderApproach(this.model.historyRecord,this.model.tableType),this._view.renderChart(this.model.historyRecord,this.model.tableId))},i.prototype.refreshPlayerMoney=function(){this.refreshMoney(),R.setTimeOnce(function(){this.clearTable(),this.clearCoins()}.bind(this),this,3e3)},i.prototype.refreshMoney=function(){this._view.setUserBet(0),this.refreshExchange()},i.prototype.refreshExchange=function(){var e=this.model.playerIds;e.forEach(function(e,i){i==t.PlayerConst.SELF?this._view.setUserMoney(App.CommonUtils.money2Str(this.model.playerMoneys[i])):this._view.specialPlayerMoney(App.CommonUtils.money2Str(this.model.playerMoneys[i]),i)}.bind(this))},i.prototype.createWinRecord=function(e){var i=this.model.winMoneys[t.PlayerConst.SELF];if(i){var o=this.model.winningRecord;if(o.length){var n=[];if(o.forEach(function(t){n.push(t.issue)}),n.indexOf(e)>-1)return;this.addWinRecord(e,i)}else this.addWinRecord(e,i)}},i.prototype.addWinRecord=function(t,e){var i={issue:t,hit_money:App.CommonUtils.money(e)};this.model.winningRecord.unshift(i),this.model.winningRecord.length>50&&this.model.winningRecord.splice(50,this.model.winningRecord.length-50)},i.prototype.renderWinRecord=function(){this._popView.renderWinRecord(this.model.winningRecord)},i.prototype.bet=function(e,i){if(this.model.isBet){this.model.betPlace=e;var o=i?i:1e4*this.model.betNum;if(this.isLimit(e,o))return void(this.model.betPoints.length=0);if(o){var n={place:e,bet_money:o};this.model.isAutoBet?this.autoBet([n]):this.manualBet(e,o),this.betPlacePoints(e)}else{var s=this.getAllPreBet();this.model.betMoney=this.model.playerMoneys[t.PlayerConst.SELF]-s,this._popView.showPrompt(2,App.CommonUtils.money(this.model.betMoney))}this.model.betPoints.push(this.model.betNum)}},i.prototype.isLimit=function(e,i){var o=!1;return console.log(i),this.model.limits.forEach(function(n){if(n.place==e){var s=this.getAllPreBet(),r=i,a=this.model.betList[e],h=this.model.preBetList[e],l=App.CommonUtils.money(n.limit_min_money),p=App.CommonUtils.money(n.limit_max_money);0==this.model.playerMoneys[t.PlayerConst.SELF]?(this._popView.showPromptBrnn(6),o=!0):r+s>this.model.playerMoneys[t.PlayerConst.SELF]?(this._popView.showPromptBrnn(6),o=!0):r&&r<n.limit_min_money?(App.ScrollTxtTips.showTip("当前投注项限红为"+l+"~"+p),o=!0):a+h>=n.limit_max_money?(App.ScrollTxtTips.showTip(t.CodeErrorTxt.ERRTXT_LIST[t.BetCodeConst.BET_ERROR_OUTLIMIT]),o=!0):r+a+h>n.limit_max_money&&(this.model.betMoney=n.limit_max_money-(a+h),this._popView.showPrompt(1,App.CommonUtils.money(this.model.betMoney),l,p),o=!0)}}.bind(this)),o},i.prototype.getAllSelfBet=function(){for(var t=0,e=0;e<this.model.betList.length;e++)t+=this.model.betList[e];return t},i.prototype.getAllPreBet=function(){for(var t=0,e=0;e<this.model.preBetList.length;e++)t+=this.model.preBetList[e];return t},i.prototype.autoBet=function(t){var e=t,i={bets:e};this._proxy.requestBet(i)},i.prototype.manualBet=function(t,e){this.model.preBetList[t]+=e,this._view.showMyPreBet(this.model.preBetList),this.isEnabledBtn()},i.prototype.isEnabledBtn=function(){for(var t=this.model.preBetList,e=0,i=0;i<t.length;i++)e+=t[i];e&&(this._view.enabledConfirmBet(),this._view.enabledConserBet())},i.prototype.setAutoBet=function(t){this.model.isAutoBet=t,this.autoBetPoints()},i.prototype.confirmBet=function(){if(this.model.isBet){var t=[];if(this.model.preBetList.forEach(function(e,i){if(e){var o={place:i,bet_money:e};t.push(o)}}.bind(this)),t.length){var e={bets:t};this._proxy.requestBet(e)}this._view.disabledConfirmBet(),this._view.disabledConserBet(),this.confirmBetPoints()}},i.prototype.conserBet=function(){this.resetPerBet(),this._view.disabledConfirmBet(),this._view.disabledConserBet(),this.concerBetPoints()},i.prototype.resetPerBet=function(){for(var t=0;t<this.model.preBetList.length;t++)this.model.preBetList[t]=0;this._view.showMyPreBet(this.model.preBetList)},i.prototype.resetBet=function(){for(var t=0;t<this.model.betList.length;t++)this.model.betList[t]=0},i.prototype.resetAllBet=function(){for(var t=0;t<this.model.allBetList.length;t++)this.model.allBetList[t]=0},i.prototype.repeatBet=function(){if(this.model.isBet){if(this.model.lastBetRecord.length){if(this.isLimitRepeat())return;this.model.isAutoBet?this.autoBet(this.model.lastBetRecord):(this.model.lastBetRecord.forEach(function(t,e){this.model.preBetList[t.place]+=t.bet_money}.bind(this)),this._view.BetBox.showMyPreBet(this.model.preBetList),this.isEnabledBtn())}this.repeatBetPoints()}},i.prototype.isLimitRepeat=function(){var e=!1,i=this.getAllPreBet(),o=0,n=this.model.preBetList,s=this.model.betList,r=this.model.limits;return this.model.lastBetRecord.forEach(function(a){o+=a.bet_money;var h=a.bet_money+s[a.place]+n[a.place];r.forEach(function(n){a.place==n.place&&(o+i>this.model.playerMoneys[t.PlayerConst.SELF]?(this._popView.showPromptBrnn(6),e=!0):h>n.limit_max_money&&(App.ScrollTxtTips.showTip(t.CodeErrorTxt.ERRTXT_LIST[4]),e=!0))}.bind(this))}.bind(this)),e},i.prototype.onChangeTableMenu=function(){this._popView.showChangeTable(),this._proxy.requestLobbySet(!0),App.EasyLoading.showOnTimeOut()},i.prototype.onLobbySetOff=function(){this._proxy.requestLobbySet(!1)},i.prototype.changeTable=function(t){this._proxy.requestSwitchTable(t),App.EasyLoading.showOnTimeOut()},i.prototype.openLotteryRecord=function(){this._popView.showLotteryRecord()},i.prototype.onLotteryRuel=function(){this._popView.showLotteryRule()},i.prototype.exitGameReq=function(){this._proxy.requestExitDesk(),this.backPoints()},i.prototype.betPoints=function(){this.model.betPoints.forEach(function(e){t.PointConst.CLASSIC_POINT["COUNTER_BET"+e]&&(this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT["COUNTER_BET"+e]):R.sendPlayerAction(t.PointConst.LOTTERY_POINT["COUNTER_BET"+e]))}.bind(this)),this.model.betPoints.length=0},i.prototype.setCounterPoints=function(){this.model._mTempChipMoney.forEach(function(e){t.PointConst.CLASSIC_POINT["COUNTER_PICK"+e]&&(this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT["COUNTER_PICK"+e]):R.sendPlayerAction(t.PointConst.LOTTERY_POINT["COUNTER_PICK"+e]))}.bind(this))},i.prototype.concerBetPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.OPERATE_BUTTONCANCEL):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.OPERATE_BUTTONCANCEL)},i.prototype.repeatBetPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.OPERATE_BUTTONREPEAT):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.OPERATE_BUTTONREPEAT)},i.prototype.confirmBetPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.OPERATE_BUTTONCONFIRM):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.OPERATE_BUTTONCONFIRM)},i.prototype.autoBetPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.OPERATE_AUTOCONFIRM):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.OPERATE_AUTOCONFIRM)},i.prototype.setCounterBtnPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.OPERATE_SETCOUNTER):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.OPERATE_SETCOUNTER)},i.prototype.addCounterPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.OPERATE_ADDCOUNTER):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.OPERATE_ADDCOUNTER)},i.prototype.betPlacePoints=function(e){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT["BETS_"+e]):R.sendPlayerAction(t.PointConst.LOTTERY_POINT["BETS_"+e])},i.prototype.menuPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.MENU_BUTTON):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.MENU_BUTTON)},i.prototype.rechargeMoney=function(){App.ViewManager.open(LobbyViewConst.Recharge)},i.prototype.confirmShowRecharge=function(){App.ViewManager.open(LobbyViewConst.Recharge)},i.prototype.helpPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.MENU_HELP_BUTTON):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.MENU_HELP_BUTTON)},i.prototype.gameSetPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.MENU_SET_BUTTON):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.MENU_SET_BUTTON)},i.prototype.rankingPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.LEADERBOARD_BUTTON):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.LEADERBOARD_BUTTON)},i.prototype.winningRecordPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.MENU_RECORD_BUTTON):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.MENU_RECORD_BUTTON)},i.prototype.backPoints=function(){this.model.tableType==t.TableTypeConst.CLASSIC?R.sendPlayerAction(t.PointConst.CLASSIC_POINT.MENU_BACK_BUTTON):R.sendPlayerAction(t.PointConst.LOTTERY_POINT.MENU_BACK_BUTTON)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.resetUserInfo(),R.removeAllTimeOut(this),App.TimerManager.removeAll(this),common.StarExpand.cleanFormPool(),common.comBones.cleanFormPool(),this.model.destroy(),this._proxy.destroy(),this._view.destroy(),this._popView.destroy(),this._model=void 0,this._proxy=void 0,this._view=void 0,this._popView=void 0},i}(base.GameController);t.GameController=e,__reflect(e.prototype,"lhd.GameController")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(t){var i=e.call(this,t)||this;return i.initData(),i}return __extends(i,e),i.prototype.initData=function(){this.betNum=1,this.selBtnIndex=0,this.isBet=!1,this.hasBet=!1,this.isAutoBet=!0,this.winPos=[],this.playerIds=[-1,-1,-1,-1,-1],this.playerMoneys=[0,0,0,0,0],this.winMoneys=[0,0,0,0,0],this.winPlayer=[],this.lastBetRecord=[],this.historyRecord=[],this.winningRecord=[],this.betPoints=[],this.preBetList=[0,0,0],this.betList=[0,0,0],this.allBetList=[0,0,0],this.tableType=t.TableTypeConst.CLASSIC,this.lotteryRecord=[],this.recordIsSaved=!1,this.isBackstage=!1},i.prototype.destroy=function(){e.prototype.destroy.call(this)},i}(base.GameModel);t.GameModel=e,__reflect(e.prototype,"lhd.GameModel")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(t,i){return e.call(this,t,i)||this}return __extends(i,e),Object.defineProperty(i.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),i.prototype.onDeskList=function(e){this.applyFunc(t.DeskCallBacks.onDeskListCallBack,e)},i.prototype.onDeskState=function(e){this.applyFunc(t.DeskCallBacks.onDeskStateCallBack,e)},i.prototype.onDeskChart=function(e){this.applyFunc(t.DeskCallBacks.onDeskChartCallBack,e)},i.prototype.onIssue=function(e){this.applyFunc(t.CallBacks.onIssueCallBack,e)},i.prototype.onGameState=function(e){this.applyFunc(t.CallBacks.onGameStateCallBack,e)},i.prototype.onChipsRecord=function(e){this.applyFunc(t.CallBacks.onChipsRecordCallBack,e)},i.prototype.onSpecialPlayer=function(e){this.applyFunc(t.CallBacks.onSpecialPlayerCallBack,e)},i.prototype.onGameResult=function(e){this.applyFunc(t.CallBacks.onGameResultCallBack,e)},i.prototype.onBet=function(e){this.applyFunc(t.CallBacks.onBetCallBack,e)},i.prototype.onBetAction=function(e){this.applyFunc(t.CallBacks.onBetActionCallBack,e)},i.prototype.onBetInfo=function(e){this.applyFunc(t.CallBacks.onBetInfoCallBack,e)},i.prototype.onGameBetInfo=function(e){this.applyFunc(t.CallBacks.onGameBetInfoCallBack,e)},i.prototype.onExchange=function(e){this.applyFunc(t.CallBacks.onExchangeCallBack,e)},i.prototype.onChart=function(e){this.applyFunc(t.CallBacks.onChartCallBack,e)},i.prototype.onRanking=function(e){this.applyFunc(t.CallBacks.onRankingCallBack,e)},i.prototype.onOnlineCount=function(e){this.applyFunc(t.CallBacks.onOnlineCountCallBack,e)},i.prototype.onLimit=function(t){this.model.limits=t.limits},i.prototype.onSwitchTable=function(e){this.applyFunc(t.CallBacks.onSwitchTableCallBack,e)},i.prototype.onTableInfo=function(e){this.model.tableId=e.table_id,this.model.tableType=e.table_type,this.applyFunc(t.CallBacks.onTableInfoCallBack,e)},i.prototype.onOpenNumber=function(e){this.applyFunc(t.CallBacks.onOpenNumberCallBack,e)},i.prototype.onRemainTime=function(e){this.applyFunc(t.CallBacks.onRemainTimeCallBack,e)},i.prototype.onHitRate=function(e){this.applyFunc(t.CallBacks.onHitRateCallBack,e)},i.prototype.requestExitDesk=function(){this.sendLeaveDesk(GameModuleMgr.i.getCurrDeskId())},i.prototype.requestChip=function(e){this.send(t.ProxyConst.CHIPS_RECORD_Q,e)},i.prototype.requestBet=function(e){this.send(t.ProxyConst.BET_Q,e)},i.prototype.requestRanking=function(e){this.send(t.ProxyConst.RANKING_Q,e)},i.prototype.requestLobbySet=function(e){this.send(t.ProxyConst.LOBBY_SET_Q,{on:e})},i.prototype.requestSwitchTable=function(e){this.send(t.ProxyConst.SWITCH_TABLE_Q,{to_table_id:e})},i.prototype.requestRemainTime=function(){this.send(t.ProxyConst.REMAIN_TIME_Q)},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.addListener(t.DeskProxyConst.DESK_LIST_N,this.onDeskList,this),this.addListener(t.DeskProxyConst.DESK_STATE_N,this.onDeskState,this),this.addListener(t.DeskProxyConst.DESK_CHART_N,this.onDeskChart,this),this.addListener(t.ProxyConst.ISSUE_N,this.onIssue,this),this.addListener(t.ProxyConst.GAME_STATE_N,this.onGameState,this),this.addListener(t.ProxyConst.CHIPS_RECORD_N,this.onChipsRecord,this),this.addListener(t.ProxyConst.SPECIAL_PLAYER_N,this.onSpecialPlayer,this),this.addListener(t.ProxyConst.GAME_RESULT_N,this.onGameResult,this),this.addListener(t.ProxyConst.BET_R,this.onBet,this),this.addListener(t.ProxyConst.BET_ACTION_N,this.onBetAction,this),this.addListener(t.ProxyConst.BET_INFO_N,this.onBetInfo,this),this.addListener(t.ProxyConst.GAME_BET_INFO_N,this.onGameBetInfo,this),this.addListener(t.ProxyConst.EXCHANGE_N,this.onExchange,this),this.addListener(t.ProxyConst.CHART_N,this.onChart,this),this.addListener(t.ProxyConst.RANKING_R,this.onRanking,this),this.addListener(t.ProxyConst.ONLINE_COUNT_N,this.onOnlineCount,this),this.addListener(t.ProxyConst.LIMIT_N,this.onLimit,this),this.addListener(t.ProxyConst.SWITCH_TABLE_R,this.onSwitchTable,this),this.addListener(t.ProxyConst.TABLE_INFO_N,this.onTableInfo,this),this.addListener(t.ProxyConst.OPEN_NUMBER_N,this.onOpenNumber,this),this.addListener(t.ProxyConst.REMAIN_TIEM_R,this.onRemainTime,this),this.addListener(t.ProxyConst.HITRATE_R,this.onHitRate,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this.removeListener(t.DeskProxyConst.DESK_LIST_N,this.onDeskList,this),this.removeListener(t.DeskProxyConst.DESK_STATE_N,this.onDeskState,this),this.removeListener(t.DeskProxyConst.DESK_CHART_N,this.onDeskChart,this),this.removeListener(t.ProxyConst.ISSUE_N,this.onIssue,this),this.removeListener(t.ProxyConst.GAME_STATE_N,this.onGameState,this),this.removeListener(t.ProxyConst.CHIPS_RECORD_N,this.onChipsRecord,this),this.removeListener(t.ProxyConst.SPECIAL_PLAYER_N,this.onSpecialPlayer,this),this.removeListener(t.ProxyConst.GAME_RESULT_N,this.onGameResult,this),this.removeListener(t.ProxyConst.BET_R,this.onBet,this),this.removeListener(t.ProxyConst.BET_ACTION_N,this.onBetAction,this),this.removeListener(t.ProxyConst.BET_INFO_N,this.onBetInfo,this),this.removeListener(t.ProxyConst.GAME_BET_INFO_N,this.onGameBetInfo,this),this.removeListener(t.ProxyConst.EXCHANGE_N,this.onExchange,this),this.removeListener(t.ProxyConst.CHART_N,this.onChart,this),this.removeListener(t.ProxyConst.RANKING_R,this.onRanking,this),this.removeListener(t.ProxyConst.ONLINE_COUNT_N,this.onOnlineCount,this),this.removeListener(t.ProxyConst.LIMIT_N,this.onLimit,this),this.removeListener(t.ProxyConst.SWITCH_TABLE_R,this.onSwitchTable,this),this.removeListener(t.ProxyConst.TABLE_INFO_N,this.onTableInfo,this),this.removeListener(t.ProxyConst.OPEN_NUMBER_N,this.onOpenNumber,this),this.removeListener(t.ProxyConst.REMAIN_TIEM_R,this.onRemainTime,this),this.removeListener(t.ProxyConst.HITRATE_R,this.onHitRate,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this)},i}(base.GameProxy);t.GameProxy=e,__reflect(e.prototype,"lhd.GameProxy")}(lhd||(lhd={}));var lhd;!function(t){var e=function(){function t(){}return t.deepClone=function(t){var e,i=Object.prototype.toString.call(t);if("[object Array]"===i){if(e=[],t.length>0)for(var o=0;o<t.length;o++)e.push(this.deepClone(t[o]))}else if("[object Object]"===i){e={};for(var o in t)e[o]=this.deepClone(t[o])}else e=t;return e},t}();t.LhdUtil=e,__reflect(e.prototype,"lhd.LhdUtil")}(lhd||(lhd={}));var lhd;!function(t){var e=function(e){function i(t){var i=e.call(this,t,LayerManager.Game_Main,"lhd","GameSkin")||this;return i.starArr=[],i.ballList=[],i.BetBox.initComponent(t),i.JeButton.initComponent(t),i.LoginBtn.initComponent(t),i.ToolBar.initComponent(t),i.CardView.initComponent(t),i}return __extends(i,e),i.prototype.initUI=function(){this.MsgInfo.allPlayerDisplay(),this.MsgInfo.initInfo(),this.MsgInfo.setPluteLelf(),this.BetBox.createHeadPosition(),this.LoginBtn.open(),this.CardView.open(),this.Timer.open(),this.ToolBar.moveCharge(),this.ToolBar.reChargeEffect(),this.ToolBar.setOnlineLelf(),this.initChangeTableBone(),this.initBroadcast(this),this.btnRedPacket=RedPackBone.create(),this.btnRedPacket.init(),this.RadePaper.addChild(this.btnRedPacket),this.btnRedPacket.x=-10,this.btnRedPacket.y=20,this.btnRedPacket.play(RedPackBone.Animation1),this.btnRedPacket.touchEnabled=!0},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.BetBox.addEvent(),this.ChartView.addEvent(),App.CommonUtils.effectButton(this.LotteryRuel,this.showLotteryRuel,this,{}),this.ChangeTableBox.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onChangeTableHandler,this),this.GroupLottery.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openLotteryRecord,this),this.btnRedPacket.addEventListener(egret.TouchEvent.TOUCH_END,this.onOpenRedPac,this),App.MessageCenter.addListener(RedPacketConst.newRedEnvelopeNotity,this.RedPackNotify,this),App.MessageCenter.addListener(RedPacketConst.grabRedEnvelopeBack,this.RedEnvelopeBack,this),App.MessageCenter.addListener(RedPacketConst.expiredRedEnvelopeNotify,this.RedEnvelopeBack,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this.BetBox.removeEvent(),this.ChartView.removeEvent(),App.CommonUtils.removeButton(this.LotteryRuel),this.ChangeTableBox.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onChangeTableHandler,this),this.GroupLottery.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openLotteryRecord,this),this.btnRedPacket.removeEventListener(egret.TouchEvent.TOUCH_END,this.onOpenRedPac,this),App.MessageCenter.removeListener(RedPacketConst.newRedEnvelopeNotity,this.RedPackNotify,this),App.MessageCenter.removeListener(RedPacketConst.grabRedEnvelopeBack,this.RedEnvelopeBack,this),App.MessageCenter.removeListener(RedPacketConst.expiredRedEnvelopeNotify,this.RedEnvelopeBack,this)},i.prototype.onOpenRedPac=function(){App.ViewManager.open(LobbyViewConst.RedPacket),this.btnRedPacket.play(RedPackBone.Animation1)},i.prototype.RedPackNotify=function(){this.btnRedPacket.play(RedPackBone.Animation)},i.prototype.RedEnvelopeBack=function(){this.btnRedPacket.play(RedPackBone.Animation1)},i.prototype.setHitrate=function(t){this.BetBox.setHitrate(t)},i.prototype.initChangeTableBone=function(){if(this._approach||(this._approach=new common.comBones),!this._approach.parent){var t="table";this.ChangeTableBox.addChild(this._approach),this._approach.updateId(t)}this._approach.play(0)},i.prototype.showLotteryRuel=function(){this.applyFunc(t.CallBacks.onLotteryRuel)},i.prototype.onChangeTableHandler=function(){egret.Tween.get(this._approach).to({y:this._approach.y+20},80).to({y:0},80).call(function(){this.applyFunc(t.CallBacks.onChangeTableMenu)},this)},i.prototype.openLotteryRecord=function(){this.applyFunc(t.CallBacks.openLotteryRecord)},i.prototype.setTableName=function(t){this.TableName.text=t},i.prototype.setUserInfo=function(t){this.MsgInfo.setUserName(t.getNickName()),this.MsgInfo.setUserImage("ui_headImg_"+t.getAvatar()),this.MsgInfo.setUserFrame("ui_headBox_"+t.getAvatarBox()),this.setUserMoney(App.CommonUtils.money2Str(t.getMoney()))},i.prototype.changeOnlineNum=function(t){this.ToolBar.changeOnlineNum(""+t)},i.prototype.setUserBet=function(t){this.MsgInfo.setUserBet(""+t)},i.prototype.playerDisplay=function(t){this.MsgInfo.playerDisplay(t)},i.prototype.setPluteImage=function(t,e){this.MsgInfo.setPluteImage(t,e)},i.prototype.setPluteName=function(t,e){this.MsgInfo.setPluteName(t,e)},i.prototype.specialPlayerMoney=function(t,e){this.MsgInfo.specialPlayerMoney(t,e)},i.prototype.avatarShake=function(t){this.MsgInfo.avatarShake(t)},i.prototype.onlineShake=function(){this.ToolBar.onlineShake()},i.prototype.starFly=function(t){var e=this.MsgInfo.getPoint(),i=this.BetBox.getParabolicPoint(t),o=this.BetBox.getStarEndPoint(t),n=common.StarExpand.create();if(n){n.init(this);var s=500;n.run(e,i,o,s,function(){this.BetBox.showStar(t)}.bind(this),this)}},i.prototype.showStar=function(t){this.BetBox.showStar(t)},i.prototype.hideStar=function(){this.BetBox.hideStar()},i.prototype.setUserMoney=function(t){this.MsgInfo.setUserMoney(t)},i.prototype.setClassicIssue=function(t){this.ClassicIssue.text="期号 : "+t,this.showClassicIssue()},i.prototype.showClassicIssue=function(){this.GroupClassic.visible=!0,this.GroupLottery.visible=!1,this.LotteryRuel.visible=!1},i.prototype.showLotteryIssue=function(){this.GroupClassic.visible=!1,this.LotteryRuel.visible=!0,this.GroupLottery.visible=!0},i.prototype.setLotteryIssue=function(t){this.LotteryIssue.text="期号 : "+t+" : "},i.prototype.setCurIssue=function(t){this.Timer.setCurIssue(t)},i.prototype.ballRotate=function(t){this.clearBall();var e=t.split(",");if(e.length)for(var i=0;i<e.length;i++){var o=new eui.Image;o.source="common_ui_cp"+e[i]+"_png",o.x=14,o.y=14,o.anchorOffsetX=14,o.anchorOffsetY=14,this.ballList.push(o),this.GroupBall.addChild(o),egret.Tween.removeTweens(o),egret.Tween.get(o).wait(200*i).to({x:32*i+14,y:18,rotation:360},300,egret.Ease.sineInOut)}},i.prototype.createBall=function(t){this.clearBall();var e=t.split(",");if(e.length)for(var i=0;i<e.length;i++){var o=new eui.Image;o.source="common_ui_cp"+e[i]+"_png",o.x=32*i,o.y=4,this.ballList.push(o),this.GroupBall.addChild(o)}},i.prototype.clearBall=function(){if(this.ballList.length)for(var t=0;t<this.ballList.length;t++){var e=this.ballList[t];e.parent&&e.parent.removeChild(e)}},i.prototype.hideIssue=function(){this.GroupClassic.visible=!1,this.GroupLottery.visible=!1},i.prototype.setJeButton=function(t){this.JeButton.createChip(t),this.setchipValue(1)},i.prototype.setchipValue=function(t){this.JeButton.setchipValue(t)},i.prototype.betStartAni=function(t){this.BetAnimation.playAni(0,t)},i.prototype.betStopAni=function(){this.BetAnimation.playAni(1)},i.prototype.startTimer=function(t,e){this.Timer.startTimer(t,e)},i.prototype.showTimer=function(t){this.Timer.showTimer(t)},i.prototype.hideTimer=function(){this.Timer.hideTimer()},i.prototype.stopTimer=function(){this.Timer.stopTimer()},i.prototype.getRemaniTime=function(){return this.Timer.getRemaniTime()},i.prototype.awarding=function(){this.Timer.awarding()},i.prototype.showAwardAni=function(){this.Timer.showAwardAni()},i.prototype.hideAwardAni=function(){this.Timer.hideAwardAni()},i.prototype.clearAward=function(){this.Timer.clearAward()},i.prototype.toggleBtn=function(t){this.JeButton.toggleBtn(t)},i.prototype.ShowHandlightBtn=function(){this.JeButton.ShowHandlightBtn()},i.prototype.shuffleAni=function(){this.shuffle||(this.shuffle=new t.Shuffle(this._controller),this.GroupShuffle.addChild(this.shuffle)),this.shuffle.init(),this.shuffle.x=0,this.shuffle.y=0,this.shuffle.scaleX=this.shuffle.scaleY=1,this.shuffle.alpha=1,this.shuffle.goToWash(),this.shuffle.addPlayEndCallBack(function(){this.dealCard(!0)}.bind(this),this._controller)},i.prototype.clearShuffle=function(){this.shuffle&&(this.shuffle.destroy(),this.shuffle=void 0)},i.prototype.dealCard=function(t){this.CardView.dealCard(t)},i.prototype.putCard=function(){this.CardView.putCard()},i.prototype.openCard=function(t,e){this.CardView.openCard(t,e)},i.prototype.showCard=function(t,e){this.CardView.showCard(t,e)},i.prototype.runWinner=function(t){this.CardView.runWinner(t)},i.prototype.showWinner=function(t){this.CardView.showWinner(t)},i.prototype.clearCard=function(){this.CardView.clearCard()},i.prototype.clearWinner=function(){this.CardView.clearWinner()},i.prototype.showBetMoney=function(t){this.BetBox.showBetMoney(t)},i.prototype.showSelfBet=function(t){this.BetBox.showSelfBet(t)},i.prototype.showMyPreBet=function(t){this.BetBox.showMyPreBet(t)},i.prototype.initCoinArr=function(){this.BetBox.initCoinArr()},i.prototype.playerWinMoney=function(t,e){this.MsgInfo.playerWinMoney(App.CommonUtils.money(t),e)},i.prototype.betToPlaceAni=function(t,e,i){this.BetBox.betToPlaceAni(t,e,i)},i.prototype.createWinChip=function(t,e){this.BetBox.createWinChip(t,e)},i.prototype.coinAniClear=function(t,e){this.BetBox.coinAniClear(t),R.setTimeOnce(function(){e.forEach(function(t){this.MsgInfo.getMoneyLight(t)}.bind(this))},this,600)},i.prototype.moneyLight=function(t){t.forEach(function(t){this.MsgInfo.getMoneyLight(t)}.bind(this))},i.prototype.clearCoin=function(){this.BetBox.clearCoin()},i.prototype.showTableLight=function(t){this.BetBox.showTableLight(t)},i.prototype.hideTableLight=function(){this.BetBox.hideTableLight()},i.prototype.renderChart=function(t,e){this.ChartView.renderChart(t,e)},i.prototype.renderApproach=function(t,e){this.ChartView.renderApproach(t,e)},i.prototype.enabledConfirmBet=function(){this.LoginBtn.enabledConfirmBet()},i.prototype.enabledConserBet=function(){this.LoginBtn.enabledConserBet()},i.prototype.enabledRepeatBet=function(){this.LoginBtn.enabledRepeatBet()},i.prototype.disabledConfirmBet=function(){this.LoginBtn.disabledConfirmBet()},i.prototype.disabledConserBet=function(){this.LoginBtn.disabledConserBet()},i.prototype.disabledBtn=function(){this.LoginBtn.disabledRepeatBet(),this.LoginBtn.disabledConfirmBet(),this.LoginBtn.disabledConserBet()},i.prototype.enabledBtn=function(){this.LoginBtn.enabledRepeatBet(),this.LoginBtn.enabledConfirmBet(),this.LoginBtn.enabledConserBet()},i.prototype.cleanChip=function(){this.BetBox.cleanChip()},i.prototype.clearFlyWinChip=function(){this.BetBox.clearFlyWinChip()},i.prototype.destroy=function(){this._isDestroy||(e.prototype.destroy.call(this),this.shuffle&&(this.shuffle.destroy(),this.shuffle=void 0),egret.Tween.removeTweens(this),this.BetBox.destroy(),this.JeButton.destroy(),this.LoginBtn.destroy(),this.ToolBar.destroy(),this.CardView.destroy(),this.Timer.destroy(),this.MsgInfo.destroy())},i}(base.GameView);t.GameView=e,__reflect(e.prototype,"lhd.GameView")}(lhd||(lhd={}));var lhd;!function(t){var e=function(t){function e(e){var i=t.call(this,e,LayerManager.UI_Popup,"lhd","PopSkin")||this;return i.SetChip.initComponent(e),i.Prompt.initComponent(e),i.ChangeTable.initComponent(e),i.ChangeTable.getTableList().initComponent(e),i}return __extends(e,t),e.prototype.initUI=function(){this.SetChip.getcoordinate(),this.SetChip.createChip(),this.Help.initUI(),this.ChangeTable.initUI(),this.LotteryRecord.initUI()},e.prototype.addEvent=function(){t.prototype.addEvent.call(this),this.SetChip.addEvent(),this.ChangeTable.addEvent(),this.LotteryRecord.addEvent(),this.LotteryRule.addEvent()},e.prototype.removeEvent=function(){t.prototype.removeEvent.call(this),this.SetChip.removeEvent(),this.ChangeTable.removeEvent(),this.LotteryRecord.removeEvent(),this.LotteryRule.removeEvent()},e.prototype.showChipSet=function(){this.SetChip.showMenu()},e.prototype.setDefaultChip=function(t){this.SetChip.setDefaultChip(t)},e.prototype.initGameSet=function(){this.GameSet.initSet()
},e.prototype.showHelp=function(){this.Help.showPopup()},e.prototype.showGameSet=function(){this.GameSet.showPopup()},e.prototype.showWinRecord=function(){this.WinningRecord.showPopup()},e.prototype.renderWinRecord=function(t){this.WinningRecord.rankData(t)},e.prototype.showRanking=function(){this.Ranking.showPopup()},e.prototype.renderRanking=function(t){this.Ranking.rankData(t)},e.prototype.showLotteryRecord=function(){this.LotteryRecord.showPopup()},e.prototype.renderLotteryRecord=function(t){this.LotteryRecord.refreshData(t)},e.prototype.showPrompt=function(t,e,i,o){this.Prompt.showPrompt(t,e,i,o)},e.prototype.showPromptBrnn=function(t,e){this.Prompt.showPromptBrnn(t,e)},e.prototype.showChangeTable=function(){this.ChangeTable.showPopup()},e.prototype.closeChangeTable=function(){this.ChangeTable.closePoput()},e.prototype.createTableList=function(t,e){this.ChangeTable.createList(t,e)},e.prototype.insertState=function(t){this.ChangeTable.insertState(t)},e.prototype.insertChart=function(t){this.ChangeTable.insertChart(t)},e.prototype.showLotteryRule=function(){this.LotteryRule.showPopup()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.SetChip.destroy(),this.Prompt.destroy(),this.ChangeTable.destroy()},e}(base.GameView);t.PopView=e,__reflect(e.prototype,"lhd.PopView")}(lhd||(lhd={}));