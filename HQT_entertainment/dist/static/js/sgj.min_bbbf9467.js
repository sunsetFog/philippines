var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);i.prototype=e.prototype,t.prototype=new i},sgj;!function(t){var e=function(e){function i(){var t=e.call(this,"SgjPrompt")||this;return t.visible=!1,t}return __extends(i,e),i.prototype.showMenu=function(){this.visible=!0,this.PromptBg.visible=!0,this.PromptMenu.scaleX=this.PromptMenu.scaleY=0,App.EffectUtils.showUI(this.PromptMenu)},i.prototype.closePoput=function(){this.PromptBg.visible=!1,this.prompIsShow=!1;var t=this;App.EffectUtils.hideUI(this.PromptMenu,200,0,function(){t.prompIsShow||(t.visible=!1)})},i.prototype.showPromptSgj=function(t,e,i,o){switch(this.visible=!0,this.PromptBg.visible=!0,this.prompIsShow=!0,this.TextBox.removeChildren(),this.promptType=t,t){case 5:this.renderBrnnType5(e,i,o);break;case 7:this.renderBrnnType6()}this.PromptMenu.scaleX=this.PromptMenu.scaleY=0,App.EffectUtils.showUI(this.PromptMenu)},i.prototype.renderBrnnType5=function(t,e,i){this.BtnBox.visible=!0;var o=this.getTextField(39);o.textFlow=[{text:"当前投注项限红为"},{text:e?e+"":"0"},{text:"~"},{text:i}],o.x=this.TextBox.width/2-o.textWidth/2,this.TextBox.addChild(o);var n=this.getTextField(80);n.textFlow=[{text:"是否投注 "},{text:t,style:{textColor:16045931}},{text:" 达到上限?"}],this.TextBox.addChild(n),n.x=this.TextBox.width/2-n.textWidth/2},i.prototype.renderBrnnType6=function(){this.BtnBox.visible=!0;var t=this.getTextField(39);t.textFlow=[{text:"余额不足，是否前往充值？"}],t.x=this.TextBox.width/2-t.textWidth/2,this.TextBox.addChild(t)},i.prototype.getTextField=function(t){var e=new egret.TextField;return e.y=t,e.fontFamily="Microsoft YaHei",e.size=22,e.textColor=16777215,e.textAlign=egret.HorizontalAlign.CENTER,e},i.prototype.ConfirmMoney=function(){this.closePoput(),this.promptType==t.SgjBetResultCode.BetErrorOutLimitMax?this.applyFunc("confirmShowLimitBet"):this.promptType==t.SgjBetResultCode.BetErrorNoEnoughMoney&&this.applyFunc("ConfirmMoney")},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.BtnConcer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePoput,this),this.BtnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ConfirmMoney,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this.BtnConcer.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePoput,this),this.BtnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ConfirmMoney,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent()},i}(BaseEuiComponent);t.SgjPrompt=e,__reflect(e.prototype,"sgj.SgjPrompt")}(sgj||(sgj={}));var sgj;!function(t){var e;!function(e){var i=function(){function e(){}return e.prototype.getVersion=function(){return"v1.0.0"},e.prototype.reconstruction=function(t){var e=base.getController(t);e&&e.onReconstruction()},e.prototype.create=function(e){e==ControllerConst.Room||(e==ControllerConst.Game?App.ControllerManager.register(ControllerConst.Game,new t.GameController):e==ControllerConst.Desk);var i=base.getController(e);i&&i.onCreate()},e.prototype.initialize=function(t){t==ControllerConst.Game&&App.setScaleModeSpecial();var e=base.getController(t);e&&e.onInit()},e.prototype.destroy=function(t){App.setScaleModeNormal()},e}();e.sgj=i,__reflect(i.prototype,"sgj.Entrance.sgj",["base.IEntranceface"])}(e=t.Entrance||(t.Entrance={}))}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._mIndex=0,i._mIsInPool=!1,i.touchEnabled=!1,i.touchChildren=!1,i._mRender=t.sgjBones.create(),i._mRender.updateId("star_1"),i._mStarList=[],i}return __extends(i,e),i.create=function(){if(!(i.StarList.length>8)){var t=ObjectPool.pop("sgj.StarExpand");return t._mIsInPool=!1,i.StarList.push(t),t}},i.realese=function(t){t._mIsInPool||(t._mIsInPool=!0,t.clear(),i.c(),ObjectPool.push(t))},i.c=function(t){void 0===t&&(t=!1);for(var e=i.StarList,o=e.length,n=o-1;n>=0;n--){var s=e[n];t?(e.splice(n,1),s.destroy()):s._mIsInPool&&e.splice(n,1)}},i.cleanFormPool=function(){t.sgjBones.cleanFormPool(),i.c(!0),ObjectPool.clearClass("sgj.StarExpand","destroy")},i.prototype.init=function(t){this._mParent=t,this._mParent&&!this.parent&&(this._mParent.addChild(this),this.addChild(this._mRender))},i.prototype.run=function(t,e,o,n,s,r,a){this.play(),this.runParabola(t,e,o,n,function(){i.realese(this),s&&s.call(r,a)}.bind(this),this)},i.prototype.play=function(){this._mRender.play(999),this._mIndex=0,App.TimerManager.doTimer(80,999,this.callBackFind,this)},i.prototype.callBackFind=function(){var e=this._mStarList,i=e[this._mIndex++];i||(i=t.sgjBones.create(),i.blendMode=egret.BlendMode.ADD,i.updateId("star_0"),this._mStarList.push(i)),i.parent||this._mParent.addChild(i),i.setPosition(this.x,this.y),i.play(1,2),i.addPlayEndCallBack(function(t){R.removeFromParent(i)}.bind(this,i),this)},i.prototype.clear=function(){App.TimerManager.removeAll(this),this._mRender.stopGame(),R.removeFromParent(this),this.removeChildren(),this._mIndex=0},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.clear(),this._mRender&&this._mRender.destroy();for(var t=this._mStarList;t.length;){var i=t.pop();i&&i.destroy()}this._mRender=void 0,this._mParent=void 0,this._mStarList=void 0},i.StarList=[],i}(ActionExpand);t.StarExpand=e,__reflect(e.prototype,"sgj.StarExpand")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(){var t=e.call(this,"ShzAwardAnimation")||this;return t._sgjBones=null,t._mxx=0,t._myy=0,t.visible=!1,t}return __extends(i,e),i.prototype.init=function(){this._sgjBones||(this._sgjBones=t.sgjBones.create())},i.prototype.initRenders=function(){if(!this._sgjBones.parent){this.settlement.addChild(this._sgjBones),this._sgjBones.updateId("fruit");var t=this.sunImage.x+258.5,e=this.sunImage.y+257.5;this._sgjBones.setPosition(t,e),this._sgjBones.play(99999)}},i.prototype.bonesMotion=function(t,e){egret.Tween.get(this._sgjBones).to({x:this._mxx},700,egret.Ease.sineInOut).call(function(){this.openWinpopup(t),this.winName.visible=!0,this.winName.source="reward"+e+"_png",this.winBack.visible=!0},this)},i.prototype.settlementAnimation=function(){this.init(),this.initRenders()},i.prototype.closeSettlementAnimation=function(){egret.Tween.removeTweens(this),this.visible=!1,this.vanishFruits()},i.prototype.vanishFruits=function(){for(var t=0;8>t;t++)this["_double"+t].visible=!1,7>t&&(this["_single"+t].visible=!1)},i.prototype.setFruitIcon=function(t){this.visible=!0,this.vanishFruits();for(var e=t.length%2,i=function(){var i=null;i=e?o["_single"+n]:o["_double"+n],i.source="sgj_popup_json.fruit_"+t[n],R.setTimeOnce(function(){this.winlossRun(i)},o,200*n)},o=this,n=0;n<t.length;n++)i()},i.prototype.winlossRun=function(t){t.visible=!0,egret.Tween.get(t).to({y:t.y-35},100,egret.Ease.sineInOut).call(function(){egret.Tween.get(t).to({y:t.y+35},100,egret.Ease.sineInOut)},this)},i.prototype.clear=function(){this._sgjBones.stopGame(),R.removeFromParent(this),this.removeChildren()},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent(),R.removeAllTimeOut(this),App.TimerManager.removeAll(this),egret.Tween.removeTweens(this),this._sgjBones=void 0},i}(BaseEuiComponent);t.SgjAwardAnimation=e,__reflect(e.prototype,"sgj.SgjAwardAnimation")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(t){var i=e.call(this,"sgjBetAnimation")||this;return i._approach=null,i.visible=!1,i}return __extends(i,e),i.prototype.playAni=function(t){var e=App.StageUtils.getWidth();App.StageUtils.getHeight();this.BetStartAni.source=2==t?"sgj_table_json.xysgj_ui_tingzhitouzhu":"sgj_table_json.xysgj_ui_kaishixiazhu";var i=this._betPos,o=i.width;i.x=-o,i.alpha=1,this.visible=!0,egret.Tween.get(i).to({x:e/2-o/2},350,egret.Ease.sineInOut).wait(1e3).to({x:e},350,egret.Ease.sineOut).call(function(){i.x=-o,i.alpha=0,this.visible=!1},this)},i.prototype.diceAnimation=function(t){this.visible=!0,this.BetStartAni.source=2==t?"xysgj_ui_tingzhitouzhu_png":"xysgj_ui_kaishixiazhu_png",R.setTimeOnce(function(){this.visible=!1},this,800)},i.prototype.diceInit=function(e){this._approach||(this._approach=new t.sgjBones)},i.prototype.diceInitRenders=function(t){if(!this._approach.parent){var e="bet_"+t;this._betPos.addChild(this._approach),this._approach.updateId(e);var i=this._betPos.getChildAt(0).x+211,o=this._betPos.getChildAt(0).y+42.5;this._approach.setPosition(i,o)}},i.prototype.closeDiceAnimation=function(){this._approach.parent&&(this._approach.stopGame(),this._betPos.removeChild(this._approach))},i.prototype.overDiceAnimation=function(){this._approach.addPlayEndCallBack(function(){this._approach.parent&&this.closeDiceAnimation()},this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this._approach&&this._approach.destroy(),this._approach=void 0,R.removeAllTimeOut(this),egret.Tween.removeTweens(this.BetStartAni)},i}(BaseEuiComponent);t.sgjBetAnimation=e,__reflect(e.prototype,"sgj.sgjBetAnimation")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(){var t=e.call(this,"sgjButton")||this;return t.BtnType=0,t.winpos=[],t.allChipList=[],t.coinArr={},t}return __extends(i,e),i.prototype.buttonIniUI=function(){this.coinArr={};for(var t=0;8>t;t++)this.coinArr["0-"+t]=[],this.coinArr["1-"+t]=[],this.coinArr["2-"+t]=[],this.coinArr["3-"+t]=[],this.coinArr["4-"+t]=[],this.coinArr["5-"+t]=[]},i.prototype.showMenu=function(t){App.SoundManager.playEffect("SGJanniu_mp3"),this.BtnType=0==this.BtnType?1:0,1==this.BtnType?egret.Tween.get(this.zidongUp0).to({y:0},100):this.retractMenu()},i.prototype.getWinpos=function(){return this.winpos},i.prototype.retractMenu=function(){egret.Tween.get(this.zidongUp0).to({y:198},100),this.BtnType=0},i.prototype.clearAllBetMoney=function(){for(var t=0;8>t;t++)this["placeAllBet"+t].text="0.0",this["placeBet"+t].text="0.0";this.closeWinLight()},i.prototype.closeWinLight=function(){for(var t=0;8>t;t++)this["_winLight"+t].visible=!1},i.prototype.scaleAllBetMoney=function(){for(var t=0;8>t;t++)this["placeAllBet"+t].scaleX=1,this["placeAllBet"+t].scaleY=1,this["placeBet"+t].scaleX=1,this["placeBet"+t].scaleY=1},i.prototype.clearBetMoney=function(){for(var t=0;8>t;t++)this["placeBet"+t].text="0.0"},i.prototype.allButtonAshed=function(){for(var t=0;8>t;t++)this["btnBet"+t].enabled=!1;this.continueBetAshed(),this.revokeBetAshed()},i.prototype.allButtonLight=function(){for(var t=0;8>t;t++)this["btnBet"+t].enabled=!0},i.prototype.continueBetLight=function(){this.continueBet.enabled=!0},i.prototype.continueBetAshed=function(){this.continueBet.enabled=!1},i.prototype.revokeBetAshed=function(){this.revokeBet.enabled=!1},i.prototype.revokeBetLight=function(){this.revokeBet.enabled=!0},i.prototype.setPersonalBetMoney=function(t,e){this["placeBet"+t].text=e+""},i.prototype.setentireBetMoney=function(t,e){this["placeAllBet"+t].text=e+""},i.prototype.setMultipleNum=function(t){this._multiple.text=t+""},i.prototype.setWinLight=function(t){this["_winLight"+t].visible=!0},i.prototype.setTimeNum=function(t,e){this["timeNum_"+t].text=e+""},i.prototype.setAllTimeNum=function(){for(var t=0;4>t;t++)this["timeNum_"+t].text=""},i.prototype.btnNumShake=function(t,e){var i=1==e?this["placeBet"+t]:this["placeAllBet"+t];common.GUtils.numShake(i)},i.prototype.getStarEndPoint=function(t){var e;return e=this["StarPos_"+t].parent.localToGlobal(this["StarPos_"+t].x,this["StarPos_"+t].y)},i.prototype.getParabolicPoint=function(t){var e;return e=this["Parabolic_"+t].parent.localToGlobal(this["Parabolic_"+t].x,this["Parabolic_"+t].y)},i.prototype.createHeadPosition=function(){for(var t=0;6>t;t++){var e=void 0,i=void 0;switch(t){case 0:e=this.HeadPos0.left,i=App.StageUtils.getHeight()/2+this.HeadPos0.verticalCenter;break;case 1:e=this.HeadPos1.left,i=App.StageUtils.getHeight()/2+this.HeadPos1.verticalCenter;break;case 2:e=App.StageUtils.getWidth()-this.HeadPos2.right,i=App.StageUtils.getHeight()/2+this.HeadPos2.verticalCenter;break;case 3:e=App.StageUtils.getWidth()-this.HeadPos3.right,i=App.StageUtils.getHeight()/2+this.HeadPos3.verticalCenter;break;case 4:e=App.StageUtils.getWidth()-this.HeadPos4.right,i=App.StageUtils.getHeight()/2+this.HeadPos4.verticalCenter;break;case 5:e=this.HeadPos5.left,i=App.StageUtils.getHeight()-(this.HeadPos5.bottom+this.HeadPos5.height)}var o=this.GroupHeadPos.localToGlobal(e,i);this.winpos.push(o)}},i.prototype.createWinChip=function(e,i){for(var o=this["ChipPos"+e],n=this.winpos[i],s=this.GroupChipPos.globalToLocal(n.x,n.y),r=0;10>r;r++){var a=t.sgjchipBtn.create();a.init(r),a.setNameNum(i);var h=Math.floor(s.x),l=Math.floor(s.y);this.GroupChipPos.addChild(a),a.x=o.x,a.y=o.y,a.alpha=0,a.setFlyChipX(h),a.setFlyChipY(l),this.allChipList.push(a)}},i.prototype.flyWinChip=function(){this.allChipList&&this.allChipList.length&&this.allChipList.forEach(function(t){t.moveTo()},this)},i.prototype.showStar=function(t){this["StarPos_"+t].visible=!0},i.prototype.hideStar=function(){for(var t=0;8>t;t++)this["StarPos_"+t].visible=!1},i.prototype.clearFlyWinChip=function(){for(;this.allChipList&&this.allChipList.length;){var e=this.allChipList.pop();t.sgjchipBtn.release(e)}},i.prototype.createFlyCoin=function(e,i){var o=this.coinArr[i+"-"+e];if(o&&!(o.length>7)){var n=this.winpos[i],s=this.GroupChipPos.globalToLocal(n.x,n.y),r=this["ChipPos"+e].x,a=this["ChipPos"+e].y,h=t.sgjchipBtn.create();h.x=s.x,h.y=s.y,h.alpha=0,h.setFlyChipX(r),h.setFlyChipY(a),this.GroupChipPos.addChild(h),this.coinArr[i+"-"+e].push(h),this.moveToPlace(this.coinArr[i+"-"+e])}},i.prototype.moveToPlace=function(t){if(t&&t.length){var e=t.pop();e&&(e.alpha=1,e.moveToPlace());var i=this;R.setTimeOnce(function(){i.moveToPlace(t)},this,50)}},i.prototype.removeChip=function(){if(this.coinArr&&this.coinArr.length){if(!(this.coinArr.length>10))return;var e=this.coinArr.shift();t.sgjchipBtn.release(e),this.removeChip()}},i.prototype.removebetFiyChips=function(){for(var t=0;6>t;t++)for(var e=0;8>e;e++)if(this.coinArr[t+"-"+e]&&this.coinArr[t+"-"+e].length)for(;this.coinArr[t+"-"+e].length;){var i=this.coinArr[t+"-"+e].pop();i&&(i.cleanTween(),i.destroy())}},i.prototype.onClickBtnBetTAP=function(t){var e=Number(t.currentTarget.name);this.applyFunc("onClickBtnBetTAP",e)},i.prototype.onClickBtnBetBEGIN=function(t){var e=Number(t.currentTarget.name);this.applyFunc("onClickBtnBetBEGIN",e)},i.prototype.onClickBtnEndBetENDOUT=function(t){var e=Number(t.currentTarget.name);this.applyFunc("onClickBtnEndBetENDOUT",e)},i.prototype.changeInitBet=function(t){var e=Number(t.currentTarget.name);App.SoundManager.playEffect("SGJanniu_mp3"),this.retractMenu(),this.applyFunc("changeInitBet",e),R.sendPlayerAction("SGJantes_switch")},i.prototype.revokeBetMoney=function(){App.SoundManager.playEffect("SGJanniu_mp3"),this.applyFunc("revokeBetMoney"),R.sendPlayerAction("SGJbet_cancel")},i.prototype.btnContinueBet=function(){App.SoundManager.playEffect("SGJanniu_mp3"),this.applyFunc("btnContinueBet"),R.sendPlayerAction("SGJbet_renew")},i.prototype.addEvent=function(){e.prototype.addEvent.call(this);for(var t=0;8>t;t++){this["btnBet"+t];this["btnBet"+t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtnBetTAP,this),this["btnBet"+t].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onClickBtnBetBEGIN,this),this["btnBet"+t].addEventListener(egret.TouchEvent.TOUCH_END,this.onClickBtnEndBetENDOUT,this),this["btnBet"+t].addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onClickBtnEndBetENDOUT,this)}for(var i=0;4>i;i++)this["time_"+i].addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeInitBet,this);this.continueBet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnContinueBet,this),this.revokeBet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.revokeBetMoney,this),this.initBet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showMenu,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this);for(var t=0;8>t;t++)this["btnBet"+t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtnBetTAP,this),this["btnBet"+t].removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onClickBtnBetBEGIN,this),this["btnBet"+t].removeEventListener(egret.TouchEvent.TOUCH_END,this.onClickBtnEndBetENDOUT,this),this["btnBet"+t].removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onClickBtnEndBetENDOUT,this);for(var i=0;4>i;i++)this["time_"+i].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeInitBet,this);this.continueBet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnContinueBet,this),this.revokeBet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.revokeBetMoney,this),this.initBet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showMenu,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent(),this.clearFlyWinChip(),this.removebetFiyChips(),t.sgjchipBtn.cleanSgjchipBtnPool()},i}(BaseEuiComponent);t.sgjButtonView=e,__reflect(e.prototype,"sgj.sgjButtonView")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._mIsInPool=!1,e._mIndex=0,e.chiplist=[1,2,5,10,20,50,100,500,1e3,0],e.skinName="sgjchipBtn",e}return __extends(e,t),e.create=function(){var t=ObjectPool.pop("sgj.sgjchipBtn");return t._mIsInPool=!1,t},e.release=function(t){t._mIsInPool||(t._mIsInPool=!0,t.clean(),ObjectPool.push(t))},e.cleanSgjchipBtnPool=function(){ObjectPool.clearClass("sgj.sgjchipBtn","destroy")},e.prototype.init=function(t){this._mIndex=t},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.addPlayEndCallBack=function(t,e){this._mPlayEndCallBacK=t,this._mPlayEndThisObj=e},e.prototype.setBtnText=function(t){this.BtnText.text=this._mchipValue?this._mchipValue*t+"":""},e.prototype.setBtnValue=function(t){this._mchipValue=this.chiplist[t]},e.prototype.setBtntextValue=function(){this.BtnText.text=this._mchipValue?this._mchipValue+"":""},e.prototype.setScore=function(){this.BtnText.text=""},e.prototype.setFlyX=function(t){this.mIsX=t},e.prototype.setFlyY=function(t){this.mIsY=t},e.prototype.getFlyX=function(){return this.mIsX},e.prototype.getFlyY=function(){return this.mIsY},e.prototype.setFlyChipX=function(t){this._flyX=t},e.prototype.setFlyChipY=function(t){this._flyY=t},e.prototype.getFlyChipX=function(){return this._flyX},e.prototype.getFlyChipY=function(){return this._flyY},e.prototype.moveTo=function(){var t=this._flyX,i=this._flyY,o=this;egret.Tween.get(this).wait(100*this._mIndex).to({x:t,y:i,alpha:1},500,egret.Ease.sineInOut).call(function(){e.release(o)},this)},e.prototype.moveToPlace=function(){var t=this._flyX,i=this._flyY,o=this;egret.Tween.get(this).to({x:t,y:i},350).call(function(){e.release(o)},this)},e.prototype.cleanTween=function(){egret.Tween.removeTweens(this)},e.prototype.setBtnChip=function(t){this._chip.source="common_ui_"+t+"_png",this.BtnLight.source="common_ui_g"+t+"_png"},e.prototype.setNameNum=function(t){this._mChipId=t},e.prototype.getNameNum=function(){return this._mChipId},e.prototype.getChipNum=function(t){return this._mchipValue*t},e.prototype.stopChip=function(){this._btnchip.touchEnabled=!1},e.prototype.clean=function(){R.removeFromParent(this),egret.Tween.removeTweens(this),this._mPlayEndCallBacK=void 0,this._mPlayEndThisObj=void 0},e.prototype.destroy=function(){this.clean()},e}(eui.Component);t.sgjchipBtn=e,__reflect(e.prototype,"sgj.sgjchipBtn")}(sgj||(sgj={}));var sgj;!function(t){var e=function(){function t(){t.FuitPool=[]}return Object.defineProperty(t,"i",{get:function(){return null==t._i&&(t._i=new t),t._i},enumerable:!0,configurable:!0}),t.prototype.createSgjFuits=function(){var e=t.FuitPool.pop();return e||(e=new i),e.init(),e},t.prototype.releaseSgjFuits=function(e){return egret.is(e,"sgj.SgjFuits")?e.isRelease?void egret.error("SgjFuits 重复回收"):(e.clear(),void t.FuitPool.unshift(e)):void Log.log(e,"is not SgjFuits")},t.prototype.clear=function(){for(;t.FuitPool.length;)t.FuitPool.pop().destroy()},t._i=null,t.FuitPool=null,t}();t.FuitFactory=e,__reflect(e.prototype,"sgj.FuitFactory");var i=function(t){function e(){var e=t.call(this)||this;return e._isRelease=!1,e.skinName="SgjFruit",e}return __extends(e,t),e.prototype.init=function(){this._isRelease=!1},Object.defineProperty(e.prototype,"isRelease",{get:function(){return this._isRelease},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._isRelease=!0,R.removeFromParent(this),egret.Tween.removeTweens(this)},e.prototype.destroy=function(){this.clear()},e}(eui.Component);t.SgjFuits=i,__reflect(i.prototype,"sgj.SgjFuits")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(e){var i=t.call(this,"SgjGameSet")||this;return i.visible=!1,i}return __extends(e,t),e.prototype.initSet=function(){this.VoiceSlider.minimum=0,this.VoiceSlider.maximum=100,this.VoiceSlider.value=100*App.SoundManager.getBgVolume(),this.MusicSlider.minimum=0,this.MusicSlider.maximum=100,this.MusicSlider.value=100*App.SoundManager.getEffectVolume()},e.prototype.openMusic=function(){App.SoundManager.setEffectOn(!0),App.SoundManager.setBgOn(!0)},e.prototype.showPopup=function(){App.EffectUtils.showView(this)},e.prototype.closePoput=function(){App.SoundManager.playEffect("SGJanniu_mp3");var t=this;App.EffectUtils.hideView(this,function(){t.visible=!1},this)},e.prototype.onChangeValue=function(t){var e;switch(t.currentTarget){case this.VoiceSlider:e=this.VoiceSlider.value/100,App.SoundManager.setBgVolume(e);break;case this.MusicSlider:e=this.MusicSlider.value/100,App.SoundManager.setEffectVolume(e)}},e.prototype.onOpen=function(t){switch(t.currentTarget){case this.ToggleVoice:App.SoundManager.setBgOn(this.ToggleVoice.selected);break;case this.ToggleMusic:App.SoundManager.setEffectOn(this.ToggleMusic.selected)}},e.prototype.effectSwitch=function(t){var e=t.currentTarget.selected;this.applyFunc("effectSwitch",e),e&&R.sendPlayerAction("SGJeffect_without"),R.sendPlayerAction("SGJeffect_with")},e.prototype.btncloseVoice=function(){this.VoiceSlider.value=0,App.SoundManager.setBgVolume(0),R.sendPlayerAction("SGJmusic_without")},e.prototype.btncloseMusic=function(){this.MusicSlider.value=0,App.SoundManager.setEffectVolume(0),R.sendPlayerAction("SGJsound_without")},e.prototype.btnToggleVoice=function(){this.VoiceSlider.value=100,App.SoundManager.setBgVolume(1),R.sendPlayerAction("SGJmusic_with")},e.prototype.btnToggleMusic=function(){this.MusicSlider.value=100,App.SoundManager.setEffectVolume(1),R.sendPlayerAction("SGJsound_with")},e.prototype.addEvent=function(){t.prototype.addEvent.call(this),this.VoiceSlider.addEventListener(egret.Event.CHANGE,this.onChangeValue,this),this.MusicSlider.addEventListener(egret.Event.CHANGE,this.onChangeValue,this),App.CommonUtils.effectButton(this.SetClose,this.closePoput,this,{}),this._effectSwitch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.effectSwitch,this),this.closeVoice.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btncloseVoice,this),this.closeMusic.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btncloseMusic,this),this._ToggleVoice.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnToggleVoice,this),this._ToggleMusic.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnToggleMusic,this)},e.prototype.removeEvent=function(){t.prototype.removeEvent.call(this),this.VoiceSlider.removeEventListener(egret.Event.CHANGE,this.onChangeValue,this),this.MusicSlider.removeEventListener(egret.Event.CHANGE,this.onChangeValue,this),App.CommonUtils.removeButton(this.SetClose),this._effectSwitch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.effectSwitch,this),this.closeVoice.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btncloseVoice,this),this.closeMusic.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btncloseMusic,this),this._ToggleVoice.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnToggleVoice,this),this._ToggleMusic.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnToggleMusic,this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeEvent()},e}(BaseEuiComponent);t.SgjGameSet=e,__reflect(e.prototype,"sgj.SgjGameSet")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(t){var i=e.call(this,"SgjHelpSkin")||this;return i.visible=!1,i}return __extends(i,e),i.prototype.showPopup=function(){App.EffectUtils.showView(this),App.MouseUtils.addMouseWheel(this.onMouseWheel,this)},i.prototype.closePoput=function(){App.SoundManager.playEffect("SGJanniu_mp3");var t=this;App.EffectUtils.hideView(this,function(){t.visible=!1},this),App.MouseUtils.removeMouseWheel()},i.prototype.rankData=function(){var t=[{img0:"sgj_popup_json.xysgj_ui_bangzhu4",img1:"sgj_popup_json.xysgj_ui_bangzhu5"}],e=new eui.ArrayCollection;t.forEach(function(t){e.addItem(t)}),this.refreshGameList(e),this.showPopup()},i.prototype.refreshGameList=function(e){return this.gameList.itemRenderer=t.sgjHelpIcon,this.gameList.dataProvider=e,this.gameList.itemRendererSkinName="resource/games/sgj/euiSkin/SgjHelpIcon.exml",this.scrollerItem.viewport.scrollH=0,this.scrollerItem.viewport=this.gameList,this.scrollerItem},i.prototype.touchMove=function(e){this.ScrollBox.width=t.sgjControllerCon.Renew_Scroll_Width,this.ScrollBox.x=0,common.GUtils.touchScrollMove(this.scrollerItem,e,t.sgjControllerCon.Scroll_Bar_Height)},i.prototype.touchEnd=function(){this.ScrollBox.width=t.sgjControllerCon.Scroll_Width,this.ScrollBox.x=t.sgjControllerCon.Help_bar_X},i.prototype.onMouseWheel=function(t){common.GUtils.touchMouseWheel(this.scrollerItem,this.gameList,t.data)},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),App.CommonUtils.effectButton(this.helpClose,this.closePoput,this,{}),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),App.CommonUtils.removeButton(this.helpClose),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent()},i}(BaseEuiComponent);t.sgjHelp=e,__reflect(e.prototype,"sgj.sgjHelp")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){if(t.prototype.dataChanged.call(this),this.data)for(var e=0;2>e;e++)this["ruleimg"+e].texture=RES.getRes(this.data["img"+e])},e}(eui.ItemRenderer);t.sgjHelpIcon=e,__reflect(e.prototype,"sgj.sgjHelpIcon")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(t){var i=e.call(this,"sgjMessageInfoSkin")||this;return i._mResultPoint=new egret.Point,i.lightList=[],i}return __extends(i,e),i.prototype.setUserName=function(t){this.UserName.text=t},i.prototype.setUserImage=function(t){this.UserImage.source=t},i.prototype.setUserFrame=function(t){this.UserFrame.source=t},i.prototype.gameSetMoney=function(t){this.UserMoney.text=t+""},i.prototype.gameGetMoney=function(){return this.UserMoney.text},i.prototype.setUserBet=function(t){this._betMoney.text=t+""},i.prototype.avatarShake=function(t){var e=this["_Plute"+t],i=(e.x,0);i=1>=t||4==t?10:-10,egret.Tween.get(e).to({rotation:i},50).call(function(){egret.Tween.get(e).to({rotation:0},50,egret.Ease.sineInOut)},this)},i.prototype.setPluteImage=function(t,e){this["PluteImage"+e].source=t},i.prototype.setPluteName=function(t,e){this["PluteName"+e].text=t},i.prototype.specialPlayerMoney=function(t,e){this["PluteMoney"+e].text=t+""},i.prototype.playerWinMoney=function(t,e){this["PluteWinMoney"+e].text="+"+t},i.prototype.playerDisplay=function(t){this.allPlayerDisplay();for(var e=0;t+1>e;e++)this["Plute"+e].visible=!0},i.prototype.allPlayerDisplay=function(){for(var t=0;4>t;t++)this["Plute"+t].visible=!1},i.prototype.getPoint=function(){return this.localToGlobal(this.starPos.x,this.starPos.y,this._mResultPoint),this._mResultPoint},i.prototype.initInfo=function(){for(var t=0;5>t;t++)this["PluteWinMoney"+t].alpha=0,this["PluteWinMoney"+t].scaleX=.5,this["PluteWinMoney"+t].scaleY=.5},i.prototype.cleanAssemblyTween=function(){for(var t=0;5>t;t++){var e=this["PluteWinMoney"+t],i=this["_Plute"+t];egret.Tween.removeTweens(e),egret.Tween.removeTweens(i)}},i.prototype.fontEnlarge=function(t){var e=this["PluteWinMoney"+t],i=this;egret.Tween.get(e).to({scaleX:1,scaleY:1,alpha:1},300,egret.Ease.sineInOut),R.setTimeOnce(function(){egret.Tween.get(e).to({y:e.y-50,alpha:0},300,egret.Ease.sineInOut).call(function(){e.y=e.y+50},i)},this,1200)},i.prototype.getMoneyLight=function(e){var i=t.sgjBones.create();if(!i.parent){var o=void 0,n=void 0;4==e?(o=this.GroupInfo,n=this.UserImage):(o=this["_Plute"+e],n=this["PluteImage"+e]),o.addChild(i),i.updateId("money_linght"),i.blendMode=egret.BlendMode.ADD;var s=n.x+44,r=n.y+44.5;i.setPosition(s,r),i.play(1),this.lightList.push(i),i.addPlayEndCallBack(function(){i.parent&&t.sgjBones.realese(i)},this),this.fontEnlarge(e)}},i.prototype.cleanMoneyLight=function(){for(var e=this.lightList;e.length;){var i=e.pop();i&&t.sgjBones.realese(i)}},i.prototype.flyCoordinate=function(){for(var t=[],e=0;5>e;e++){var i=this["starPos"+e];i=4>e?this["PluteImage"+e]:this.UserImage;var o=this.localToGlobal(i.x,i.y);t.push(o)}return t},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent(),R.removeAllTimeOut(this),this.cleanAssemblyTween();for(var t=this.lightList;t.length;){var i=t.pop();i&&i.destroy()}},i}(BaseEuiComponent);t.sgjMessageView=e,__reflect(e.prototype,"sgj.sgjMessageView")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(){return t.call(this,"SgjOuterLight")||this}return __extends(e,t),e.prototype.outerShowLight=function(){for(var t=0;4>t;t++){var e=t%2,i=this.outerLight1.getChildAt(t);0==e?this.outerLight1.getChildAt(t).source="sgj_table_json.xysgj_ui_waiweicaideng1"==i.source?"sgj_table_json.xysgj_ui_waiweicaideng2":"sgj_table_json.xysgj_ui_waiweicaideng1":this.outerLight1.getChildAt(t).source="sgj_table_json.xysgj_ui_waiweicaideng3"==i.source?"sgj_table_json.xysgj_ui_waiweicaideng4":"sgj_table_json.xysgj_ui_waiweicaideng3"}},e.prototype.runouterShowLight=function(){App.TimerManager.doTimer(500,0,function(){this.outerShowLight()},this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),App.TimerManager.removeAll(this)},e}(BaseEuiComponent);t.SgjOuterLight=e,__reflect(e.prototype,"sgj.SgjOuterLight")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(e,i){var o=t.call(this,e,i)||this;return o.skinName="sgjPopupskin",o._sgjAward.initComponent(e),o._sgjBetAnimation.initComponent(e),o._sgjWait.initComponent(e),o._sgjRanking.initComponent(e),o._sgjPrompt.initComponent(e),o._sgjWinningRecord.initComponent(e),o._sgjGameSet.initComponent(e),o._sgjHelp.initComponent(e),o}return __extends(e,t),e.prototype.initUI=function(){this._sgjAward.vanishFruits()},e.prototype.waitGameOver=function(){this._sgjWait.waitGameOver()},e.prototype.closeWaitGameOver=function(){this._sgjWait.closeWaitGameOver()},e.prototype.diceAnimation=function(t){this._sgjBetAnimation.playAni(t)},e.prototype.closeSettlementAnimation=function(){this._sgjAward.closeSettlementAnimation()},e.prototype.setFruitIcon=function(t){this._sgjAward.setFruitIcon(t)},e.prototype.addEvent=function(){t.prototype.addEvent.call(this),this._sgjPrompt.addEvent(),this._sgjAward.addEvent(),this._sgjBetAnimation.addEvent(),this._sgjWait.addEvent(),this._sgjRanking.addEvent(),this._sgjWinningRecord.addEvent(),this._sgjGameSet.addEvent(),this._sgjHelp.addEvent()
},e.prototype.removeEvent=function(){t.prototype.removeEvent.call(this),this._sgjPrompt.removeEvent(),this._sgjAward.removeEvent(),this._sgjBetAnimation.removeEvent(),this._sgjWait.removeEvent(),this._sgjRanking.removeEvent(),this._sgjWinningRecord.removeEvent(),this._sgjGameSet.removeEvent(),this._sgjHelp.removeEvent()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeEvent(),this._sgjAward.destroy(),this._sgjBetAnimation.destroy(),this._sgjWait.destroy(),this._sgjRanking.destroy(),this._sgjPrompt.destroy(),this._sgjWinningRecord.destroy(),this._sgjGameSet.destroy(),this._sgjHelp.destroy()},e}(BaseEuiView);t.SgjPopupView=e,__reflect(e.prototype,"sgj.SgjPopupView")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(){var e=t.call(this,null)||this;return e._mIsInPool=!1,e.touchEnabled=!1,e.touchChildren=!1,e}return __extends(e,t),e.create=function(){var t=ObjectPool.pop("sgj.sgjBones");return t._mIsInPool=!1,t},e.realese=function(t){t._mIsInPool||(t._mIsInPool=!0,t.clean(),ObjectPool.push(t))},e.cleanFormPool=function(){ObjectPool.clearClass("sgj.sgjBones","destroy")},e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.updateId=function(t,i){this.initDBRes(t);var o=i?i:e._mActionList;this.armature=this.createArmature("Armature",t,o),this.armature.addCompleteCallFunc(this.armaturePlayEnd,this)},e.prototype.addPlayEndCallBack=function(t,e){this._mPlayEndCallBacK=t,this._mPlayEndThisObj=e},e.prototype.stopGame=function(){this.armature&&this.armature.stop()},e.prototype.armaturePlayEnd=function(){this._mPlayEndCallBacK&&this._mPlayEndCallBacK.call(this._mPlayEndThisObj)},e.prototype.setPosition=function(t,e){this.x=t,this.y=e},e.prototype.play=function(t,i,o){var n=o?o:e.Animation;this.armature.play(n,t,i)},e.prototype.clean=function(){t.prototype.clean.call(this),this.stopGame(),this._mPlayEndCallBacK=void 0,this._mPlayEndThisObj=void 0},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._mPlayEndCallBacK=void 0,this._mPlayEndThisObj=void 0,this.armature=void 0},e.Animation="play",e._mActionList=[e.Animation],e}(base.BaseGameObject);t.sgjBones=e,__reflect(e.prototype,"sgj.sgjBones")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this.data&&(this.NickName.text=this.data.nick_name,this.Money.text=App.CommonUtils.money(this.data.win_money)+"",this.data.ordinal<4?(1==this.data.ordinal?(this.RankSrc.source="sgj_popup_json.bjl_ui_jin",this.RankSrc.y=-3):2==this.data.ordinal?(this.RankSrc.source="sgj_popup_json.bjl_ui_yin",this.RankSrc.y=2,this.RankSrc.scaleX=.8,this.RankSrc.scaleY=.8):(this.RankSrc.source="sgj_popup_json.bjl_ui_tong",this.RankSrc.y=8,this.RankSrc.scaleX=.7,this.RankSrc.scaleY=.7),this.RankSrc.visible=!0,this.RankName.visible=!1):(this.RankName.text=this.data.ordinal,this.RankName.visible=!0,this.RankSrc.visible=!1))},e}(eui.ItemRenderer);t.SgjRankIcon=e,__reflect(e.prototype,"sgj.SgjRankIcon")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(t){var i=e.call(this,"SgjRanking")||this;return i.visible=!1,i}return __extends(i,e),i.prototype.showPopup=function(){App.EffectUtils.showView(this,300,0,1,function(){App.MouseUtils.addMouseWheel(this.onMouseWheel,this)},this)},i.prototype.closePoput=function(){App.SoundManager.playEffect("SGJanniu_mp3");var t=this;App.EffectUtils.hideView(this,function(){t.visible=!1},this),App.MouseUtils.removeMouseWheel()},i.prototype.rankData=function(t){var e=new eui.ArrayCollection;this.listNum=t.length;for(var i=0;i<t.length;i++){var o=t[i];e.addItem(o)}this.refreshGameList(e)},i.prototype.refreshGameList=function(e){return this.gameList.itemRenderer=t.SgjRankIcon,this.gameList.dataProvider=e,this.gameList.itemRendererSkinName="resource/games/sgj/euiSkin/SgjRankIcon.exml",this.scrollerItem.viewport.scrollH=0,this.scrollerItem.viewport=this.gameList,this.scrollerItem},i.prototype.touchMove=function(e){this.ScrollBox.width=t.sgjControllerCon.Renew_Scroll_Width,this.ScrollBox.x=0,common.GUtils.touchScrollMove(this.scrollerItem,e,t.sgjControllerCon.Scroll_Bar_Height)},i.prototype.touchEnd=function(){this.ScrollBox.width=t.sgjControllerCon.Scroll_Width,this.ScrollBox.x=t.sgjControllerCon.Rank_Bar_X},i.prototype.onMouseWheel=function(t){common.GUtils.touchMouseWheel(this.scrollerItem,this.gameList,t.data)},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),App.CommonUtils.effectButton(this.RankClose,this.closePoput,this,{}),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),App.CommonUtils.removeButton(this.RankClose),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent()},i}(BaseEuiComponent);t.SgjRanking=e,__reflect(e.prototype,"sgj.SgjRanking")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._maskRct=new egret.Rectangle(0,0,88,17),e.skinName="SgjRecordIcon",e}return __extends(e,t),e.create=function(){var t=e._lementBtnPool.pop();return t||(t=new e),t},e.release=function(t){t instanceof e?(t.clean(),e._lementBtnPool.push(t)):egret.error("_lement is not the instance of _lementBtn!")},e.prototype.init=function(t){this.dataChanged(t)},e.prototype.addPlayEndCallBack=function(t,e){this._mPlayEndCallBacK=t,this._mPlayEndThisObj=e},e.prototype.dataChanged=function(t){t.charts&&(this.Issue.text=App.DateUtils.getFormatBySecond(t.time,2),this.Winning.text=t.money)},e.prototype.clean=function(){R.removeFromParent(this),this._mPlayEndCallBacK=void 0,this._mPlayEndThisObj=void 0},e.prototype.destroy=function(){this.clean()},e._lementBtnPool=[],e}(eui.Component);t.SgjRecord=e,__reflect(e.prototype,"sgj.SgjRecord")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return App.MessageCenter.dispatch(t.sgjControllerCon.sgjRecordCreateEnd),i}return __extends(i,e),i.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data&&(this.times.text=App.DateUtils.getFormatBySecond(this.data.time,2),this.Winning.text=App.CommonUtils.money2Str(this.data.hit_money)+"")},i}(eui.ItemRenderer);t.SgjRecordIcon=e,__reflect(e.prototype,"sgj.SgjRecordIcon")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(){var t=e.call(this,"SgjToolBar")||this;return t._copeImageList={},t.detailRecord=[],t._ImagePos={},t.moveNum=0,t.indexNum=50,t.listNew=[5,7.9,11],t._cardflaylist=[],t.newIamge=[],t.BtnType=0,t.BtnFruitType=0,t}return __extends(i,e),i.prototype.toolInitUI=function(){for(var t=0;11>t;t++)this._ImagePos[t]={x:0+59*t,y:3};this.btnBackLobby.visible=!App.isWebInsert,this.backBtn.visible=!App.isWebInsert},i.prototype.recordFuitflay=function(e){var i=(this._cardflaylist.length?this._cardflaylist.length:1)-1;this.moveNum=e.length-(11-this._cardflaylist.length);var o=0;this.cleanNewImge();for(var n,s=function(){n=t.FuitFactory.i.createSgjFuits(),n.x=650+59*a,n.y=3;var s=e[a].open_num%2,h=e[a].open_type;e[e.length-1].open_num==e[a].open_num?(n.sgjNew.source="sgj_menu_json.xysgj_ui_new",r.indexNum=s):n.sgjNew.source="",n.fruitBg.source=1==s?"sgj_menu_json.xysgj_ui_kaijiangjilu4":"sgj_menu_json.xysgj_ui_kaijiangjilu3",n._fruits.source="sgj_popup_json.xysgj_ui_icon"+r._copeImageList[e[a].open_place],n.fruitType.source=0==h?"sgj_menu_json.xysgj_ui_luck":2==h?"sgj_menu_json.xysgj_ui_train":"";var l=r,p=r._ImagePos[i].x+59+59*a;r.RegularDisplay.addChild(n),r._cardflaylist.push(n),egret.Tween.get(n).to({x:p},800,egret.Ease.sineInOut).call(function(){o++,o>=e.length&&l.moveNum>0&&l.AllCardMove()},r)},r=this,a=0;a<e.length;a++)s()},i.prototype.cleanNewImge=function(){for(var t=0;t<this._cardflaylist.length;t++){var e=this._cardflaylist[t];e.sgjNew.source=""}},i.prototype.AllCardMove=function(){for(var t=0;t<this._cardflaylist.length;t++){var e=this._cardflaylist[t],i=e.x-59*this.moveNum;egret.Tween.get(e).to({x:i},800,egret.Ease.sineInOut)}R.setTimeOnce(function(){this.dropCard()},this,900)},i.prototype.dropCard=function(){for(var e=0;e<this._cardflaylist.length;e++){var i=this._cardflaylist[e];e<this.moveNum&&(egret.Tween.removeTweens(i),t.FuitFactory.i.releaseSgjFuits(i))}this._cardflaylist.length>11&&this._cardflaylist.splice(0,this.moveNum)},i.prototype.recordCardDisplay=function(e){this.clearCard(),this._cardflaylist=[];for(var i=0;i<e.length;i++){var o=t.FuitFactory.i.createSgjFuits(),n=e[i].open_num%2,s=e[i].open_type;e[e.length-1].open_num==e[i].open_num?(o.sgjNew.source="sgj_menu_json.xysgj_ui_new",this.indexNum=n):o.sgjNew.source="",o.fruitBg.source=1==n?"sgj_menu_json.xysgj_ui_kaijiangjilu4":"sgj_menu_json.xysgj_ui_kaijiangjilu3",o._fruits.source="sgj_popup_json.xysgj_ui_icon"+this._copeImageList[e[i].open_place],o.fruitType.source=0==s?"sgj_menu_json.xysgj_ui_luck":2==s?"sgj_menu_json.xysgj_ui_train":"",o.x=this._ImagePos[i].x,o.y=this._ImagePos[i].y,this.RegularDisplay.addChild(o),this._cardflaylist.push(o)}},i.prototype.getIndexNum=function(){return this.indexNum},i.prototype.clearCard=function(){if(this._cardflaylist.length){if(this._cardflaylist.length){for(var e=0;e<this._cardflaylist.length;e++){var i=this._cardflaylist[e];i&&i.parent&&(egret.Tween.removeTweens(i),t.FuitFactory.i.releaseSgjFuits(i))}this._cardflaylist=[]}App.TimerManager.remove(this.frameRender,this),App.TimerManager.remove(this.frameNewRender,this)}},i.prototype.dealRenderBead=function(t){for(var e=0;e<t.length;e++){var i=t[e];this.detailRecord.unshift(i)}this.renderBead(this.detailRecord)},i.prototype.renderBead=function(t){t.length&&(t.length>50?this.detailRecord=[].concat(t.splice(0,50)):this.detailRecord=[].concat(t)),this.indexNum+=1,this.clearCard(),this.renderNewBead(),this.detailRecord.length>10&&(this.sgjIndex=10,App.TimerManager.doFrame(1,99,this.frameRender,this))},i.prototype.frameRender=function(){this.sgjIndex<this.detailRecord.length?this.renderOne():App.TimerManager.remove(this.frameRender,this)},i.prototype.renderOne=function(){if(!(this.sgjIndex>this.detailRecord.length-1)){var e=this.detailRecord[this.sgjIndex],i=t.FuitFactory.i.createSgjFuits(),o=this.sgjIndex/10,n=-45+46*parseInt(String(o)),s=this.sgjIndex%10,r=535-59*s;i.x=r,i.y=n;var a=e.open_num%2,h=e.open_type;i.sgjNew.source="",i.fruitBg.source=1==a?"sgj_menu_json.xysgj_ui_kaijiangjilu4":"sgj_menu_json.xysgj_ui_kaijiangjilu3",i._fruits.source="sgj_popup_json.xysgj_ui_icon"+this._copeImageList[e.open_place],i.fruitType.source=0==h?"sgj_menu_json.xysgj_ui_luck":2==h?"sgj_menu_json.xysgj_ui_train":"",this.GroupBead.addChild(i),this._cardflaylist.push(i),this.sgjIndex++}},i.prototype.renderNewBead=function(){this.detailRecord.length>0&&(this.sgjNewIndex=0,this.sgjLength=0,this.detailRecord.length<=10?this.sgjLength=this.detailRecord.length:this.sgjLength=10,App.TimerManager.doFrame(1,99,this.frameNewRender,this))},i.prototype.frameNewRender=function(){this.sgjNewIndex<this.sgjLength?this.renderNewOne():App.TimerManager.remove(this.frameNewRender,this)},i.prototype.renderNewOne=function(){if(!(this.sgjNewIndex>this.sgjLength-1)){var e=this.detailRecord[this.sgjNewIndex],i=t.FuitFactory.i.createSgjFuits(),o=this.sgjNewIndex%10,n=533-59*o,s=4;i.x=n,i.y=s;var r=e.open_num%2,a=e.open_type;this.detailRecord[0].open_num==e.open_num?(i.sgjNew.source="sgj_menu_json.xysgj_ui_new",i.alpha=0,this.winlossRun(i)):i.sgjNew.source="",i.fruitBg.source=1==r?"sgj_menu_json.xysgj_ui_kaijiangjilu4":"sgj_menu_json.xysgj_ui_kaijiangjilu3",i._fruits.source="sgj_popup_json.xysgj_ui_icon"+this._copeImageList[e.open_place],i.fruitType.source=0==a?"sgj_menu_json.xysgj_ui_luck":2==a?"sgj_menu_json.xysgj_ui_train":"",this.RegularDisplay.addChild(i),this._cardflaylist.push(i),this.sgjNewIndex++}},i.prototype.winlossRun=function(t){t.alpha=1,egret.Tween.get(t).to({y:t.y-46},50,egret.Ease.sineInOut).call(function(){egret.Tween.get(t).to({y:t.y+92},800,egret.Ease.sineInOut).call(function(){egret.Tween.get(t).to({y:t.y-46},100,egret.Ease.sineInOut)},this)},this)},i.prototype.removeCoins=function(t){for(;t.numChildren;){t.removeChildAt(0)}},i.prototype.showMenu=function(t){var e=this.menuBtn.$children[0];App.SoundManager.playEffect("SGJanniu_mp3"),this.BtnType=0==this.BtnType?1:0,1==this.BtnType?(e.source="sgj_menu_json.xysgj_ui_caidan2",egret.Tween.get(this.MenuBox).to({y:0},100)):(e.source="sgj_menu_json.xysgj_ui_caidan",egret.Tween.get(this.MenuBox).to({y:-193},100))},i.prototype.showFruitMenu=function(t){App.SoundManager.playEffect("SGJanniu_mp3"),this.BtnFruitType=0==this.BtnFruitType?1:0,1==this.BtnFruitType?egret.Tween.get(this.fruitUp).to({y:0},100):egret.Tween.get(this.fruitUp).to({y:-195},100),R.sendPlayerAction("SGJhistory_open")},i.prototype.setonlineNum=function(t){this.OnlineNum.text=""+t},i.prototype.showHelp=function(){App.SoundManager.playEffect("SGJanniu_mp3"),this.applyFunc("showHelp"),R.sendPlayerAction("SGJhelp_open")},i.prototype.showGameSet=function(){App.SoundManager.playEffect("SGJanniu_mp3"),this.applyFunc("showGameSet"),R.sendPlayerAction("SGJset_open")},i.prototype.showranking=function(){App.SoundManager.playEffect("SGJanniu_mp3"),this.applyFunc("showranking"),R.sendPlayerAction("SGJrank_open")},i.prototype.showRecord=function(){App.SoundManager.playEffect("SGJanniu_mp3"),this.applyFunc("showRecord"),R.sendPlayerAction("SGJrecord_open")},i.prototype.payMoney=function(){App.SoundManager.playEffect("SGJanniu_mp3"),this.applyFunc("sgjGoRechargeMoney")},i.prototype.onlineShake=function(){var t=this.BtnOnline,e=(t.x,-10);egret.Tween.get(t).to({rotation:e},50).call(function(){egret.Tween.get(t).to({rotation:0},50,egret.Ease.sineInOut)},this)},i.prototype.backBody=function(){this.applyFunc("onClickBackLobby")},i.prototype.onHotIconBegin=function(t){var e,i=t.currentTarget.name;switch(i){case"btnBackLobby":e=this.backBtn;break;case"ButtonHelp":e=this.ButtonHelpBtn;break;case"ButtonSetup":e=this.ButtonSetupBtn;break;case"ranking":e=this.rankBtn;break;case"menu":e=this.menuBtn;break;case"Record":e=this.Recordbtn}egret.Tween.get(e).to({scaleX:.8,scaleY:.8},80).to({scaleX:1,scaleY:1},80)},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.menu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showMenu,this),this.btnBackLobby.addEventListener(egret.TouchEvent.TOUCH_TAP,this.backBody,this),this.ButtonHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showHelp,this),this.ButtonSetup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showGameSet,this),this.ranking.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showranking,this),this.Record.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showRecord,this),App.CommonUtils.effectButton(this.moneyGroup,this.payMoney,this,{}),App.CommonUtils.effectButton(this.btnDrop,this.showFruitMenu,this,{}),this.btnBackLobby.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.ButtonHelp.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.ButtonSetup.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.ranking.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.menu.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.Record.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this.menu.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showMenu,this),this.btnBackLobby.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.backBody,this),this.ButtonSetup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showGameSet,this),this.ranking.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showranking,this),this.Record.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showRecord,this),App.CommonUtils.removeButton(this.moneyGroup),App.CommonUtils.removeButton(this.btnDrop),this.btnBackLobby.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.ButtonHelp.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.ButtonSetup.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.ranking.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.menu.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this),this.Record.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHotIconBegin,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent(),this.clearCard(),egret.Tween.removeTweens(this.BtnOnline),t.FuitFactory.i.clear()},i}(BaseEuiComponent);t.sgjToolBar=e,__reflect(e.prototype,"sgj.sgjToolBar")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(e){var i=t.call(this,"SgjWaitGame")||this;return i.visible=!1,i.touchEnabled=!0,i.touchChildren=!0,i}return __extends(e,t),e.prototype.waitGameOver=function(){this.visible=!0,this.waitGameGilf(),App.TimerManager.doTimer(2e3,99,function(){this.waitGameGilf()},this)},e.prototype.waitGameGilf=function(){for(var t=function(){var t=e._wiatGame.getChildAt(i);R.setTimeOnce(function(){this.waitGameRun(t)},e,200*i)},e=this,i=0;10>i;i++)t()},e.prototype.cleanAssemblyTween=function(){for(var t=0;10>t;t++){var e=this._wiatGame.getChildAt(t);egret.Tween.removeTweens(e)}},e.prototype.waitGameRun=function(t){egret.Tween.get(t).to({y:t.y-8},80,egret.Ease.sineInOut).call(function(){egret.Tween.get(t).to({y:t.y+8},80,egret.Ease.sineInOut)},this)},e.prototype.closeWaitGameOver=function(){App.TimerManager.removeAll(this),egret.Tween.removeTweens(this),this.visible=!1},e.prototype.destroy=function(){t.prototype.destroy.call(this),App.TimerManager.removeAll(this),this.cleanAssemblyTween()},e}(BaseEuiComponent);t.SgjWaitGame=e,__reflect(e.prototype,"sgj.SgjWaitGame")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(t){var i=e.call(this,"SgjWinningRecord")||this;return i.isCreateEnd=!1,i._lementList=[],i.visible=!1,i}return __extends(i,e),i.prototype.showPopup=function(){this.scrollerItem.verticalScrollBar.visible=!1,this.ScrollBox.touchEnabled=!1,App.EffectUtils.showView(this)},i.prototype.closePoput=function(){App.SoundManager.playEffect("SGJanniu_mp3");var t=this;App.EffectUtils.hideView(this,function(){t.visible=!1,t.isCreateEnd=!1},this),App.MouseUtils.removeMouseWheel()},i.prototype.rankData=function(t){var e=new eui.ArrayCollection;this.listNum=t.length,t.forEach(function(t){e.addItem(t)}),this.refreshGameList(e),this.createLement(t)},i.prototype.refreshGameList=function(e){return this.gameList.itemRenderer=t.SgjRecordIcon,this.gameList.dataProvider=e,this.gameList.itemRendererSkinName="resource/games/sgj/euiSkin/SgjRecordIcon.exml",this.scrollerItem.viewport.scrollH=0,this.scrollerItem.viewport=this.gameList,this.scrollerItem},i.prototype.touchMove=function(e){this.ScrollBox.width=t.sgjControllerCon.Renew_Scroll_Width,this.ScrollBox.x=0,common.GUtils.touchScrollMove(this.scrollerItem,e,t.sgjControllerCon.Scroll_Bar_Height)},i.prototype.touchEnd=function(){this.ScrollBox.width=t.sgjControllerCon.Scroll_Width,this.ScrollBox.x=t.sgjControllerCon.Rank_Bar_X},i.prototype.onMouseWheel=function(t){common.GUtils.touchMouseWheel(this.scrollerItem,this.gameList,t.data)},i.prototype.sgjRecordCreateEnd=function(){this.isCreateEnd||(this.isCreateEnd=!0,App.MouseUtils.addMouseWheel(this.onMouseWheel,this),this.gameList.contentHeight<this.scrollerItem.viewport.height?(this.scrollerItem.verticalScrollBar.visible=!1,this.ScrollBox.touchEnabled=!1):(this.scrollerItem.verticalScrollBar.visible=!0,this.ScrollBox.touchEnabled=!0))},i.prototype.createLement=function(e){this.reMoveLement();for(var i=0;i<e.length;i++){var o=e[i],n=t.SgjRecord.create();n.init(o),n.x=0,n.y=0+38.67*i,this._addList.addChild(n),this._lementList.push(n)}},i.prototype.reMoveLement=function(){for(;this._lementList.length;){var e=this._lementList.pop();t.SgjRecord.release(e)}},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),App.CommonUtils.effectButton(this.RecordClose,this.closePoput,this,{}),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this),App.MessageCenter.addListener(t.sgjControllerCon.sgjRecordCreateEnd,this.sgjRecordCreateEnd,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),App.CommonUtils.removeButton(this.RecordClose),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchMove,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.ScrollBox.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this),App.MessageCenter.removeListener(t.sgjControllerCon.sgjRecordCreateEnd,this.sgjRecordCreateEnd,this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent(),this.reMoveLement()},i}(BaseEuiComponent);t.SgjWinningRecord=e,__reflect(e.prototype,"sgj.SgjWinningRecord")}(sgj||(sgj={}));var sgj;!function(t){var e=function(){function t(){}return t.Scroll_Bar_Height=100,t.Scroll_Width=50,t.Renew_Scroll_Width=1e3,t.Help_bar_X=897,t.Rank_Bar_X=675,t.Record_Bar_X=675,t.onOnlineCountNotifyBack="onOnlineCountNotifyBack",t.onCancelBetResBack="onCancelBetResBack",t.onPlayerInfoNotifyBack="onPlayerInfoNotifyBack",t.onIssueNotifyBack="onIssueNotifyBack",t.onStateNotifyBack="onStateNotifyBack",t.onSpecialPlayerNotifyBack="onSpecialPlayerNotifyBack",t.onLastBetNotifyBack="onLastBetNotifyBack",t.onBetResBack="onBetResBack",t.onPlayerBetInfoNotifyBack="onPlayerBetInfoNotifyBack",t.onGameResultNotifyBack="onGameResultNotifyBack",t.onGameBetInfoNotifyBack="onGameBetInfoNotifyBack",t.settlementStage="settlementStage",t.onChartResBack="onChartResBack",t.onSpecialPlayerActionNotifyBack="onSpecialPlayerActionNotifyBack",t.onRankingListResBack="onRankingListResBack",t.onBaseBetNotifyBack="onBaseBetNotifyBack",t.sgjRecordCreateEnd="sgjRecordCreateEnd",t.onGame_MSG={Online:"Online",Info:"Info",basebet:"basebet",special:"special",state:"state",chart:"chart"},t.NET_MSG={PLAYER_INFO_NOTIFY:"11401",Online_Count_Notify:"11402",Issue_Notify:"11403",State_Notify:"11404",Limit_Notify:"11405",Bet_Req:"11406",Bet_Res:"11407",Player_Bet_Info_Notify:"11408",Game_Bet_Info_Notify:"11409",Game_Result_Notify:"11410",Chart_Req:"11411",Chart_Res:"11412",Ranking_List_Req:"11413",Ranking_List_Res:"11414",Special_Player_Notify:"11415",Special_Player_Action_Notify:"11416",Cancel_Bet_Req:"11417",Cancel_Bet_Res:"11418",Last_Bet_Notify:"11419",BASE_BET_NOTIFY:"11420"},t}();t.sgjControllerCon=e,__reflect(e.prototype,"sgj.sgjControllerCon");var i;!function(t){t[t.PLUTE0=0]="PLUTE0",t[t.PLUTE1=1]="PLUTE1",t[t.PLUTE2=2]="PLUTE2",t[t.PLUTE3=3]="PLUTE3",t[t.ONLINE=4]="ONLINE",t[t.SELF=5]="SELF"}(i=t.PlayerConst||(t.PlayerConst={}));var o;!function(t){t[t["do"]=0]="do",t[t.re=1]="re",t[t.mi=2]="mi",t[t.fa=3]="fa",t[t.sol=4]="sol",t[t.la=5]="la",t[t.si=6]="si",t[t.dodo=7]="dodo"}(o=t.SgjPlaceConst||(t.SgjPlaceConst={}));var n;!function(t){t[t.BetSucc=0]="BetSucc",t[t.BetErrorPlace=1]="BetErrorPlace",t[t.BetErrorMoney=2]="BetErrorMoney",t[t.BetErrorState=3]="BetErrorState",t[t.BetErrorOutLimitMin=4]="BetErrorOutLimitMin",t[t.BetErrorOutLimitMax=5]="BetErrorOutLimitMax",t[t.BetErrorOutLimitTotal=6]="BetErrorOutLimitTotal",t[t.BetErrorNoEnoughMoney=7]="BetErrorNoEnoughMoney",t[t.BetErrorNULL=8]="BetErrorNULL"}(n=t.SgjBetResultCode||(t.SgjBetResultCode={}));var s;!function(t){t[t.OutLimitMax=1]="OutLimitMax",t[t.StudBet=2]="StudBet",t[t.NoEnoughMoney=6]="NoEnoughMoney"}(s=t.SgjBetResultPopupConst||(t.SgjBetResultPopupConst={}))}(sgj||(sgj={}));var sgj;!function(t){var e;!function(t){t[t.Base=6100]="Base",t[t.Popup=6101]="Popup",t[t.Recharge=6102]="Recharge"}(e=t.ViewConst||(t.ViewConst={}))}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._view=null,t._PopupView=null,t._proxy=null,t._sgjModel=null,t.betpingguo=["SGJbet_pingguo","SGJbet_juzi","SGJbet_mangguo","SGJbet_lingdang","SGJbet_xigua","SGJbet_shuangxing","SGJbet_shuangqi","SGJbet_bar"],t}return __extends(i,e),i.prototype.onCreate=function(){e.prototype.onCreate.call(this),this.inits(),this.addListeners(),this.addEventListeners()},i.prototype.onInit=function(){e.prototype.onInit.call(this),this.registers(),Log.trace("GameController init()"),App.ViewManager.open(t.ViewConst.Base,this.getModel()),App.ViewManager.open(t.ViewConst.Popup,this.getModel()),this.enterGameInfo()},i.prototype.inits=function(){e.prototype.inits.call(this),this._model=new t.GameModel(this),this._proxy=new t.GameProxy(this,this.getModel()),this._view=new t.GameView(this),this._PopupView=new t.SgjPopupView(this,LayerManager.UI_Popup),this.getSgjModel().userMoney=this.player.getMoney()},i.prototype.getSgjModel=function(){return this._model},i.prototype.addListeners=function(){e.prototype.addListeners.call(this),this._proxy.addEvent()},i.prototype.removeListeners=function(){e.prototype.removeListeners.call(this),this._proxy.removeEvent()},i.prototype.registers=function(){e.prototype.registers.call(this),App.ViewManager.register(t.ViewConst.Base,this._view),App.ViewManager.register(t.ViewConst.Popup,this._PopupView),this.registerRecharge(),this.registerRedpacket()},i.prototype.onExitGame=function(){e.prototype.onExitGame.call(this),this.goBack2Lobby()},i.prototype.addEventListeners=function(){this.registerFunc("onClickBackLobby",this.onClickBackLobby,this),this.registerFunc("onClickBtnBetTAP",this.onClickBtnBetTAP,this),this.registerFunc("onClickBtnBetBEGIN",this.onClickBtnBetBEGIN,this),this.registerFunc("onClickBtnEndBetENDOUT",this.onClickBtnEndBetENDOUT,this),this.registerFunc("revokeBetMoney",this.revokeBetMoney,this),this.registerFunc("btnContinueBet",this.btnContinueBet,this),this.registerFunc("changeInitBet",this.changeInitBet,this),this.registerFunc(t.sgjControllerCon.onOnlineCountNotifyBack,this.onOnlineCountNotifyBack,this),this.registerFunc(t.sgjControllerCon.onCancelBetResBack,this.onCancelBetResBack,this),this.registerFunc(t.sgjControllerCon.onPlayerInfoNotifyBack,this.onPlayerInfoNotifyBack,this),this.registerFunc(t.sgjControllerCon.onIssueNotifyBack,this.onIssueNotifyBack,this),this.registerFunc(t.sgjControllerCon.onStateNotifyBack,this.onStateNotifyBack,this),this.registerFunc(t.sgjControllerCon.onSpecialPlayerNotifyBack,this.onSpecialPlayerNotifyBack,this),this.registerFunc(t.sgjControllerCon.onLastBetNotifyBack,this.onLastBetNotifyBack,this),this.registerFunc(t.sgjControllerCon.onBetResBack,this.onBetResBack,this),this.registerFunc(t.sgjControllerCon.onPlayerBetInfoNotifyBack,this.onPlayerBetInfoNotifyBack,this),this.registerFunc(t.sgjControllerCon.onGameResultNotifyBack,this.onGameResultNotifyBack,this),this.registerFunc(t.sgjControllerCon.onGameBetInfoNotifyBack,this.onGameBetInfoNotifyBack,this),this.registerFunc(t.sgjControllerCon.settlementStage,this.settlementStage,this),this.registerFunc("showranking",this.showranking,this),this.registerFunc("showRecord",this.showRecord,this),this.registerFunc("showGameSet",this.showGameSet,this),this.registerFunc(t.sgjControllerCon.onChartResBack,this.onChartResBack,this),this.registerFunc(t.sgjControllerCon.onSpecialPlayerActionNotifyBack,this.onSpecialPlayerActionNotifyBack,this),this.registerFunc(t.sgjControllerCon.onRankingListResBack,this.onRankingListResBack,this),this.registerFunc("requestWinRecord",this.requestWinRecord,this),this.registerFunc("showHelp",this.showHelp,this),this.registerFunc("confirmShowLimitBet",this.confirmShowLimitBet,this),this.registerFunc("ConfirmMoney",this.ConfirmMoney,this),this.registerFunc("effectSwitch",this.effectSwitch,this),this.registerFunc("sgjGoRechargeMoney",this.sgjGoRechargeMoney,this),this.registerFunc(t.sgjControllerCon.onBaseBetNotifyBack,this.onBaseBetNotifyBack,this)},i.prototype.onUserMoneyChange=function(t){this.getSgjModel().userMoney=t.balance;var e=App.CommonUtils.money2Str(t.balance);this._view.gameSetMoney(e)},i.prototype.enterGameInfo=function(){this.getSgjModel().isOpenGame=!0;for(var e in this.getSgjModel().initGameMss)if(null!=this.getSgjModel().initGameMss[e]){var i=this.getSgjModel().initGameMss[e];switch(e){case t.sgjControllerCon.onGame_MSG.Info:this.onPlayerInfoNotifyBack(i);break;case t.sgjControllerCon.onGame_MSG.Online:this.onOnlineCountNotifyBack(i);break;case t.sgjControllerCon.onGame_MSG.basebet:this.onBaseBetNotifyBack(i);break;case t.sgjControllerCon.onGame_MSG.special:this.onSpecialPlayerActionNotifyBack(i);break;case t.sgjControllerCon.onGame_MSG.state:this.onStateNotifyBack(i);break;case t.sgjControllerCon.onGame_MSG.chart:this.onChartResBack(i)}}},i.prototype.onClickBackLobby=function(){this._proxy.sendLeaveGame()},i.prototype.onClickBtnBetTAP=function(t){R.removeAllTimeOut(this),App.TimerManager.removeAll(this),this.getSgjModel().betPlace=t,this.betContinue()},i.prototype.onClickBtnBetBEGIN=function(t){var e=this;R.removeAllTimeOut(this),App.TimerManager.removeAll(this),this.getSgjModel().betPlace=t,R.setTimeOnce(function(){App.TimerManager.doTimer(200,99999,e.betContinue,e)},this,1e3)},i.prototype.betContinue=function(){this.betshow(this.getSgjModel().betPlace)},i.prototype.onClickBtnEndBetENDOUT=function(t){R.removeAllTimeOut(this),App.TimerManager.removeAll(this)},i.prototype.betshow=function(e,i){var o=[],n=this.getSgjModel();n.isRepeat=!1;var s=i?i:1e4*n.multipleBet;return t.conFun.setBetMusic(e),this.isLimit(e,s)?(R.removeAllTimeOut(this),void App.TimerManager.removeAll(this)):(R.sendPlayerAction(this.betpingguo[e]),o.push({place:e,bet_money:s}),void this.autoBet(o))},i.prototype.autoBet=function(t){var e=t,i={bets:e,table_id:0};this._proxy.requestBet(i)},i.prototype.isLimit=function(e,i,o){void 0===o&&(o=!1);var n=!1;this.getSgjModel().isRepeat=o;for(var s=this.getSgjModel().limitBet,r=0;r<s.length;r++){var a=s[r];if(a.place==e){var h=i,l=this.getSgjModel().betList[e],p=this.getSgjModel().userMoney;0>=p?(this._PopupView._sgjPrompt.showPromptSgj(t.SgjBetResultCode.BetErrorNoEnoughMoney),n=!0):i>p?(this._PopupView._sgjPrompt.showPromptSgj(t.SgjBetResultCode.BetErrorNoEnoughMoney),n=!0):l>=a.limit_max_money?(o?t.conFun.textReminder(t.SgjBetResultCode.BetErrorOutLimitMax):t.conFun.textReminder(t.SgjBetResultCode.BetErrorOutLimitMax,App.CommonUtils.money(a.limit_min_money),App.CommonUtils.money(a.limit_max_money)),n=!0):h+l>a.limit_max_money&&(o?t.conFun.textReminder(t.SgjBetResultCode.BetErrorOutLimitMax):(this.getSgjModel().limitBetMoney=a.limit_max_money-l,this._PopupView._sgjPrompt.showPromptSgj(t.SgjBetResultCode.BetErrorOutLimitMax,App.CommonUtils.money(this.getSgjModel().limitBetMoney),App.CommonUtils.money(a.limit_min_money),App.CommonUtils.money(a.limit_max_money))),n=!0)}}return n},i.prototype.getAllSelfBet=function(){var t=0;for(var e in this.getSgjModel().betList)t+=this.getSgjModel().betList[e];return t},i.prototype.revokeBetMoney=function(){this._proxy.requestRevokeBet()},i.prototype.btnContinueBet=function(){this.repeatBet()},i.prototype.changeInitBet=function(t){this.getSgjModel().multipleBet=Number(this.getSgjModel().initBetList[t]),this._view.setMultipleNum(this.getSgjModel().multipleBet)
},i.prototype.onOnlineCountNotifyBack=function(t){this.getSgjModel().isOpenGame&&this._view.setonlineNum(t.online_count)},i.prototype.onCancelBetResBack=function(t){this.getSgjModel().userMoney=t.balance;var e=App.CommonUtils.money2Str(t.balance);this._view.gameSetMoney(e),this.getSgjModel().truebet.length=0,this.getSgjModel().truebet=[],this._view.setUserBet(0),this._view.clearBetMoney(),this.resetPersonalBet(),this._view.revokeBetAshed(),this._view.cleanBetList()},i.prototype.onPlayerInfoNotifyBack=function(t){if(this.getSgjModel().isOpenGame){var e=App.CommonUtils.money2Str(t.balance);this._view.gameSetMoney(e)}},i.prototype.onIssueNotifyBack=function(t){},i.prototype.onStateNotifyBack=function(t){if(this.getSgjModel().isOpenGame){var e=t.total_time-t.remaining_time;if(1==t.state){this.resetAllBet(),this.resetPersonalBet(),this._view.setUserBet(0),this._view.cleanBetList(),App.TimerManager.removeAll(this._view),this.getSgjModel().isFirtGame=!1,this._PopupView.closeWaitGameOver(),this._view.closeMaskAppears(),this._PopupView.closeSettlementAnimation(),this._view.closetAnimation(),this._view.cleanState1(),200>=e&&this._PopupView.diceAnimation(1),this.getSgjModel().isRecord||this._view.recordFuitflay();var i=t.remaining_time;this._view.sgjCountdownTimer(i);var o=this;R.setTimeOnce(function(){o._view._winpos=o.getSgjModel()._mAwardList.length?o.getSgjModel()._mAwardList[0].open_place:5,o._view.startGameLight()},this,300)}else if(2==t.state){if(this.getSgjModel().isRecord=!1,this._view.scaleAllBetMoney(),this._PopupView._sgjPrompt.closePoput(),this._view.timeGroup.visible=!1,App.TimerManager.removeAll(this._view),this.getSgjModel().isFirtGame)return this._PopupView.waitGameOver(),void this._view.maskAppears();this._PopupView.closeSettlementAnimation(),this._view.closetAnimation(),this.onClickBtnEndBetENDOUT({}),this._view.overBet(),this._PopupView.diceAnimation(2)}}},i.prototype.onSpecialPlayerNotifyBack=function(t){if(this.getSgjModel().isOpenGame){var e=t.special_player;if(e.length){this.getSgjModel().playerIds={},this.getSgjModel().specialMoney={};for(var i=0;i<e.length;i++){var o=e[i];this._view.setInformation(o),this.getSgjModel().playerIds[o.play_role]=o.user_id,this.getSgjModel().specialMoney[o.play_role]=o.balance}}}},i.prototype.onLastBetNotifyBack=function(t){var e=t.open_places;this._view.InitUpdateImage(e)},i.prototype.onBetResBack=function(t){var e=t.code,i=t.bets,o=i.length>1?!0:!1;if(e)return void this.betCodeTips(e,o);for(var n=0;n<i.length;n++){i[n].place,i[n].bet_money}1==i.length&&R.sendPlayerAction("SGJantes_bet"+this.getSgjModel().multipleBet);var s=App.CommonUtils.money2Str(t.balance);this._view.gameSetMoney(s),this._view.revokeBetLight(),this._view.avatarShake(4)},i.prototype.onPlayerBetInfoNotifyBack=function(e){this.getSgjModel().allMoney=0,this.getSgjModel().truebet.length=0,this.getSgjModel().truebet=[];for(var i=0;i<e.infos.length;i++){var o=e.infos[i],n=o.bet_money,s=n-this.getSgjModel()._betInfoNotify[o.place];this._view.setPersonalBetMoney(i,App.CommonUtils.money(n).toFixed(1)),s>0&&(this._view.btnNumShake(o.place,1),this._view.createFlyCoin(o.place,t.PlayerConst.SELF)),this.totalbet(n,o.place),this.getSgjModel().betList[o.place]=o.bet_money,this.getSgjModel()._betInfoNotify[o.place]=o.bet_money}this._view.setUserBet(App.CommonUtils.money2Str(this.getSgjModel().allMoney))},i.prototype.onGameResultNotifyBack=function(t){this._view.marryStartUp();for(var e=this.getSgjModel()._mAwardList,i=0;i<e.length;i++){var o=e[i].win_money;o>0&&(-1==this.getSgjModel()._specialPlayer.indexOf(4)&&this.getSgjModel()._specialPlayer.push(4),this._view.createWinChip(e[i].place,5))}},i.prototype.onGameBetInfoNotifyBack=function(e){for(var i=0,o=0;o<e.infos.length;o++){var n=e.infos[o],s=n.total_bet_money,r=s-this.getSgjModel().allBetList[n.place];i+=s,this._view.setentireBetMoney(o,App.CommonUtils.money(s).toFixed(1)),r>0&&(this._view.btnNumShake(n.place,2),this._view.createFlyCoin(n.place,t.PlayerConst.ONLINE),this._view.onlineShake()),s>0&&-1==this.getSgjModel()._allBetPos.indexOf(n.place)&&this.getSgjModel()._allBetPos.push(n.place),e.spe_balance&&(this._view.revokeSpecialPlayerMoney(e.spe_balance,e.user_id),e.user_id==this.getSgjModel().playerIds[t.PlayerConst.PLUTE0]&&0>r&&(this._view.hideStar(),this.getSgjModel()._isFlylist.length=0,this.getSgjModel()._isFlylist=[])),this.getSgjModel().allBetList[n.place]=n.total_bet_money}this._view.betTotalScore.text=App.CommonUtils.money(i).toFixed(1)+"",this._view.btnAllNumShake()},i.prototype.resetAllBet=function(){for(var t=0;t<this.getSgjModel().allBetList.length;t++)this.getSgjModel().allBetList[t]=0},i.prototype.resetPersonalBet=function(){for(var t=0;t<this.getSgjModel()._betInfoNotify.length;t++)this.getSgjModel()._betInfoNotify[t]=0},i.prototype.settlementStage=function(t){var e=t.length,i=e%2,o=Math.floor(e/2),n=-1,s=-1,r=[];if(t.length>2)if(i){n=o,s=o,r.push(t[o]);for(var a=0;o>a;a++){n-=1,s+=1;for(var h=0;2>h;h++)r.push(t[0==h?n:s])}}else{n=o-1,s=o;for(var l=0;o>l;l++){for(var h=0;2>h;h++)r.push(t[0==h?n:s]);n-=1,s+=1}}else r=t;this._PopupView.setFruitIcon(r),this.getSgjModel().isEffect||this._view.settlementAnimation();var p=this,c=App.CommonUtils.money2Str(this.getSgjModel()._mTotalScore),g=this.getSgjModel().specialMoney;this._view.playerWinMoney(c,4),R.setTimeOnce(function(){p._PopupView.closeSettlementAnimation(),p._view.closetAnimation(),p._view.flyWinChip(),p.playGetScore();for(var t in g){var e=g[t];p._view.specialPlayerMoney(App.CommonUtils.money2Str(e),t)}},this,3e3)},i.prototype.showranking=function(){this._proxy.ranking({begin_idx:0,req_count:50}),App.EasyLoading.showOnTimeOut(),this._PopupView._sgjRanking.showPopup()},i.prototype.showRecord=function(){this._PopupView._sgjWinningRecord.showPopup();var t=this.getSgjModel().recordList;t.length&&this._PopupView._sgjWinningRecord.rankData(t)},i.prototype.showGameSet=function(){this._PopupView._sgjGameSet.initSet(),this._PopupView._sgjGameSet.showPopup()},i.prototype.onChartResBack=function(t){this.getSgjModel().isOpenGame&&this._view.recordCardDisplay(this.getSgjModel()._recordHistory)},i.prototype.onSpecialPlayerActionNotifyBack=function(t){if(t)if(t.play_action){for(var e=0,i=0;i<t.bets.length;i++)t.bets[i].money>0&&(this._view.createWinChip(t.bets[i].place,t.play_role),e+=t.bets[i].money,-1==this.getSgjModel()._specialPlayer.indexOf(t.play_role)&&this.getSgjModel()._specialPlayer.push(t.play_role));this._view.playerWinMoney(App.CommonUtils.money2Str(e),t.play_role),this.getSgjModel().specialMoney[t.play_role]=t.balance}else{var o=App.CommonUtils.money2Str(t.balance);this._view.avatarShake(t.play_role),this._view.specialPlayerMoney(o,t.play_role);for(var i=0;i<t.bets.length;i++){var n=t.bets[i].place;t.play_role||-1!=this.getSgjModel()._isFlylist.indexOf(n)||(this.getSgjModel()._isFlylist.push(n),this._view.starFly(n))}for(var s=0;s<t.bets.length;s++)this._view.createFlyCoin(t.bets[s].place,t.play_role)}},i.prototype.onRankingListResBack=function(t){this._PopupView._sgjRanking.rankData(t.infos)},i.prototype.requestWinRecord=function(){this._proxy.winRecord()},i.prototype.showHelp=function(){this._PopupView._sgjHelp.rankData()},i.prototype.confirmShowLimitBet=function(){this.getSgjModel().limitBetMoney&&this.betshow(this.getSgjModel().betPlace,this.getSgjModel().limitBetMoney)},i.prototype.ConfirmMoney=function(){App.ViewManager.open(LobbyViewConst.Recharge)},i.prototype.effectSwitch=function(t){this.getSgjModel().isEffect=t},i.prototype.sgjGoRechargeMoney=function(){App.ViewManager.open(LobbyViewConst.Recharge)},i.prototype.onBaseBetNotifyBack=function(t){if(this.getSgjModel().isOpenGame){this.getSgjModel().initBetList.length=0,this.getSgjModel().initBetList=[];for(var e=App.CommonUtils.copyDataHandler(t.base_bet),i=[],o=0;o<e.length;o++){var n=Number(App.CommonUtils.money2StrTwo(e[o]));i.push(n)}this.getSgjModel().initBetList=i.sort(function(t,e){return t-e}),this._view.setTimeNum(this.getSgjModel().initBetList)}},i.prototype.repeatBet=function(){if(this.getSgjModel().upperBureauchip.length){var t=!0;t=this.getSgjModel().upperBureauchip.length>1?!0:!1;for(var e=0;e<this.getSgjModel().upperBureauchip.length;e++){var i=this.getSgjModel().upperBureauchip[e];if(this.isLimit(i.place,i.bet_money,t))return}this.autoBet(this.getSgjModel().upperBureauchip)}},i.prototype.repeatReadyBet=function(){for(var t=this.getSgjModel().upperBureauchip,e=0;e<t.length;e++){t[e]}},i.prototype.betCodeTips=function(e,i){var o=e,n=this.getSgjModel().limitBet[this.getSgjModel().betPlace];switch(o){case t.SgjBetResultCode.BetErrorOutLimitMin:t.conFun.textReminder(e,App.CommonUtils.money(n.limit_min_money),App.CommonUtils.money(n.limit_max_money));break;case t.SgjBetResultCode.BetErrorOutLimitMax:if(i)t.conFun.textReminder(e);else{var s=this.getSgjModel().betList[this.getSgjModel().betPlace];s>=n.limit_max_money?t.conFun.textReminder(e,App.CommonUtils.money(n.limit_min_money),App.CommonUtils.money(n.limit_max_money)):(this.getSgjModel().limitBetMoney=n.limit_max_money-s,this._PopupView._sgjPrompt.showPromptSgj(t.SgjBetResultCode.BetErrorOutLimitMax,App.CommonUtils.money(this.getSgjModel().limitBetMoney),App.CommonUtils.money(n.limit_min_money),App.CommonUtils.money(n.limit_max_money)))}break;case t.SgjBetResultCode.BetErrorNoEnoughMoney:this._PopupView._sgjPrompt.showPromptSgj(o);break;default:t.conFun.textReminder(o)}},i.prototype.playGetScore=function(){var t=Number(this._view.gameGetMoney()),e=Number(App.CommonUtils.money2Str(this.getSgjModel()._mTotalScore));if(e){var i=e/30;this.setRecordInit(this.getSgjModel()._mTotalScore),App.TimerManager.doTimer(32,999,function(){App.SoundManager.playEffect("SGJdefen_mp3"),t+=i,e-=i,this._view.gameSetMoney(App.CommonUtils.moneyself(t)),this._view.setWinTotalScore(1e4*e),i>=e&&(App.SoundManager.stopEff("SGJdefen_mp3"),this._view.setWinTotalScore(0),this._view.gameSetMoney(App.CommonUtils.money2Str(this.getSgjModel().userMoney)),App.TimerManager.removeAll(this))},this)}},i.prototype.setRecordInit=function(t){var e=GameBase.getCurrServerTime(),i=t;if(i>0){var o={time:e,hit_money:i};this.getSgjModel().recordList.unshift(o)}this.getSgjModel().changerecordList()},i.prototype.totalbet=function(t,e){var i={place:e,bet_money:t};i.bet_money>0&&this.getSgjModel().truebet.push(i),this.getSgjModel().allMoney+=t},i.prototype.resetLimitBet=function(){for(var t=0;8>t;t++)this.getSgjModel().limitBet[t]=this.getSgjModel().limitOldBet[t]},i.prototype.setPlaceLimitBet=function(t,e){this.getSgjModel().limitBet[t]=this.getSgjModel().limitBet[t]-e},i.prototype.resetUserIdMoney=function(){for(var e=0;6>e;e++)this.getSgjModel().specialMoney[e]=0,t.PlayerConst.SELF!=e&&(this.getSgjModel().playerIds[e]=0)},i.prototype.destroy=function(){e.prototype.destroy.call(this),R.removeAllTimeOut(this),App.TimerManager.removeAll(this),Log.trace("sgj销毁Controller"),t.StarExpand.cleanFormPool(),this._view.destroy(),this._model.destroy(),this._proxy.destroy(),this._PopupView.destroy(),t.sgjchipBtn.cleanSgjchipBtnPool(),t.FuitFactory.i.clear(),this._view=void 0,this._model=void 0,this._proxy=void 0,this._PopupView=void 0},i}(base.GameController);t.GameController=e,__reflect(e.prototype,"sgj.GameController")}(sgj||(sgj={}));var sgj;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.initData(),i}return __extends(e,t),e.prototype.initData=function(){this.multipleBet=.1,this.drawsNum=[],this.lotteryType=0,this.recordList=[],this.betPlace=0,this.truebet=[],this.userMoney=0,this._betInfoNotify=[0,0,0,0,0,0,0,0],this._winpos=5,this.upperBureauchip=[],this._mAwardList=[],this.openPlace=[],this._winBtnPos=[],this._mScoreAward=0,this._mTotalScore=0,this.isFirtGame=!0,this._recordHistory=[],this.historyNum=0,this._specialPlayer=[],this._allBetPos=[],this.limitBet=[],this.limitOldBet={},this.isRepeat=!1,this.playerIds={},this.isEffect=!1,this.specialMoney={},this.initBetList=[.1,1,10,100],this.betList={},this.limitBetMoney=0,this._isFlylist=[],this.userId=0,this.allBetList=[0,0,0,0,0,0,0,0],this.initGameMss={Online:null,Info:null,basebet:null,special:null,state:null,chart:null},this.isOpenGame=!1,this.isRecord=!0},e.prototype.changerecordList=function(){this.recordList.length>50&&this.recordList.splice(-1,1)},e.prototype.countTotalScore=function(t){if(!(t>=this._mAwardList.length)){var e=this._mAwardList[t].win_money;this._mScoreAward+=e,Log.log("当前奖励分数：",this._mScoreAward)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.initData()},e}(base.GameModel);t.GameModel=e,__reflect(e.prototype,"sgj.GameModel")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(t,i){return e.call(this,t,i)||this}return __extends(i,e),i.prototype.getSgjModel=function(){return this._model},i.prototype.onPlayerInfoNotifyBack=function(e){Log.log("onPlayerInfoNotifyBack",e),this.getSgjModel().userMoney=e.balance,this.getSgjModel().initGameMss[t.sgjControllerCon.onGame_MSG.Info]=App.CommonUtils.copyDataHandler(e),this.applyFunc(t.sgjControllerCon.onPlayerInfoNotifyBack,e)},i.prototype.onOnlineCountNotifyBack=function(e){Log.log("onOnlineCountNotifyBack",e),this.getSgjModel().initGameMss[t.sgjControllerCon.onGame_MSG.Online]=App.CommonUtils.copyDataHandler(e),this.applyFunc(t.sgjControllerCon.onOnlineCountNotifyBack,e)},i.prototype.onIssueNotifyBack=function(e){Log.log("onIssueNotifyBack",e),this.applyFunc(t.sgjControllerCon.onIssueNotifyBack,e)},i.prototype.onStateNotifyBack=function(e){Log.log("onStateNotifyBack",e),this.getSgjModel().initGameMss[t.sgjControllerCon.onGame_MSG.state]=App.CommonUtils.copyDataHandler(e),this.applyFunc(t.sgjControllerCon.onStateNotifyBack,e)},i.prototype.onLimitNotifyBack=function(t){Log.log("onLimitNotifyBack",t),this.getSgjModel().limitBet=t.limits;for(var e=0;e<t.limits.length;e++)this.getSgjModel().betList[t.limits[e].place]=0;Log.log(this.getSgjModel().limitBet),Log.log(this.getSgjModel().betList)},i.prototype.onBetResBack=function(e){Log.log("onBetResBack",e),App.EasyLoading.hideLoading(),this.getSgjModel().userMoney=e.balance,this.applyFunc(t.sgjControllerCon.onBetResBack,e)},i.prototype.onGameBetInfoNotifyBack=function(e){Log.log("onGameBetInfoNotifyBack",e),this.applyFunc(t.sgjControllerCon.onGameBetInfoNotifyBack,e)},i.prototype.onPlayerBetInfoNotifyBack=function(e){Log.log("onPlayerBetInfoNotifyBack",e),this.applyFunc(t.sgjControllerCon.onPlayerBetInfoNotifyBack,e)},i.prototype.onGameResultNotifyBack=function(e){Log.log("onGameResultNotifyBack",e),this.getSgjModel().lotteryType=e.open_type,this.getSgjModel()._mTotalScore=e.total_win_money,this.getSgjModel()._mAwardList=[],this.getSgjModel()._mScoreAward=0,this.getSgjModel().userMoney=e.balance;for(var i=0;i<e.open_place_results.length;i++){var o=e.open_place_results[i],n={place:o.place,open_place:o.open_place,win_money:o.win_money};this.getSgjModel()._mAwardList.push(n)}Log.log(this.getSgjModel()._mAwardList),this.applyFunc(t.sgjControllerCon.onGameResultNotifyBack,e)},i.prototype.onChartResBack=function(e){if(Log.log("onChartResBack",e),e.chart_infos.length){this.getSgjModel()._mAwardList=[];var i=e.chart_infos[0].open_places;this.getSgjModel().drawsNum=i,this.getSgjModel()._winpos=i[0];for(var o=0;o<i.length;o++){var n=i[o],s={place:0,open_place:n,win_money:0};this.getSgjModel()._mAwardList.push(s)}Log.log(this.getSgjModel()._mAwardList),e.chart_infos.length>50&&e.chart_infos.splice(0,50);for(var r=[],a=e.chart_infos,h=0;h<a.length;h++){for(var l=a[h],p=0;p<l.open_places.length;p++)if(12!=l.open_places[p]&&24!=l.open_places[p]){var s={open_place:l.open_places[p],open_type:l.open_type,open_num:this.getSgjModel().historyNum};r.push(s),this.getSgjModel()._recordHistory.push(s)}this.getSgjModel().historyNum+=1}r.length>50?this.getSgjModel()._recordHistory=[].concat(r.splice(0,50)):this.getSgjModel()._recordHistory=[].concat(r)}Log.log(this.getSgjModel()._recordHistory),this.getSgjModel().initGameMss[t.sgjControllerCon.onGame_MSG.chart]=App.CommonUtils.copyDataHandler(e),this.applyFunc(t.sgjControllerCon.onChartResBack,e)},i.prototype.onRankingListResBack=function(e){Log.log("onRankingListResBack",e),this.applyFunc(t.sgjControllerCon.onRankingListResBack,e),App.EasyLoading.hideLoading()},i.prototype.onSpecialPlayerNotifyBack=function(e){Log.log("onSpecialPlayerNotifyBack",e),this.getSgjModel().initGameMss[t.sgjControllerCon.onGame_MSG.special]=App.CommonUtils.copyDataHandler(e),this.applyFunc(t.sgjControllerCon.onSpecialPlayerNotifyBack,e)},i.prototype.onSpecialPlayerActionNotifyBack=function(e){Log.log("onSpecialPlayerActionNotifyBack",e),this.applyFunc(t.sgjControllerCon.onSpecialPlayerActionNotifyBack,e)},i.prototype.onCancelBetResBack=function(e){Log.log("onCancelBetResBack",e),App.EasyLoading.hideLoading(),this.getSgjModel().userMoney=e.balance,this.applyFunc(t.sgjControllerCon.onCancelBetResBack,e)},i.prototype.onLastBetNotifyBack=function(e){Log.log("onLastBetNotifyBack",e),this.applyFunc(t.sgjControllerCon.onLastBetNotifyBack,e)},i.prototype.onBaseBetNotify=function(e){Log.log("onBaseBetNotify",e),this.getSgjModel().initGameMss[t.sgjControllerCon.onGame_MSG.basebet]=App.CommonUtils.copyDataHandler(e),this.applyFunc(t.sgjControllerCon.onBaseBetNotifyBack,e)},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.addListener(t.sgjControllerCon.NET_MSG.PLAYER_INFO_NOTIFY,this.onPlayerInfoNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Online_Count_Notify,this.onOnlineCountNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Issue_Notify,this.onIssueNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.State_Notify,this.onStateNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Limit_Notify,this.onLimitNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Bet_Res,this.onBetResBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Player_Bet_Info_Notify,this.onPlayerBetInfoNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Game_Bet_Info_Notify,this.onGameBetInfoNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Game_Result_Notify,this.onGameResultNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Chart_Res,this.onChartResBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Ranking_List_Res,this.onRankingListResBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Special_Player_Notify,this.onSpecialPlayerNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Special_Player_Action_Notify,this.onSpecialPlayerActionNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Cancel_Bet_Res,this.onCancelBetResBack,this),this.addListener(t.sgjControllerCon.NET_MSG.Last_Bet_Notify,this.onLastBetNotifyBack,this),this.addListener(t.sgjControllerCon.NET_MSG.BASE_BET_NOTIFY,this.onBaseBetNotify,this)},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),e.prototype.removeMsgEventAll.call(this,this)},i.prototype.requestBet=function(e){App.EasyLoading.showOnTimeOutDealy(),this.send(t.sgjControllerCon.NET_MSG.Bet_Req,e)},i.prototype.requestRevokeBet=function(){App.EasyLoading.showOnTimeOutDealy(),this.send(t.sgjControllerCon.NET_MSG.Cancel_Bet_Req)},i.prototype.winRecord=function(){this.send(t.sgjControllerCon.NET_MSG.Chart_Req,{table_id:0})},i.prototype.ranking=function(e){this.send(t.sgjControllerCon.NET_MSG.Ranking_List_Req,e)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.removeEvent()},i}(base.GameProxy);t.GameProxy=e,__reflect(e.prototype,"sgj.GameProxy")}(sgj||(sgj={}));var sgj;!function(t){var e=function(){function e(){}return e.setBetMusic=function(t){switch(t){case 0:App.SoundManager.playEffect("SGJxiazhu1_mp3");break;case 1:App.SoundManager.playEffect("SGJxiazhu2_mp3");break;case 2:App.SoundManager.playEffect("SGJxiazhu3_mp3");break;case 3:App.SoundManager.playEffect("SGJxiazhu4_mp3");break;case 4:App.SoundManager.playEffect("SGJxiazhu5_mp3");break;case 5:App.SoundManager.playEffect("SGJxiazhu6_mp3");break;case 6:App.SoundManager.playEffect("SGJxiazhu7_mp3");break;case 7:App.SoundManager.playEffect("SGJxiazhu8_mp3")}},e.textReminder=function(e,i,o){var n=null;switch(e){case t.SgjBetResultCode.BetErrorPlace:n="下注位置错误";break;case t.SgjBetResultCode.BetErrorMoney:n="下注金额异常";break;case t.SgjBetResultCode.BetErrorState:n="非投注阶段，请稍后";break;case t.SgjBetResultCode.BetErrorOutLimitMin:n="当前投注限红为"+i+"~"+o;break;case t.SgjBetResultCode.BetErrorOutLimitMax:n=o?"当前投注限红为"+i+"~"+o:"超出限红,投注失败";break;case t.SgjBetResultCode.BetErrorOutLimitTotal:n="当前投注项已达到总限红,投注失败!";break;case t.SgjBetResultCode.BetErrorNoEnoughMoney:n="没有足够的余额"}App.ScrollTxtTips.showTip(n)},e.btnList={},e}();t.conFun=e,__reflect(e.prototype,"sgj.conFun")}(sgj||(sgj={}));var sgj;!function(t){var e=function(e){function i(t){var i=e.call(this,t,LayerManager.Game_Main,"sgj","GameSkin")||this;return i.winImgList=[],i.fuitIconList=[],i._mPlace={},i.index=0,i._ringlist=[],i.SingleList=[],i._winpos=5,i._index=1,i.imgPos=0,i.imgHighPos=0,i.onlineLight=[],i.maxOne=App.MathUtils.randomInt(1,24),i.nonAward=[],i.randomNum=[2,3,4],i.randomResult=[],i.randomNon=[5,15,21],i.randomWin=[],i.thirdLight=[],i.ThirdIndex=0,i.ThirdNum=0,i.ThirdLength=0,i.trainPos=[],i.randomLuckResult=[],i.luckType=1,i.lightList=[{n:1,m:5},{n:2,m:6},{n:3,m:7},{n:4,m:8},{n:3,m:7},{n:2,m:6},{n:1,m:5}],i.lightList2=[[4,5],[3,4,5,6],[2,3,4,5,6,7],[1,2,3,4,5,6,7,8]],i.lightList3=[[1],[1,2],[1,2,3],[1,2,3,4],[1,2,3,4,5],[1,2,3,4,5,6],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7,8]],i.lightList5=[1,2,3,4,5,6,7,8],i.lightList6={1:8,2:7,3:6,4:5,5:4,6:3,7:2,8:1},i.lightIndex=0,i.lightIndex2=0,i.lightIndex3=0,i.lightIndex6=0,i.lightIndex7=0,i.indextype=0,i.indextypePos=[],i._sgjBones=null,i.boneList=[],i.boneName=["light","sweep"],i._sgjMessage.initComponent(t),i._sgjButtonBtn.initComponent(t),i._sgjToorBar.initComponent(t),i._sgjOuterLight.initComponent(t),i._posList={},i._imageList={},i}return __extends(i,e),i.prototype.initUI=function(){e.prototype.initUI.call(this),this.createHeadPosition();for(var t=1;3>=t;t++)this._posList[t+0]={x:229.33,y:176.06-50*(t-1)},this._posList[t+3]={x:322.33+93*(t-1),y:77.06},this._posList[t+6]={x:600.33+93*(t-1),y:77.06},this._posList[t+9]={x:789.33,y:127.06+50*(t-1)},this._posList[t+12]={x:789.33,y:276.06+50*(t-1)},this._posList[t+15]={x:695.33-93*(t-1),y:375.06},this._posList[t+18]={x:416.33-93*(t-1),y:375.06},this._posList[t+21]={x:229.33,y:326.06-50*(t-1)};var i=this._imageList;i[1]=i[7]=i[13]=i[19]=0,i[8]=1,i[3]=i[15]=2,i[14]=3,i[9]=i[21]=4,i[20]=5,i[4]=i[16]=6,i[2]=7,i[10]=8,i[11]=9,i[22]=10,i[23]=11,i[18]=12,i[17]=13,i[6]=14,i[5]=15,this._sgjToorBar._copeImageList=this._imageList;var o=this.fuitIconList;o[1]=o[7]=o[8]=o[13]=o[19]=0,o[3]=o[14]=o[15]=1,o[9]=o[20]=o[21]=2,o[2]=o[4]=o[16]=3,o[10]=o[11]=4,o[22]=o[23]=5,o[17]=o[18]=6,o[5]=o[6]=7,this.initBroadcast(this),this.btnRedPacket2=RedPackBone.create(),this.btnRedPacket2.init(),this.GroupMain.addChild(this.btnRedPacket2),this.btnRedPacket2.x=39,this.btnRedPacket2.y=128,this.btnRedPacket2.play(RedPackBone.Animation1),this.btnRedPacket2.touchEnabled=!0},i.prototype.open=function(t){e.prototype.open.call(this),this._mMoudel=t;var i=this;i.createAperture(),i.runouterShowLight(),i.betInitData(),i.upUserInfo(),i._sgjToorBar.toolInitUI(),this._sgjMessage.initInfo(),this.setUserBet(0),this.applyFunc("requestWinRecord"),App.SoundManager.playBg("SGJbgm_mp3"),this._sgjButtonBtn.buttonIniUI(),this.reChargeEffect(),this.moneyGroup.touchChildren=!1,this.moneyGroup.touchEnabled=!0,this.moneyGroup.visible=!App.isWebDecorate},i.prototype.upUserInfo=function(){this._mMoudel.userId=this._mMoudel.player.getUserId(),this._sgjMessage.setUserImage("ui_headImg_"+this._mMoudel.player.getAvatar()),this._sgjMessage.setUserFrame("ui_headBox_"+this._mMoudel.player.getAvatarBox()),this._sgjMessage.setUserName(this._mMoudel.player.getNickName()),this.gameSetMoney(App.CommonUtils.money2Str(this._mMoudel.player.getMoney()))},i.prototype.createHeadPosition=function(){this._sgjButtonBtn.createHeadPosition()},i.prototype.maskAppears=function(){this.maskBar.visible=!0},i.prototype.closeMaskAppears=function(){this.maskBar.visible=!1},i.prototype.startGameLight=function(){this.stopAllTwinkleAperture(),this.hideAllAperture();for(var t=this._mMoudel._mAwardList,e=0;e<t.length;e++){var i=t[e].open_place-1,o=this.imageLight.getChildAt(i);o.visible=!0,o.alpha=1}},i.prototype.InitUpdateImage=function(t){this.hideAllAperture();for(var e=0;t>e;e++){var i=t[e]-1,o=this.imageLight.getChildAt(i);o.alpha=1}},i.prototype.avatarShake=function(t){this._sgjMessage.avatarShake(t)},i.prototype.setInformation=function(t){var e=t.nick_name,i="ui_headImg_json.ui_headImg_"+(t.user_head?t.user_head:t.user_head+1),o=App.CommonUtils.money2Str(t.balance),n=t.play_role;this._sgjMessage.setPluteImage(i,n),this._sgjMessage.setPluteName(e,n),this.specialPlayerMoney(o,n),this._sgjMessage.playerDisplay(n)},i.prototype.specialPlayerMoney=function(t,e){this._sgjMessage.specialPlayerMoney(t,e)},i.prototype.revokeSpecialPlayerMoney=function(t,e){for(var i in this._mMoudel.playerIds)if(this._mMoudel.playerIds[i]==e){this._mMoudel.specialMoney[i]=t;var o=App.CommonUtils.money2Str(t);this.specialPlayerMoney(o,i)}},i.prototype.playerWinMoney=function(t,e){this._sgjMessage.playerWinMoney(t,e)},i.prototype.getMoneyLight=function(t){this._sgjMessage.getMoneyLight(t)},i.prototype.starFly=function(e){var i=this._sgjMessage.getPoint(),o=this._sgjButtonBtn.getParabolicPoint(e),n=this._sgjButtonBtn.getStarEndPoint(e),s=t.StarExpand.create();if(s){s.init(this);var r=500+50*e;s.run(i,o,n,r,function(){this._sgjButtonBtn.showStar(e),this._mPlace[e]=null}.bind(this),this)}},i.prototype.hideStar=function(){this._sgjButtonBtn.hideStar()},i.prototype.gameGetMoney=function(){return this._sgjMessage.gameGetMoney()},i.prototype.gameSetMoney=function(t){this._sgjMessage.gameSetMoney(t)},i.prototype.setUserBet=function(t){this._sgjMessage.setUserBet(t)},i.prototype.setWinTotalScore=function(t){this.winTotalScore.text=App.CommonUtils.money(t).toFixed(1)+""},i.prototype.setPersonalBetMoney=function(t,e){this._sgjButtonBtn.setPersonalBetMoney(t,e)},i.prototype.setentireBetMoney=function(t,e){this._sgjButtonBtn.setentireBetMoney(t,e)},i.prototype.setMultipleNum=function(t){this._sgjButtonBtn.setMultipleNum(t)},i.prototype.setTimeNum=function(t){this.setMultipleNum(t[0]),this._sgjButtonBtn.setAllTimeNum();for(var e=0;e<t.length;e++)if(4>e){var i=t[e];this._sgjButtonBtn.setTimeNum(e,i)}},i.prototype.setonlineNum=function(t){this._sgjToorBar.setonlineNum(t)},i.prototype.onlineShake=function(){this._sgjToorBar.onlineShake()},i.prototype.allButtonAshed=function(){this._sgjButtonBtn.allButtonAshed()},i.prototype.allButtonLight=function(){this._sgjButtonBtn.allButtonLight()},i.prototype.continueBetLight=function(){this._sgjButtonBtn.continueBetLight()},i.prototype.continueBetAshed=function(){this._sgjButtonBtn.continueBetAshed()},i.prototype.revokeBetAshed=function(){this._sgjButtonBtn.revokeBetAshed()},i.prototype.revokeBetLight=function(){this._sgjButtonBtn.revokeBetLight()},i.prototype.overBet=function(){this._mMoudel.truebet.length&&(this._mMoudel.upperBureauchip.length=0,this._mMoudel.upperBureauchip=[],this._mMoudel.upperBureauchip=[].concat(this._mMoudel.truebet)),egret.Tween.removeTweens(this),this.allButtonAshed(),this.stopTimes(),this.cleanBetList()},i.prototype.cleanBetList=function(){for(var t=0;8>t;t++)this._mMoudel.betList[t]=0},i.prototype.recordCardDisplay=function(t){this._sgjToorBar.renderBead(t)},i.prototype.cleanState1=function(){egret.Tween.removeTweens(this),this.betInitData(),this.allButtonLight(),this.revokeBetAshed(),this.cleanMoneyLight(),this._mMoudel.upperBureauchip.length?this.continueBetLight():this.continueBetAshed(),this._mMoudel._specialPlayer=[],this._mMoudel._allBetPos=[],this._mMoudel._isFlylist=[],this.hideStar(),this._sgjButtonBtn.clearFlyWinChip(),this._sgjButtonBtn.removebetFiyChips()},i.prototype.betInitData=function(){this._sgjButtonBtn.clearAllBetMoney(),this.betTotalScore.text="0.0",this.winTotalScore.text="0.0"},i.prototype.clearBetMoney=function(){this._sgjButtonBtn.clearBetMoney()},i.prototype.btnNumShake=function(t,e){this._sgjButtonBtn.btnNumShake(t,e)},i.prototype.btnAllNumShake=function(){var t=this.betTotalScore;common.GUtils.numShake(t)},i.prototype.btnRewardNumShake=function(){var t=this.winTotalScore;common.GUtils.numShake(t)},i.prototype.marryRunNumShake=function(t){if(!(t>=this._mMoudel._mAwardList.length)){var e=this._mMoudel._mAwardList[t].win_money;e>0&&this.btnRewardNumShake()}},i.prototype.scaleAllBetMoney=function(){this._sgjButtonBtn.scaleAllBetMoney(),this.winTotalScore.scaleX=1,this.winTotalScore.scaleY=1,this.betTotalScore.scaleX=1,this.betTotalScore.scaleY=1},i.prototype.flyWinChip=function(){this._sgjButtonBtn.flyWinChip()},i.prototype.createFlyCoin=function(t,e){this._sgjButtonBtn.createFlyCoin(t,e)},i.prototype.createWinChip=function(t,e){this._sgjButtonBtn.createWinChip(t,e)},i.prototype.runouterShowLight=function(){this._sgjOuterLight.runouterShowLight()},i.prototype.sgjCountdownTimer=function(t){this.index=0;var e=Math.round(t/1e3);this.sgjTime.text=e+"",this.timeGroup.visible=!0,this.index=e,App.TimerManager.removeAll(this),App.TimerManager.doTimer(1e3,e,this.start,this,this.over,this)},i.prototype.start=function(){return this.index--,this.index<=5&&this.index>0?(this.sgjTime.textColor=16711680,common.GUtils.numShake(this.sgjTime),App.SoundManager.playEffect("SGJdaojishi_mp3")):this.sgjTime.textColor=16777215,this.index<0?(this.index=0,this.sgjTime.text=""+this.index,void App.TimerManager.removeAll(this)):void(this.sgjTime.text=""+this.index)},i.prototype.over=function(){this.index=0,this.sgjTime.text="",this.timeGroup.visible=!1,this.sgjTime.textColor=16777215,this.overBet()},i.prototype.stopTimes=function(){App.TimerManager.removeAll(this),this.index=0,this.sgjTime.text="",this.timeGroup.visible=!1,this.sgjTime.textColor=16777215},i.prototype.createAperture=function(){this.clearAperture();for(var t=0;6>t;t++){var e=new eui.Image;e.source="sgj_table_json.xysgj_ui_paodengkuang",e.width=101,e.height=57,e.alpha=0,e.name=t+"",e.x=0,e.y=0,this.GroupMain.addChild(e),this._ringlist.push(e)}},i.prototype.createSingleAperture=function(t){var e=new eui.Image;e.source="sgj_table_json.xysgj_ui_paodengkuang",e.width=101,e.height=57,e.alpha=1,e.x=this._posList[t].x,e.y=this._posList[t].y,this.GroupMain.addChild(e),this.SingleList.push(e)},i.prototype.SingletwinkleAperture=function(){for(var t=0;t<this.SingleList.length;t++){var e=this.SingleList[t];App.EffectUtils.startFlicker(e,100)}},i.prototype.SingleStoptwinkleAperture=function(){for(var t=0;t<this.SingleList.length;t++){var e=this.SingleList[t];App.EffectUtils.stopFlicker(e)}},i.prototype.SingclearAperture=function(){if(this.SingleList.length)for(var t=0;t<this.SingleList.length;t++){var e=this.SingleList[t];e.parent&&e.parent.removeChild(e)}this.SingleList=[]},i.prototype.clearAperture=function(){if(this._ringlist.length)for(var t=0;t<this._ringlist.length;t++){var e=this._ringlist[t];e.parent&&e.parent.removeChild(e)}this._ringlist=[]},i.prototype.hideAperture=function(){for(var t=1;t<this._ringlist.length;t++){var e=this._ringlist[t];e.alpha=0}},i.prototype.twinkleAperture=function(){for(var t=0;t<this._mMoudel._mAwardList.length;t++){var e=this._mMoudel._mAwardList[t],i=e.open_place-1,o=this.imageLight.getChildAt(i);e.win_money>0&&App.EffectUtils.startFlicker(o,100)}},i.prototype.stopTwinkleAperture=function(){for(var t=0;t<this._mMoudel._mAwardList.length;t++){var e=this._mMoudel._mAwardList[t].open_place-1,i=this.imageLight.getChildAt(e);App.EffectUtils.stopFlicker(i),i.alpha=1}},i.prototype.stopAllTwinkleAperture=function(){for(var t=0;24>t;t++){var e=this.imageLight.getChildAt(t);App.EffectUtils.stopFlicker(e),e.alpha=0}},i.prototype.getnum=function(t){for(var e in this._imageList)if(this._imageList[e]==t)return e},i.prototype.marryStartUp=function(){var t=0,e=this;t=this._winpos-1,this.winImgList=[],this.nonAward=[],this.thirdLight=[],this.winImgList.length=0,this.nonAward.length=0,App.TimerManager.removeAll(this),App.SoundManager.playEffect("SGJqidong_mp3"),App.TimerManager.doTimer(320,5,function(){var i=++t%24+1;
e._index+=1,e.imgPos=i,e._index<3?e.updateImage(i,e._index):e.updateImage(i,3)},this,function(){App.TimerManager.removeAll(this),this.marryHighSpeed(this.imgPos),e._index=1},this)},i.prototype.marryHighSpeed=function(t){var e=t-1,i=this,o=0,n=this._mMoudel._mAwardList[0].open_place;this.winImgList.push(n),this.createLuckRandomNum(n);var s=n-e,r=0;s>0&&8>=s?r=72+(24-(8-s)):s>0&&s>8?r=72+(s-8):0>s?r=72+(24-(8-s)):0==s&&(r=88),App.SoundManager.playEffect("SGJgaosu_mp3"),App.TimerManager.doFrame(1.5,r,function(){var t=++e%24+1;o+=1,i.imgHighPos=t,2>=o?i.updateImage(t,3+o):i.updateImage(t,5)},this,function(){App.TimerManager.removeAll(this),i.updateMarry(this.imgHighPos,n)},this)},i.prototype.updateMarry=function(t,e){var i=t-1,o=this;this._mMoudel.countTotalScore(0),App.SoundManager.stopEff("SGJgaosu_mp3"),App.SoundManager.playEffect("SGJjiansu_mp3"),App.TimerManager.doTimer(190,99,function(){var t=++i%24+1;o.updateImage(t,1),t==e&&(this._winpos=t,App.TimerManager.removeAll(this),this.createRandomNum(t),R.setTimeOnce(function(){this.resultScore()},this,200))},this)},i.prototype.resultScore=function(){this.setWinTotalScore(this._mMoudel._mScoreAward),this.marryRunNumShake(0);var t=this._mMoudel._mAwardList.length;1==t&&3==this._mMoudel.lotteryType?this.singleOpen(this._mMoudel._mScoreAward):2==t&&1==this._mMoudel.lotteryType?(App.SoundManager.playEffect("SGJduokaichufa_mp3"),App.TimerManager.doTimer(100,14,function(){this.changeInLight2()},this),R.setTimeOnce(function(){this.moreOpenOne()},this,1500)):t>2&&4>=t&&1==this._mMoudel.lotteryType?(App.SoundManager.playEffect("SGJduokaichufa_mp3"),App.TimerManager.doTimer(100,14,function(){this.changeInLight2()},this),R.setTimeOnce(function(){this.moreOpenTwo()},this,1500)):t>4&&1==this._mMoudel.lotteryType?(App.SoundManager.playEffect("SGJduokaichufa_mp3"),App.TimerManager.doTimer(100,14,function(){this.changeInLight2()},this),R.setTimeOnce(function(){this.thirdLight.push(this._winpos),this.moreOpenThird(this._winpos,this._mMoudel._mAwardList[1].open_place)},this,1500)):t>=4&&2==this._mMoudel.lotteryType?(App.SoundManager.playEffect("SGJhuochechufa_mp3"),App.TimerManager.doTimer(100,29,function(){this.changeInLight2()},this),R.setTimeOnce(function(){var t=this._mMoudel._mAwardList.length-1;this.runningTrain(t)},this,3e3)):0==this._mMoudel.lotteryType&&(App.SoundManager.playEffect("SGJluckchufa_mp3"),App.TimerManager.doTimer(100,20,function(){this.changeInLight2()},this),this.luckSendLight())},i.prototype.singleOpen=function(t){R.removeAllTimeOut(this),t>0&&(this.twinkleAperture(),App.TimerManager.doTimer(100,19,function(){this.changeInLight()},this)),R.setTimeOnce(function(){this.stopTwinkleAperture(),this.settlementStage()},this,2e3)},i.prototype.settlementStage=function(){this._mMoudel.isRecord=!0,R.removeAllTimeOut(this);for(var e=this.getLotteryResults(),i=[],o=this,n=this._mMoudel._specialPlayer,s=0;s<e.length;s++){var r=this._imageList[e[s]];i.push(r)}this.applyFunc(t.sgjControllerCon.settlementStage,i),this.recordFuitflay();for(var a=[],h=[],l=0;l<e.length;l++){var r=this.fuitIconList[e[l]],p=this.findNum(a,r);p||a.push(r)}a=a.concat(this._mMoudel._allBetPos).sort();for(var c=0;c<a.length;c++)a[c]==a[c+1]&&h.push(a[c]);this._mMoudel._mAwardList;if(h.length){for(var g=[],u=0;u<h.length;u++){var d=this._mMoudel.allBetList,m=this._mMoudel._betInfoNotify;(d[h[u]]>0||m[h[u]]>0)&&(this.createWinChip(h[u],4),g.push(h[u]))}R.setTimeOnce(function(){for(var t=0;t<n.length;t++)o.getMoneyLight(n[t]);g.length&&o.getAllMoneyTestLight()},this,4500)}R.setTimeOnce(function(){for(var t=this.getBetLotteryResults(),e=0;e<t.length;e++){var i=t[e];o._sgjButtonBtn.setWinLight(i)}},this,3e3)},i.prototype.getBetLotteryResults=function(){for(var t=[],e=this._mMoudel._mAwardList,i=0;i<e.length;i++){var o=e[i].open_place,n=e[i].place,s=this.findNum(t,n);s||12==o||24==o||t.push(n)}return t},i.prototype.getAllMoneyTestLight=function(){var e=t.sgjBones.create();if(!e.parent){this.addChild(e),e.updateId("money_linght"),e.blendMode=egret.BlendMode.ADD;var i=this._sgjButtonBtn.getWinpos()[4],o=i.x,n=i.y;e.setPosition(o,n),e.play(1),e.addPlayEndCallBack(function(){e.parent&&t.sgjBones.realese(e)},this)}},i.prototype.cleanMoneyLight=function(){this._sgjMessage.cleanMoneyLight();for(var e=this.onlineLight;e.length;){var i=e.pop();i&&t.sgjBones.realese(i)}},i.prototype.recordFuitflay=function(){console.log("水果机最新开奖");for(var t=this.getLotteryResults(),e=this.getIndexNum(),i=[],o=0;o<t.length;o++){var n={open_place:t[o],open_type:this._mMoudel.lotteryType,open_num:e};i.push(n)}this._sgjToorBar.dealRenderBead(i)},i.prototype.getIndexNum=function(){return this._sgjToorBar.getIndexNum()},i.prototype.getLotteryResults=function(){for(var t=[],e=this._mMoudel._mAwardList,i=0;i<e.length;i++){var o=e[i].open_place,n=this.findNum(t,o);n||12==o||24==o||t.push(o)}return t},i.prototype.moreOpenOne=function(){var t=this,e=this._mMoudel._mAwardList[1].open_place;this.winImgList.push(e);var i=this._winpos,o=e-i,n=0;o>0&&(n=o),this._mMoudel.countTotalScore(1),App.TimerManager.removeAll(this),App.SoundManager.playEffect("SGJduokai1_mp3"),App.TimerManager.doFrame(4,99,function(){var o=--i;0==o&&(o=i=24),t.updatemoreOpenOneImage(o,e),o==e&&(App.SoundManager.stopEff("SGJduokai1_mp3"),App.SoundManager.playEffect("SGJduokaikaitu_mp3"),App.TimerManager.removeAll(this),this.closemoreOpenOneImage(),this.setWinTotalScore(this._mMoudel._mScoreAward),this.marryRunNumShake(1),R.setTimeOnce(function(){var t=this._mMoudel._mTotalScore;this.singleOpen(t)},this,200))},this)},i.prototype.updatemoreOpenOneImage=function(t,e){var i=t-1,o=this.imageLight.getChildAt(i);o.alpha=1,t!=e&&this.nonAward.push(i),this.changeInLight3()},i.prototype.closemoreOpenOneImage=function(){for(var t=0;t<this.nonAward.length;t++){var e=this.nonAward[t],i=this.imageLight.getChildAt(e);i.alpha=0}},i.prototype.moreOpenTwo=function(){var t=0;App.TimerManager.removeAll(this),App.TimerManager.doTimer(500,8,function(){t++,8==t?App.SoundManager.playEffect("SGJduokaikaitu_mp3"):App.SoundManager.playEffect("SGJduokai2_mp3");var e=this.getRandomNum();this.hideAllAperture();var i=this._winpos-1,o=this.imageLight.getChildAt(i);o.alpha=1;for(var n=0;n<e.length;n++){var s=e[n]-1,r=this.imageLight.getChildAt(s);r.alpha=1}},this,function(){this.changeWinImg()},this)},i.prototype.changeWinImg=function(){this.hideAllAperture();for(var t=0;t<this._mMoudel._mAwardList.length;t++){var e=this._mMoudel._mAwardList[t].open_place-1,i=this.imageLight.getChildAt(e);i.alpha=1,this._mMoudel.countTotalScore(t+1),this.setWinTotalScore(this._mMoudel._mScoreAward),this.marryRunNumShake(t+1)}R.setTimeOnce(function(){var t=this._mMoudel._mTotalScore;this.singleOpen(t)},this,200)},i.prototype.getRandomNum=function(){var t=[],e=App.MathUtils.randomArray(this.randomNum);this.changeInLight5(e);for(var i=0;e>i;i++){var o=App.MathUtils.randomArray(this.randomResult),n=this.findNum(t,o);n?i-=1:t.push(o)}return t},i.prototype.findNum=function(t,e){for(var i=0;i<t.length;i++)if(e==t[i])return!0;return!1},i.prototype.createRandomNum=function(t){this.randomResult=[];for(var e=1;25>e;e++)12!=e&&24!=e&&e!=t&&this.randomResult.push(e)},i.prototype.moreOpenThird=function(t,e){var i=t-1;this.ThirdLength=0;var o=e-t,n=0;this.ThirdIndex?o>0&&12>o?n=24+o:o>0&&o>=12?n=o:0>o&&-12>o?n=24+(24+o):0>o&&o>=-12?n=24+o:0==o&&(n=24):o>0?n=24+o:0>o?n=24+(24+o):0==o&&(n=24),this._mMoudel.countTotalScore(this.ThirdIndex+1),this.SingletwinkleAperture();var s=this._mMoudel._mAwardList.length-1;App.TimerManager.removeAll(this),App.SoundManager.playEffect("SGJduokai3_mp3"),App.TimerManager.doFrame(4,n,function(){var t=++i%24+1;if(this.ThirdNum=t,this.ThirdLength++,this.changeInLight6(),0==this.ThirdIndex)if(this.ThirdLength<=2*s){var e=(this.ThirdLength%2,Math.floor(this.ThirdLength/2));this.upThirddateImage(t,e)}else this.upThirddateImage(t,s);else this.upThirddateImage(t,s-this.ThirdIndex)},this,function(){if(App.TimerManager.removeAll(this),this.ThirdIndex++,App.SoundManager.stopEff("SGJduokai3_mp3"),App.SoundManager.playEffect("SGJduokaikaitu_mp3"),this.thirdLight.push(this.ThirdNum),this.setWinTotalScore(this._mMoudel._mScoreAward),this.marryRunNumShake(this.ThirdIndex),this.ThirdIndex==s)return this.ThirdIndex=0,this.lightIndex6=0,this.stopTwinkleAperture(),void this.changeLotteryResults();var t=this._mMoudel._mAwardList[this.ThirdIndex+1].open_place;this.moreOpenThird(this.ThirdNum,t)},this)},i.prototype.countAllCycleNum=function(t){for(var e=1;e<this._mMoudel._mAwardList.length;e++){var i=this._mMoudel._mAwardList[e];if(1==e){var o=i-t,n=0;o>0?n=24+o:0>o?n=24+(24-o):0==o&&(n=24)}}},i.prototype.changeLotteryResults=function(){this.hideAllAperture();for(var t=0;t<this._mMoudel._mAwardList.length;t++){var e=this._mMoudel._mAwardList[t].open_place-1,i=this.imageLight.getChildAt(e);i.alpha=1}R.setTimeOnce(function(){var t=this._mMoudel._mTotalScore;this.singleOpen(t)},this,200)},i.prototype.upThirddateImage=function(t,e){this.stopAllTwinkleAperture(),this.hideAllAperture(),this.lotteryAfterLight();var i=t-1,o=this.imageLight.getChildAt(i);if(o.alpha=1,App.EffectUtils.startFlicker(o,100),e>1)for(var n=0;e>n;n++){var s=t-2*n,r=s>=1?s-1:24+s-1,a=this.imageLight.getChildAt(r);a.alpha=1,App.EffectUtils.startFlicker(a,100)}},i.prototype.lotteryAfterLight=function(){for(var t=0;t<this.thirdLight.length;t++){var e=this.thirdLight[t]-1,i=this.imageLight.getChildAt(e);i.alpha=1}},i.prototype.runningTrain=function(t){var e=0;e=this._winpos-1,this.allInLightNormal(),this.lightIndex7=0,App.TimerManager.removeAll(this),App.TimerManager.doTimer(500,t,function(){App.SoundManager.playEffect("SGJhuochezengjia_mp3");var t=++e%24+1;this.imgPos=t;var i=t-1,o=this.imageLight.getChildAt(i);o.alpha=1,App.EffectUtils.startFlicker(o,100),this.lightIndex7++,this["inLight"+this.lightList6[this.lightIndex7]].source="sgj_table_json.xysgj_ui_zhongyangcaideng2"},this,function(){this.stopAllTwinkleAperture(),this.updateTrainImage(this.imgPos,t),this.trainStart(this.imgPos,t)},this)},i.prototype.trainStart=function(t,e){App.TimerManager.removeAll(this);var i=t-1,o=0;App.TimerManager.doFrame(9,4,function(){0==o&&App.SoundManager.playEffect("SGJhuochezhuandong_mp3"),o++;var t=++i%24+1;this.imgPos=t,this.updateTrainImage(t,e),this.changeInLight7(e)},this,function(){App.TimerManager.removeAll(this),this.trainMediumSpeed(this.imgPos,e)},this)},i.prototype.trainMediumSpeed=function(t,e){var i=t-1,o=this,n=this._mMoudel._mAwardList[1].open_place,s=n-i,r=0;s>0&&8>=s?r=168+(24-(8-s)):s>0&&s>8?r=168+(s-8):0>s?r=168+(24-(8-s)):0==s&&(r=184),App.SoundManager.stopBg(),App.TimerManager.doFrame(3,r,function(){var t=++i%24+1;this.imgPos=t,o.updateTrainImage(t,e),o.changeInLight7(e)},this,function(){App.TimerManager.removeAll(this),o.updateTrainMarry(this.imgPos,n,e)},this)},i.prototype.updateTrainMarry=function(t,e,i){var o=t-1,n=this;App.TimerManager.doFrame(9,99,function(){var t=++o%24+1;n.imgPos=t,n.updateTrainImage(t,i),n.changeInLight7(i),t==e&&(App.SoundManager.playBg("SGJbgm_mp3"),App.SoundManager.stopEff("SGJhuochezhuandong_mp3"),App.TimerManager.removeAll(this),this.lightIndex7=0,R.setTimeOnce(function(){this.resultTwinkle(this.imgPos,i)},this,200))},this)},i.prototype.resultTwinkle=function(t,e){this.changeInLightTwoker();for(var i=function(){var t=o.trainPos[n],e=o.imageLight.getChildAt(t);o._mMoudel.countTotalScore(n+1),R.setTimeOnce(function(){App.SoundManager.playEffect("SGJduokaikaitu_mp3"),e.alpha=0,this.winlossTrain(e),this.setWinTotalScore(this._mMoudel._mScoreAward),this.marryRunNumShake(n+1)},o,500*n)},o=this,n=0;n<this.trainPos.length;n++)i();R.setTimeOnce(function(){var t=this._mMoudel._mTotalScore;this.singleOpen(t)},this,200+500*e)},i.prototype.winlossTrain=function(t){R.setTimeOnce(function(){t.alpha=1},this,500)},i.prototype.updateTrainImage=function(t,e){this.trainPos=[],this.hideAllAperture();var i=this._winpos-1,o=this.imageLight.getChildAt(i);o.alpha=1;var n=t-1,s=this.imageLight.getChildAt(n);if(s.alpha=1,e>1)for(var r=0;e>r;r++){var a=t-r,h=a>=1?a-1:24+a-1;this.trainPos.unshift(h);var l=this.imageLight.getChildAt(h);l.alpha=1}},i.prototype.luckSendLight=function(){App.TimerManager.removeAll(this),App.TimerManager.doTimer(290,7,function(){this.hideAllAperture();var t=this.imageLight.getChildAt(this._winpos-1);t.alpha=1,this.luckType=0==this.luckType?1:0,this.changeInLight8(this.luckType);for(var e=0;e<this.randomLuckResult.length;e++){var i=this.randomLuckResult[e],o=i%2,n=i-1;if(0==this.luckType&&0==o){var s=this.imageLight.getChildAt(n);s.alpha=1}else if(1==this.luckType&&1==o){var s=this.imageLight.getChildAt(n);s.alpha=1}}},this,function(){App.TimerManager.removeAll(this),this.luckType=1,this.hideAllAperture();var t=this._winpos-1,e=this.imageLight.getChildAt(t);e.alpha=1,this.luckRunLight()},this)},i.prototype.luckRunLight=function(){var t=this._mMoudel._mAwardList.length;2==t?this.moreOpenOne():t>2&&4>=t?this.moreOpenTwo():t>4&&(this.thirdLight.push(this._winpos),this.moreOpenThird(this._winpos,this._mMoudel._mAwardList[1].open_place))},i.prototype.createLuckRandomNum=function(t){this.randomLuckResult=[];for(var e=1;25>e;e++)e!=t&&this.randomLuckResult.push(e)},i.prototype.updateImage=function(t,e){this.hideAllAperture();var i=t-1,o=this.imageLight.getChildAt(i);if(o.alpha=1,e>1)for(var n=0;e>n;n++){var s=t-n,r=s>=1?s-1:24+s-1,a=this.imageLight.getChildAt(r);a.alpha=1}this.changeInLight()},i.prototype.hideAllAperture=function(){for(var t=0;24>t;t++){var e=this.imageLight.getChildAt(t);e.alpha=0}},i.prototype.changeImage=function(t,e){var i=this._ringlist[0];if(i.x=this._posList[t].x,i.y=this._posList[t].y,i.alpha=1,1==e)this.hideAperture();else for(var o=0;e>o;o++){var n=this._ringlist[o+1],s=t-o,r=s>=1?s:24+s;n.x=this._posList[r].x,n.y=this._posList[r].y,n.alpha=1}},i.prototype.changeInLight=function(){this.allInLightNormal();var t=this.lightList[this.lightIndex];for(var e in t){var i=t[e];this["inLight"+i].source="sgj_table_json.xysgj_ui_zhongyangcaideng2"}this.lightIndex++,this.lightIndex>=7&&(this.lightIndex=0)},i.prototype.changeInLight2=function(){this.allInLightNormal();for(var t=this.lightList2[this.lightIndex2],e=0;e<t.length;e++){var i=t[e];this["inLight"+i].source="sgj_table_json.xysgj_ui_zhongyangcaideng2"}this.lightIndex2++,this.lightIndex2>=4&&(this.lightIndex2=0)},i.prototype.changeInLight3=function(){this.allInLightNormal();for(var t=this.lightList3[this.lightIndex3],e=0;e<t.length;e++){var i=t[e];this["inLight"+i].source="sgj_table_json.xysgj_ui_zhongyangcaideng2"}this.lightIndex3++,this.lightIndex3>=8&&(this.lightIndex3=0)},i.prototype.changeInLight5=function(t){this.allInLightNormal();for(var e=0;t>e;e++){var i=App.MathUtils.randomArray(this.lightList5);this["inLight"+i].source="sgj_table_json.xysgj_ui_zhongyangcaideng2"}},i.prototype.changeInLight6=function(){var t=++this.lightIndex6%8+1;if(this.lightIndex6<=8){var e=(this.lightIndex6%2,Math.floor(this.lightIndex6/2));this.changeInLight6Img(t,e)}else this.changeInLight6Img(t,4)},i.prototype.changeInLight6Img=function(t,e){if(this.allInLightNormal(),this["inLight"+this.lightList6[t]].source="sgj_table_json.xysgj_ui_zhongyangcaideng2",e>1)for(var i=0;e>i;i++){var o=t-2*i,n=o>=1?o:8+o;this["inLight"+this.lightList6[n]].source="sgj_table_json.xysgj_ui_zhongyangcaideng2"}},i.prototype.changeInLight7=function(t){this.allInLightNormal(),this.indextypePos=[];var e=++this.lightIndex7%8+1;if(this["inLight"+this.lightList6[e]].source="sgj_table_json.xysgj_ui_zhongyangcaideng2",t>1)for(var i=0;t>i;i++){var o=e-i,n=o>=1?o:8+o;this.indextypePos.unshift(n),this["inLight"+this.lightList6[n]].source="sgj_table_json.xysgj_ui_zhongyangcaideng2"}},i.prototype.changeInLight8=function(t){this.allInLightNormal();for(var e=1;9>e;e++){var i=e%2;0==t&&0==i?this["inLight"+this.lightList6[e]].source="sgj_table_json.xysgj_ui_zhongyangcaideng2":1==t&&1==i&&(this["inLight"+this.lightList6[e]].source="sgj_table_json.xysgj_ui_zhongyangcaideng2")}},i.prototype.changeInLightTwoker=function(){for(var t=function(){var t=e.indextypePos[i],o=e["inLight"+e.lightList6[t]];e["inLight"+e.lightList6[t]].source="sgj_table_json.xysgj_ui_zhongyangcaideng2",R.setTimeOnce(function(){o.alpha=0,this.winlosschangeInLight(o)},e,500*i)},e=this,i=0;i<this.indextypePos.length;i++)t()},i.prototype.winlosschangeInLight=function(t){R.setTimeOnce(function(){t.alpha=1},this,500)},i.prototype.allInLightNormal=function(){for(var t=1;9>t;t++)this["inLight"+t].source="sgj_table_json.xysgj_ui_zhongyangcaideng1"},i.prototype.initBones=function(){this._sgjBones||(this._sgjBones=t.sgjBones.create())},i.prototype.initRenders=function(){if(!this._sgjBones.parent){this.settlement.addChild(this._sgjBones),this._sgjBones.updateId("fruit");var t=this.sunImage.x+258.5,e=this.sunImage.y+257.5;this._sgjBones.setPosition(t,e),this._sgjBones.play(99999)}},i.prototype.settlementAnimation=function(){this.initBones(),this.initRenders()},i.prototype.closetAnimation=function(){this._sgjBones&&this._sgjBones.parent&&(this._sgjBones.stopGame(),this._sgjBones.parent.removeChild(this._sgjBones))},i.prototype.clear=function(){this._sgjBones.stopGame(),R.removeFromParent(this),this.removeChildren()},i.prototype.onOpenRedPac=function(){App.ViewManager.open(LobbyViewConst.RedPacket),this.btnRedPacket2.play(RedPackBone.Animation1)},i.prototype.RedPackNotify=function(){this.btnRedPacket2.play(RedPackBone.Animation)},i.prototype.RedEnvelopeBack=function(){this.btnRedPacket2.play(RedPackBone.Animation1)},i.prototype.reChargeEffect=function(){this.diceInit(),this.diceInitRenders()},i.prototype.diceInit=function(){if(!this.boneList.length)for(var e=0;2>e;e++){var i=t.sgjBones.create();this.boneList.push(i)}},i.prototype.diceInitRenders=function(){for(var t=0;2>t;t++)if(!this.boneList[t].parent){var e=this.boneName[t];this.moneyGroup.addChild(this.boneList[t]),this.boneList[t].updateId(e);var i=43.5,o=30;this.boneList[t].setPosition(i,o),this.boneList[t].play(0)}},i.prototype.clearbone=function(){var t=this.boneList;if(t)for(;t.length;){var e=t.pop();e&&e.destroy()}},i.prototype.payMoney=function(){App.SoundManager.playEffect("SGJanniu_mp3"),this.applyFunc("sgjGoRechargeMoney")},i.prototype.onClickBackLobby=function(){this.applyFunc("onClickBackLobby")},i.prototype.onClickBtnBet=function(){this.marryStartUp()},i.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._sgjButtonBtn.addEvent(),this._sgjToorBar.addEvent(),this.btnRedPacket2.addEventListener(egret.TouchEvent.TOUCH_END,this.onOpenRedPac,this),App.MessageCenter.addListener(RedPacketConst.newRedEnvelopeNotity,this.RedPackNotify,this),App.MessageCenter.addListener(RedPacketConst.grabRedEnvelopeBack,this.RedEnvelopeBack,this),App.MessageCenter.addListener(RedPacketConst.expiredRedEnvelopeNotify,this.RedEnvelopeBack,this),App.CommonUtils.effectButton(this.moneyGroup,this.payMoney,this,{})},i.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._sgjButtonBtn.removeEvent(),this._sgjToorBar.removeEvent(),this.btnRedPacket2.removeEventListener(egret.TouchEvent.TOUCH_END,this.onOpenRedPac,this),App.MessageCenter.removeListener(RedPacketConst.newRedEnvelopeNotity,this.RedPackNotify,this),App.MessageCenter.removeListener(RedPacketConst.grabRedEnvelopeBack,this.RedEnvelopeBack,this),App.MessageCenter.removeListener(RedPacketConst.expiredRedEnvelopeNotify,this.RedEnvelopeBack,this),App.CommonUtils.removeButton(this.moneyGroup)},i.prototype.destroy=function(){if(!this._isDestroy){e.prototype.destroy.call(this),Log.log("水果机 GameView destroy"),App.TimerManager.removeAll(this),R.removeAllTimeOut(this),egret.Tween.removeTweens(this),this._sgjButtonBtn.destroy(),this._sgjToorBar.destroy(),this._sgjOuterLight.destroy(),this._sgjMessage.destroy(),this.winImgList=[],this.nonAward=[],this._sgjBones&&this._sgjBones.parent&&(this.settlement.removeChild(this._sgjBones),this.clear(),this._sgjBones.destroy()),this.btnRedPacket2&&(this.btnRedPacket2.parent&&this.btnRedPacket2.parent.removeChild(this.btnRedPacket2),this.btnRedPacket2=void 0);for(var t=this.onlineLight;t.length;){var i=t.pop();i&&i.destroy()}this._sgjBones=void 0,this.clearbone()}},i}(base.GameView);t.GameView=e,__reflect(e.prototype,"sgj.GameView")}(sgj||(sgj={}));